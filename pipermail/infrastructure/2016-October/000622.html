<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ocaml-infra] [ocaml-platform] new repo proposal:	ocaml/ocaml-docker-infra
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:infrastructure%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-infra%5D%20%5Bocaml-platform%5D%20new%20repo%20proposal%3A%0A%09ocaml/ocaml-docker-infra&In-Reply-To=%3C147559023867.14516.5927102157973402343%40vivacious%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000621.html">
   <LINK REL="Next"  HREF="000623.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ocaml-infra] [ocaml-platform] new repo proposal:	ocaml/ocaml-docker-infra</H1>
    <B>Jon Ludlam</B> 
    <A HREF="mailto:infrastructure%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-infra%5D%20%5Bocaml-platform%5D%20new%20repo%20proposal%3A%0A%09ocaml/ocaml-docker-infra&In-Reply-To=%3C147559023867.14516.5927102157973402343%40vivacious%3E"
       TITLE="[ocaml-infra] [ocaml-platform] new repo proposal:	ocaml/ocaml-docker-infra">jonathan.ludlam at citrix.com
       </A><BR>
    <I>Tue Oct  4 15:10:38 BST 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="000621.html">[ocaml-infra] new repo proposal: ocaml/ocaml-docker-infra
</A></li>
        <LI>Next message: <A HREF="000623.html">[ocaml-infra] planet.ocaml.org redirection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#622">[ date ]</a>
              <a href="thread.html#622">[ thread ]</a>
              <a href="subject.html#622">[ subject ]</a>
              <a href="author.html#622">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Quoting Anil Madhavapeddy (2016-10-03 10:07:15)
&gt;<i> Dear all,
</I>&gt;<i> 
</I>&gt;<i> I've been maintaining Docker OCaml/OPAM images for the past year, and they are accruing an increasing numbers of users, primarily via Travis CI tests. I am therefore preparing to document and release the Docker container images and scripts to build them regularly off the ocaml.org infrastructure. The image repositories consist of:
</I>&gt;<i> 
</I>&gt;<i> - OCaml base images: <A HREF="https://hub.docker.com/r/ocaml/ocaml/">https://hub.docker.com/r/ocaml/ocaml/</A>
</I>&gt;<i> - OPAM: <A HREF="https://hub.docker.com/r/ocaml/opam/">https://hub.docker.com/r/ocaml/opam/</A> (a matrix of distributions and OCaml versions)
</I>&gt;<i> - OPAMdev: <A HREF="https://hub.docker.com/r/ocaml/opam-dev/">https://hub.docker.com/r/ocaml/opam-dev/</A> (a snapshot of OPAM development versions, with the same distribution matrix as above).
</I>&gt;<i> 
</I>&gt;<i> There is currently quite a bit of infrastructure around this; each refresh of the repository will trigger off builds to construct binary images of all the distributions above, which in turn can be used by CI infrastructure such as Travis to do multi-distro builds.  The same scripts can be used against your own registries to build custom images.
</I>&gt;<i> 
</I>&gt;<i> The scripts to do this are all open source but currently in my personal GitHub at
</I>&gt;<i> <A HREF="https://github.com/avsm/ocaml-docker-infra/wiki">https://github.com/avsm/ocaml-docker-infra/wiki</A>
</I>&gt;<i> 
</I>&gt;<i> I'm proposing to move the ocaml-docker-infra repository under the ocaml/ GitHub organisation, so that it can sit alongside <A HREF="https://github.com/ocaml/ocaml-ci-scripts.">https://github.com/ocaml/ocaml-ci-scripts.</A>  The license of the scripts is ISC. Please let me know if anyone has any questions or concerns.
</I>&gt;<i>
</I>
This will certainly be of use to the xapi project - we're currently using a mixture of our own docker images and the ocaml-ci-scripts for our testing on Travis, but I'd feel more comfortable moving towards a more standardised set of images. There are probably some minor adaptions we'd need to make, as for a few of our repos the tests involve building RPMs, but this is mainly for our daemons. The more generic libraries we're working on should be testable just using opam, and a larger set of distros/ocaml versions to test with would be quite reassuring.

Jon  

&gt;<i> regards,
</I>&gt;<i> Anil
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Platform mailing list
</I>&gt;<i> <A HREF="http://lists.ocaml.org/listinfo/infrastructure">Platform at lists.ocaml.org</A>
</I>&gt;<i> <A HREF="http://lists.ocaml.org/listinfo/platform">http://lists.ocaml.org/listinfo/platform</A>
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000621.html">[ocaml-infra] new repo proposal: ocaml/ocaml-docker-infra
</A></li>
	<LI>Next message: <A HREF="000623.html">[ocaml-infra] planet.ocaml.org redirection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#622">[ date ]</a>
              <a href="thread.html#622">[ thread ]</a>
              <a href="subject.html#622">[ subject ]</a>
              <a href="author.html#622">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/infrastructure">More information about the Infrastructure
mailing list</a><br>
</body></html>
