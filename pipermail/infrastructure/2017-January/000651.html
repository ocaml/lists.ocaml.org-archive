<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ocaml-infra] New Git repository in ocaml GitHub org
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:infrastructure%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-infra%5D%20New%20Git%20repository%20in%20ocaml%20GitHub%20org&In-Reply-To=%3CE51C5B015DBD1348A1D85763337FB6D9013582BAE7%40Remus.metastack.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000650.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ocaml-infra] New Git repository in ocaml GitHub org</H1>
    <B>David Allsopp</B> 
    <A HREF="mailto:infrastructure%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-infra%5D%20New%20Git%20repository%20in%20ocaml%20GitHub%20org&In-Reply-To=%3CE51C5B015DBD1348A1D85763337FB6D9013582BAE7%40Remus.metastack.local%3E"
       TITLE="[ocaml-infra] New Git repository in ocaml GitHub org">dra-news at metastack.com
       </A><BR>
    <I>Wed Jan 25 16:27:20 GMT 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="000650.html">[ocaml-infra] New Git repository in ocaml GitHub org
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#651">[ date ]</a>
              <a href="thread.html#651">[ thread ]</a>
              <a href="subject.html#651">[ subject ]</a>
              <a href="author.html#651">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thomas Leonard wrote:
&gt;<i> On 25 January 2017 at 13:45, David Allsopp &lt;<A HREF="http://lists.ocaml.org/listinfo/infrastructure">dra-news at metastack.com</A>&gt; wrote:
</I>&gt;<i> &gt; I'm hoping to merge OCaml GPR#1014
</I>&gt;<i> &gt; (<A HREF="https://github.com/ocaml/ocaml/pull/1014">https://github.com/ocaml/ocaml/pull/1014</A>) in advance of the OCaml
</I>&gt;<i> &gt; 4.05 code freeze. The principal aim of this GPR is to stop the Changes
</I>&gt;<i> &gt; file being a constant source of merge conflicts on open pull requests.
</I>&gt;<i> &gt; This is fixed by splitting the Changes file into individual entries
</I>&gt;<i> &gt; which are recombined using a script. At each release, the individual
</I>&gt;<i> &gt; files are merged into Changes and the new Changes file committed in
</I>&gt;<i> &gt; one go (for convenience, in a manner not unrelated to having both
</I>&gt;<i> &gt; configure.ac and configure in a repository).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; It is desirable to keep the fragment files, but these add considerable
</I>&gt;<i> &gt; weight to the main repository (and OCaml sources tarball). I have
</I>&gt;<i> &gt; proposed in the solution using a Git submodule to store the archived
</I>&gt;<i> &gt; entries. The submodule is at present at
</I>&gt;<i> &gt; <A HREF="https://github.com/dra27/ocaml-changelog">https://github.com/dra27/ocaml-changelog</A> and I would like to move this
</I>&gt;<i> &gt; repository to the ocaml namespace. It would be sensible for the
</I>&gt;<i> &gt; repository not to accept pull requests or issues via the GUI and,
</I>&gt;<i> &gt; unless others are keen to be able to perform the OCaml release
</I>&gt;<i> &gt; manager's job, only I (at least for the initial commits) and Damien
</I>&gt;<i> Doligez definitely need push access to it.
</I>&gt;<i> 
</I>&gt;<i> Why do the fragments need to be kept anywhere?
</I>
The question as to why one might keep an output document but not the input sources which generated it I must confess has surprised me, but you live and learn. The fragments obviously form a very primitive database - at the moment the only information contained in that tree which is lost is its structure, but we don't do anything with that, so it's largely moot. 

&gt;<i> If you can explode a changes file
</I>
I can explode a Changes file now. If something were to be changed in the future, then that would require updating both the script which explodes the Changes and the script which recombines the fragments (to add new files). For me, I'd keep the fragments somewhere and not worry about having to explode a Changes file again, as that feels like more work. 

&gt;<i> then you could presumably just configure your Git merge
</I>&gt;<i> driver to do the `merge (explode ours) (explode theirs)` step
</I>&gt;<i> automatically.
</I>
This isn't what's happening - &quot;theirs&quot; is fragment files.

&gt;<i> Looks like there's already one for GNU style ChangeLog files, e.g.
</I>
Would be fine if we had a GMU style ChangeLog! :o)


David
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000650.html">[ocaml-infra] New Git repository in ocaml GitHub org
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#651">[ date ]</a>
              <a href="thread.html#651">[ thread ]</a>
              <a href="subject.html#651">[ subject ]</a>
              <a href="author.html#651">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/infrastructure">More information about the Infrastructure
mailing list</a><br>
</body></html>
