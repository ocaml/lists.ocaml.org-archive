<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ocaml-ctypes] Unsigned int smaller than 32 bits
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:ctypes%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-ctypes%5D%20Unsigned%20int%20smaller%20than%2032%20bits&In-Reply-To=%3C7BA79A45059547C28F16604D4F47F8CC%40erratique.ch%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000035.html">
   <LINK REL="Next"  HREF="000037.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ocaml-ctypes] Unsigned int smaller than 32 bits</H1>
    <B>Daniel B&#252;nzli</B> 
    <A HREF="mailto:ctypes%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-ctypes%5D%20Unsigned%20int%20smaller%20than%2032%20bits&In-Reply-To=%3C7BA79A45059547C28F16604D4F47F8CC%40erratique.ch%3E"
       TITLE="[ocaml-ctypes] Unsigned int smaller than 32 bits">daniel.buenzli at erratique.ch
       </A><BR>
    <I>Sun Dec 22 01:47:48 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000035.html">[ocaml-ctypes] Less copying, a hybrid approach
</A></li>
        <LI>Next message: <A HREF="000037.html">[ocaml-ctypes] Unsigned int smaller than 32 bits
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36">[ date ]</a>
              <a href="thread.html#36">[ thread ]</a>
              <a href="subject.html#36">[ subject ]</a>
              <a href="author.html#36">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

Is there any particular reason why signed int smaller than 32 bits are accessed as ocaml ints but unsigned ints smaller than 32 bits are not ? 

In both cases you need to care about the range if you represent them as ocaml ints, and in both cases you want to represent them by ocaml ints if you don't want ctypes types to leak in the interface. I must be missing something. 

Best, 

Daniel

P.S. Already tired of writing:

let int_as_uint8_t = 
  view ~read:Unsigned.UInt8.to_int ~write:Unsigned.UInt8.of_int uint8_t

let int_as_uint16_t = 
  view ~read:Unsigned.UInt16.to_int ~write:Unsigned.UInt16.of_int uint16_t



</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000035.html">[ocaml-ctypes] Less copying, a hybrid approach
</A></li>
	<LI>Next message: <A HREF="000037.html">[ocaml-ctypes] Unsigned int smaller than 32 bits
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36">[ date ]</a>
              <a href="thread.html#36">[ thread ]</a>
              <a href="subject.html#36">[ subject ]</a>
              <a href="author.html#36">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/ctypes">More information about the Ctypes
mailing list</a><br>
</body></html>
