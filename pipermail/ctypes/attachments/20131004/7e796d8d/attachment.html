<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&gt;&nbsp;I&#39;m&nbsp;preparing&nbsp;to&nbsp;distribute&nbsp;my&nbsp;ctypes-using&nbsp;project&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Can&nbsp;you&nbsp;please&nbsp;provide&nbsp;a&nbsp;link&nbsp;to&nbsp;your&nbsp;project.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;Oct&nbsp;3,&nbsp;2013&nbsp;at&nbsp;1:22&nbsp;PM,&nbsp;Phil&nbsp;Hagelberg&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:phil@hagelb.org&quot;&nbsp;target=&quot;_blank&quot;&gt;phil@hagelb.org&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;&lt;br&gt;<br>
I&#39;m&nbsp;preparing&nbsp;to&nbsp;distribute&nbsp;my&nbsp;ctypes-using&nbsp;project&nbsp;to&nbsp;folks&nbsp;who&nbsp;don&#39;t&lt;br&gt;<br>
have&nbsp;OCaml&nbsp;installed,&nbsp;so&nbsp;I&#39;m&nbsp;compiling&nbsp;a&nbsp;.native&nbsp;executable.&lt;br&gt;<br>
&lt;br&gt;<br>
Most&nbsp;of&nbsp;what&nbsp;I&nbsp;read&nbsp;about&nbsp;distributing&nbsp;OCaml&nbsp;is&nbsp;that&nbsp;for&nbsp;native&nbsp;binaries&lt;br&gt;<br>
you&nbsp;can&nbsp;compile&nbsp;it&nbsp;on&nbsp;any&nbsp;64-bit&nbsp;Linux&nbsp;system,&nbsp;and&nbsp;it&nbsp;should&nbsp;work&nbsp;on&nbsp;any&lt;br&gt;<br>
other&nbsp;64-bit&nbsp;Linux.&nbsp;But&nbsp;I&nbsp;get&nbsp;the&nbsp;feeling&nbsp;libffi&nbsp;complicates&nbsp;things&nbsp;a&lt;br&gt;<br>
bit;&nbsp;my&nbsp;Debian-compiled&nbsp;binary&nbsp;refuses&nbsp;to&nbsp;run&nbsp;on&nbsp;newer&nbsp;Ubuntus&nbsp;(&quot;error&lt;br&gt;<br>
while&nbsp;loading&nbsp;shared&nbsp;libraries:&nbsp;libffi.so.5:&nbsp;cannot&nbsp;open&nbsp;shared&nbsp;object&lt;br&gt;<br>
file&quot;)&nbsp;and&nbsp;straight&nbsp;up&nbsp;segfaults&nbsp;on&nbsp;Fedora&nbsp;19.&lt;br&gt;<br>
&lt;br&gt;<br>
So&nbsp;I&#39;m&nbsp;guessing&nbsp;I&#39;ll&nbsp;need&nbsp;to&nbsp;compile&nbsp;separately&nbsp;for&nbsp;each&lt;br&gt;<br>
distribution/version&nbsp;I&nbsp;want&nbsp;to&nbsp;support?&nbsp;Are&nbsp;there&nbsp;any&nbsp;tools&nbsp;to&nbsp;make&nbsp;this&lt;br&gt;<br>
process&nbsp;more&nbsp;streamlined?&nbsp;I&nbsp;briefly&nbsp;looked&nbsp;at&nbsp;the&nbsp;OpenSuSE&nbsp;Build&lt;br&gt;<br>
Service[1],&nbsp;but&nbsp;it&nbsp;looks&nbsp;pretty&nbsp;complicated.&nbsp;What&nbsp;about&nbsp;different&lt;br&gt;<br>
versions&nbsp;of&nbsp;Mac&nbsp;OS&nbsp;X?&lt;br&gt;<br>
&lt;br&gt;<br>
Also&nbsp;on&nbsp;a&nbsp;somewhat-related&nbsp;note,&nbsp;I&nbsp;have&nbsp;this&nbsp;to&nbsp;find&nbsp;the&nbsp;readline&nbsp;library:&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp;let&nbsp;libreadline&nbsp;=&nbsp;Dl.(dlopen&nbsp;~filename:&quot;libreadline.so&quot;&nbsp;~flags:[RTLD_NOW])&lt;br&gt;<br>
&lt;br&gt;<br>
However,&nbsp;the&nbsp;&quot;.so&quot;&nbsp;needs&nbsp;to&nbsp;be&nbsp;replaced&nbsp;with&nbsp;&quot;.dylib&quot;&nbsp;for&nbsp;Mac&nbsp;OS&nbsp;X&lt;br&gt;<br>
compatibility.&nbsp;Is&nbsp;there&nbsp;a&nbsp;recommended&nbsp;way&nbsp;to&nbsp;specify&nbsp;dlopen&nbsp;filenames&lt;br&gt;<br>
portably,&nbsp;or&nbsp;should&nbsp;I&nbsp;just&nbsp;catch&nbsp;the&nbsp;exception&nbsp;and&nbsp;try&nbsp;to&nbsp;fall&nbsp;back&nbsp;to&lt;br&gt;<br>
.dylib&nbsp;if&nbsp;it&nbsp;can&#39;t&nbsp;find&nbsp;the&nbsp;.so?&lt;br&gt;<br>
&lt;br&gt;<br>
thanks,&lt;br&gt;<br>
Phil&lt;br&gt;<br>
&lt;br&gt;<br>
[1]&nbsp;-&nbsp;&lt;a&nbsp;href=&quot;http://build.opensuse.org&quot;&nbsp;target=&quot;_blank&quot;&gt;http://build.opensuse.org&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;_______________________________________________&lt;br&gt;<br>
Ctypes&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Ctypes@lists.ocaml.org&quot;&gt;Ctypes@lists.ocaml.org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ocaml.org/listinfo/ctypes&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ocaml.org/listinfo/ctypes&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
