<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ocaml-ctypes] Another dumb question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:ctypes%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-ctypes%5D%20Another%20dumb%20question&In-Reply-To=%3C067A01E6-6F54-499D-A1EB-901521BF3B18%40internode.on.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000253.html">
   <LINK REL="Next"  HREF="000257.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ocaml-ctypes] Another dumb question</H1>
    <B>john skaller</B> 
    <A HREF="mailto:ctypes%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-ctypes%5D%20Another%20dumb%20question&In-Reply-To=%3C067A01E6-6F54-499D-A1EB-901521BF3B18%40internode.on.net%3E"
       TITLE="[ocaml-ctypes] Another dumb question">skaller at internode.on.net
       </A><BR>
    <I>Thu Dec 28 00:29:09 GMT 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="000253.html">[ocaml-ctypes] Another dumb question
</A></li>
        <LI>Next message: <A HREF="000257.html">[ocaml-ctypes] Passing Caml function to C
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#256">[ date ]</a>
              <a href="thread.html#256">[ thread ]</a>
              <a href="subject.html#256">[ subject ]</a>
              <a href="author.html#256">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> On 28 Dec. 2017, at 00:31, Jeremy Yallop &lt;<A HREF="http://lists.ocaml.org/listinfo/ctypes">yallop at gmail.com</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> On 27 December 2017 at 05:33, john skaller &lt;<A HREF="http://lists.ocaml.org/listinfo/ctypes">skaller at internode.on.net</A>&gt; wrote:
</I>&gt;&gt;<i> This should be a quicky&#8230;.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Suppose I have some messy struct in C which is generally used
</I>&gt;&gt;<i> via a pointer. Eg
</I>


&gt;<i> 
</I>&gt;<i> The usual way of dealing with this is to define a struct using
</I>&gt;<i> &#8216;structure' without calling 'field' or 'seal',
</I>
I started to do this. But I began to think it was dangerous.

The client of the binding is going to have to do some
low level work to use the binding, which is a bit nasty.
However exposing the structures and letting them poke
about in them feels too dangerous.

And a key struct also uses bitfield :)

In C++ you&#8217;d provide a constructor, and some accessor
and mutator methods, and make the actual data private.

In Ocaml, it feels more natural in these cases where
functional operations are favoured to make the structure
opaque, and if necessary for construction, write
some methods in C, and then provide binding to them.


&#8212;
john skaller
<A HREF="http://lists.ocaml.org/listinfo/ctypes">skaller at users.sourceforge.net</A>
<A HREF="http://felix-lang.org">http://felix-lang.org</A>

</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000253.html">[ocaml-ctypes] Another dumb question
</A></li>
	<LI>Next message: <A HREF="000257.html">[ocaml-ctypes] Passing Caml function to C
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#256">[ date ]</a>
              <a href="thread.html#256">[ thread ]</a>
              <a href="subject.html#256">[ subject ]</a>
              <a href="author.html#256">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/ctypes">More information about the Ctypes
mailing list</a><br>
</body></html>
