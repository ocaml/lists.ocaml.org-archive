<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ocaml-ctypes] Spinning process on osx
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:ctypes%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-ctypes%5D%20Spinning%20process%20on%20osx&In-Reply-To=%3C9D16F320-1A31-47CD-AC2E-8D235A2DB984%40recoil.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000044.html">
   <LINK REL="Next"  HREF="000047.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ocaml-ctypes] Spinning process on osx</H1>
    <B>Anil Madhavapeddy</B> 
    <A HREF="mailto:ctypes%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-ctypes%5D%20Spinning%20process%20on%20osx&In-Reply-To=%3C9D16F320-1A31-47CD-AC2E-8D235A2DB984%40recoil.org%3E"
       TITLE="[ocaml-ctypes] Spinning process on osx">anil at recoil.org
       </A><BR>
    <I>Wed Jan 29 11:22:45 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="000044.html">[ocaml-ctypes] Spinning process on osx
</A></li>
        <LI>Next message: <A HREF="000047.html">[ocaml-ctypes] Spinning process on osx
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45">[ date ]</a>
              <a href="thread.html#45">[ thread ]</a>
              <a href="subject.html#45">[ subject ]</a>
              <a href="author.html#45">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 29 Jan 2014, at 10:38, Daniel B&#252;nzli &lt;<A HREF="http://lists.ocaml.org/listinfo/ctypes">daniel.buenzli at erratique.ch</A>&gt; wrote:

&gt;<i> Le samedi, 28 d&#233;cembre 2013 &#224; 21:23, Jeremy Yallop a &#233;crit :
</I>&gt;&gt;<i> There do seem to have been some issues with -no_compact_unwind and libffi:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> <A HREF="https://ghc.haskell.org/trac/ghc/ticket/5019">https://ghc.haskell.org/trac/ghc/ticket/5019</A>  
</I>&gt;<i> 
</I>&gt;<i> This is becoming slightly annoying for me as I would like to use a 4.01.0 feature only (Printexc.get_callstack).  
</I>
One immediate alternative is to experiment with the stub generation that's entered ctypes-trunk, as part of <A HREF="https://github.com/ocamllabs/ocaml-ctypes/pull/124">https://github.com/ocamllabs/ocaml-ctypes/pull/124</A>

The Makefiles are the most complex part of stub generation (predictably), but it should give you a mode where your bindings can be output as static C code and linked in as normal C stubs are.  It will avoid the dependency on libffi and sidestep your bug, and give us the time to track it down properly.

(It would also be very useful to ensure that your use of ctypes is compatible with stub generation, as that's an important goal of the library)

-anil
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000044.html">[ocaml-ctypes] Spinning process on osx
</A></li>
	<LI>Next message: <A HREF="000047.html">[ocaml-ctypes] Spinning process on osx
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45">[ date ]</a>
              <a href="thread.html#45">[ thread ]</a>
              <a href="subject.html#45">[ subject ]</a>
              <a href="author.html#45">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/ctypes">More information about the Ctypes
mailing list</a><br>
</body></html>
