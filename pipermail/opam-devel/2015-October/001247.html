<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] Start of an opam multi-architecture proposal
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20Start%20of%20an%20opam%20multi-architecture%20proposal&In-Reply-To=%3C6E1D78EFED5449A2897C66588044DC23%40erratique.ch%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001250.html">
   <LINK REL="Next"  HREF="001248.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] Start of an opam multi-architecture proposal</H1>
    <B>Daniel B&#252;nzli</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20Start%20of%20an%20opam%20multi-architecture%20proposal&In-Reply-To=%3C6E1D78EFED5449A2897C66588044DC23%40erratique.ch%3E"
       TITLE="[opam-devel] Start of an opam multi-architecture proposal">daniel.buenzli at erratique.ch
       </A><BR>
    <I>Tue Oct 13 12:04:51 BST 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="001250.html">[opam-devel] Start of an opam multi-architecture proposal
</A></li>
        <LI>Next message: <A HREF="001248.html">[opam-devel] Start of an opam multi-architecture proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1247">[ date ]</a>
              <a href="thread.html#1247">[ thread ]</a>
              <a href="subject.html#1247">[ subject ]</a>
              <a href="author.html#1247">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Le mardi, 13 octobre 2015 &#224; 11:23, Thomas Gazagnaire a &#233;crit :
&gt;<i> but the constraint &quot;all installed packages should be installed on all architectures&quot; is too strong.  
</I>
Note that the simplicity of the proposal strongly relies on this. It means that the notion of package installation in a switch is kept exactly the same as it is now &#8212; and hence is the same whether you use cross or not. This means that we don't need to introduce new concepts and bureaucracy to be able to talk about a notion of partial installation in a switch and a lot of things remains identical to what it is now, e.g the display of opam info, etc.  


Le mardi, 13 octobre 2015 &#224; 11:46, Daniel B&#252;nzli a &#233;crit :
&gt;<i> If you don't do this then you need to be able to introduce architecture specifiers in variables (e.g. PKG:$(ARCH):installed) which I think we should avoid.
</I>However we will still need something along the line of `pkg config var &#8212;arch` since package configuration variables [1] should be arch specific. If you use them in the build instructions of an opam file they would direct you directly to the ones for you arch, but if you use them from &quot;outside&quot; opam, e.g. on the cli, you have to specify which arch you are talking about.
  

Daniel

[1] <A HREF="https://github.com/ocaml/opam/issues/2247">https://github.com/ocaml/opam/issues/2247</A>


</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001250.html">[opam-devel] Start of an opam multi-architecture proposal
</A></li>
	<LI>Next message: <A HREF="001248.html">[opam-devel] Start of an opam multi-architecture proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1247">[ date ]</a>
              <a href="thread.html#1247">[ thread ]</a>
              <a href="subject.html#1247">[ subject ]</a>
              <a href="author.html#1247">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
