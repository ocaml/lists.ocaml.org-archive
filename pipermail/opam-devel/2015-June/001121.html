<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] release scripts
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20release%20scripts&In-Reply-To=%3C12DFF40B-BD37-457F-BC1E-C9FE548359F0%40gazagnaire.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001115.html">
   <LINK REL="Next"  HREF="001122.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] release scripts</H1>
    <B>Thomas Gazagnaire</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20release%20scripts&In-Reply-To=%3C12DFF40B-BD37-457F-BC1E-C9FE548359F0%40gazagnaire.org%3E"
       TITLE="[opam-devel] release scripts">thomas at gazagnaire.org
       </A><BR>
    <I>Thu Jun 11 14:25:22 BST 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="001115.html">[opam-devel] glob patterns and variables in opam files
</A></li>
        <LI>Next message: <A HREF="001122.html">[opam-devel] release scripts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1121">[ date ]</a>
              <a href="thread.html#1121">[ thread ]</a>
              <a href="subject.html#1121">[ subject ]</a>
              <a href="author.html#1121">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've tried to &quot;clean-up&quot; some of my release scripts, that I published on GitHub. It is a mix between opam-publish and my own conventions, so I'm not sure it very useful to someone else than me. Feel free to clone and to adapt to your need. Feel free to rewrite the shell scripts using a proper language and submit a pull-request :-)

With these scripts, using `opam release` at the root of my project will: 
1/ tag the project by greping the version number in _oasis or in opam;
2/ push the tag to upstream repository on GitHub; and 
3/ call opam-publish with the new archive.

My convention are:
- to name the tag as the raw version, not `vVERSION` (ie. not adding a `v` prefix)
- to have an `upstream` git remote pointing at the upstream repository
- to have `opam-publish` installed in a switch called `publish`

Best,
Thomas

[1]: <A HREF="https://github.com/samoht/opam-release">https://github.com/samoht/opam-release</A>


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001115.html">[opam-devel] glob patterns and variables in opam files
</A></li>
	<LI>Next message: <A HREF="001122.html">[opam-devel] release scripts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1121">[ date ]</a>
              <a href="thread.html#1121">[ thread ]</a>
              <a href="subject.html#1121">[ subject ]</a>
              <a href="author.html#1121">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
