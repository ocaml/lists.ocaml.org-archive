<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] release scripts
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20release%20scripts&In-Reply-To=%3CA8B5DF11-BD5D-4453-84CD-BEF7D9F10A24%40recoil.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001121.html">
   <LINK REL="Next"  HREF="001123.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] release scripts</H1>
    <B>Anil Madhavapeddy</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20release%20scripts&In-Reply-To=%3CA8B5DF11-BD5D-4453-84CD-BEF7D9F10A24%40recoil.org%3E"
       TITLE="[opam-devel] release scripts">anil at recoil.org
       </A><BR>
    <I>Thu Jun 11 14:52:38 BST 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="001121.html">[opam-devel] release scripts
</A></li>
        <LI>Next message: <A HREF="001123.html">[opam-devel] release scripts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1122">[ date ]</a>
              <a href="thread.html#1122">[ thread ]</a>
              <a href="subject.html#1122">[ subject ]</a>
              <a href="author.html#1122">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11 Jun 2015, at 09:25, Thomas Gazagnaire &lt;<A HREF="http://lists.ocaml.org/listinfo/opam-devel">thomas at gazagnaire.org</A>&gt; wrote:
&gt;<i> 
</I>&gt;<i> I've tried to &quot;clean-up&quot; some of my release scripts, that I published on GitHub. It is a mix between opam-publish and my own conventions, so I'm not sure it very useful to someone else than me. Feel free to clone and to adapt to your need. Feel free to rewrite the shell scripts using a proper language and submit a pull-request :-)
</I>&gt;<i> 
</I>&gt;<i> With these scripts, using `opam release` at the root of my project will: 
</I>&gt;<i> 1/ tag the project by greping the version number in _oasis or in opam;
</I>&gt;<i> 2/ push the tag to upstream repository on GitHub; and 
</I>&gt;<i> 3/ call opam-publish with the new archive.
</I>&gt;<i> 
</I>&gt;<i> My convention are:
</I>&gt;<i> - to name the tag as the raw version, not `vVERSION` (ie. not adding a `v` prefix)
</I>&gt;<i> - to have an `upstream` git remote pointing at the upstream repository
</I>&gt;<i> - to have `opam-publish` installed in a switch called `publish`
</I>
Does this also do a GitHub release, or just create the tag upstream?

-anil
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001121.html">[opam-devel] release scripts
</A></li>
	<LI>Next message: <A HREF="001123.html">[opam-devel] release scripts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1122">[ date ]</a>
              <a href="thread.html#1122">[ thread ]</a>
              <a href="subject.html#1122">[ subject ]</a>
              <a href="author.html#1122">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
