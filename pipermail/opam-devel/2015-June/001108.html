<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] regular bulk builds: now with HTML output!
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20regular%20bulk%20builds%3A%20now%20with%20HTML%20output%21&In-Reply-To=%3C7FB36143-7784-4EF6-9758-3379B4D9722E%40recoil.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="001109.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] regular bulk builds: now with HTML output!</H1>
    <B>Anil Madhavapeddy</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20regular%20bulk%20builds%3A%20now%20with%20HTML%20output%21&In-Reply-To=%3C7FB36143-7784-4EF6-9758-3379B4D9722E%40recoil.org%3E"
       TITLE="[opam-devel] regular bulk builds: now with HTML output!">anil at recoil.org
       </A><BR>
    <I>Mon Jun  1 10:13:00 BST 2015</I>
    <P><UL>
        
        <LI>Next message: <A HREF="001109.html">[opam-devel] ANNOUNCE: OWS, the Opam Wheather Service
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1108">[ date ]</a>
              <a href="thread.html#1108">[ thread ]</a>
              <a href="subject.html#1108">[ subject ]</a>
              <a href="author.html#1108">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 30 May 2015, at 19:19, Thomas Gazagnaire &lt;<A HREF="http://lists.ocaml.org/listinfo/opam-devel">thomas at gazagnaire.org</A>&gt; wrote:
&gt;<i> 
</I>&gt;&gt;<i> On 01/08/2015 07:52 PM, Anil Madhavapeddy wrote:
</I>&gt;&gt;&gt;<i> <A HREF="http://www.recoil.org/~avsm/opam-bulk/">http://www.recoil.org/~avsm/opam-bulk/</A>  (temporary URL)
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> This is very nice and useful ! How can we contribute to opam-bulk project ?
</I>&gt;<i> 
</I>&gt;<i> This is now live at <A HREF="http://opam.ocaml.org/builds/">http://opam.ocaml.org/builds/</A> (click on the SHA1s to get the build table).
</I>&gt;<i> 
</I>&gt;<i> The source code is there: <A HREF="https://github.com/avsm/ocaml-docker-scripts">https://github.com/avsm/ocaml-docker-scripts</A>
</I>
Hi &#199;agdas,

The scripts are still very experimental and need some manual handholding quite regularly (mainly because running 4000 simultaneous Docker containers still triggers some data corruption in the filesystem backends in use and destroys the humble SSDs with all the disk I/O).  That's why the /builds URL is not linked from the main opam.ocaml.org page yet.

In the meanwhile though, you can in theory recreate the builds (albeit slowly) by running this on a host with a recent Docker installed:

    opam install -y cmdliner cow git core_kernel
    git clone <A HREF="git://github.com/avsm/ocaml-docker-scripts">git://github.com/avsm/ocaml-docker-scripts</A>
    cd ocaml-docker-scripts/bulk-builds
    &lt;edit cron.sh to set JOBS to a reasonable parallel build value&gt;
    ./cron.sh

This will do a single bulk build of all the OS variants and output HTML into logs/

Even more useful would be to keep an eye on <A HREF="https://opam.ocaml.org/builds">https://opam.ocaml.org/builds</A> and submit pull requests to fix the failing packages :-)

cheers,
Anil
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="001109.html">[opam-devel] ANNOUNCE: OWS, the Opam Wheather Service
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1108">[ date ]</a>
              <a href="thread.html#1108">[ thread ]</a>
              <a href="subject.html#1108">[ subject ]</a>
              <a href="author.html#1108">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
