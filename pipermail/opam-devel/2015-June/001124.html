<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] release scripts
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20release%20scripts&In-Reply-To=%3CF063BDBA-F37B-4F18-AB84-92020EA5E9C4%40recoil.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001123.html">
   <LINK REL="Next"  HREF="001125.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] release scripts</H1>
    <B>Anil Madhavapeddy</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20release%20scripts&In-Reply-To=%3CF063BDBA-F37B-4F18-AB84-92020EA5E9C4%40recoil.org%3E"
       TITLE="[opam-devel] release scripts">anil at recoil.org
       </A><BR>
    <I>Mon Jun 15 09:45:47 BST 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="001123.html">[opam-devel] release scripts
</A></li>
        <LI>Next message: <A HREF="001125.html">[opam-devel] pin and constraints
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1124">[ date ]</a>
              <a href="thread.html#1124">[ thread ]</a>
              <a href="subject.html#1124">[ subject ]</a>
              <a href="author.html#1124">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11 Jun 2015, at 17:44, Thomas Gazagnaire &lt;<A HREF="http://lists.ocaml.org/listinfo/opam-devel">thomas at gazagnaire.org</A>&gt; wrote:
&gt;<i> 
</I>&gt;&gt;<i> Does this also do a GitHub release, or just create the tag upstream?
</I>&gt;<i> 
</I>&gt;<i> It just create the tag. Creating the GitHub release would imply dealing with diffs in CHANGES files and will require talking to the GitHub API, which is not totally trivial (at least for me :p)
</I>
There's a tool to create GitHub releases in ocaml-github:

<A HREF="https://github.com/mirage/ocaml-github/blob/master/jar/create_release.ml">https://github.com/mirage/ocaml-github/blob/master/jar/create_release.ml</A>

I'd definitely recommend adding this into the release workflow, as otherwise it creates a divergence with current practises, and leads to releases being missing from automated scripts (such as the MirageOS ones) that gather this information from the GitHub API.

The ChangeLog is indeed a problem.  I have an extremely fledgling version here:
<A HREF="https://github.com/avsm/opam-repo-tools">https://github.com/avsm/opam-repo-tools</A>
but it needs significant work to lint and deal with quirks in existing changelogs.

cheers
Anil

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001123.html">[opam-devel] release scripts
</A></li>
	<LI>Next message: <A HREF="001125.html">[opam-devel] pin and constraints
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1124">[ date ]</a>
              <a href="thread.html#1124">[ thread ]</a>
              <a href="subject.html#1124">[ subject ]</a>
              <a href="author.html#1124">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
