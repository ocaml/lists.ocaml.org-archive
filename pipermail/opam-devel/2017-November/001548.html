<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] More useful tags for Docker images
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20More%20useful%20tags%20for%20Docker%20images&In-Reply-To=%3CE3D4377A-02E2-47C3-94DA-104E67626D24%40recoil.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001546.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] More useful tags for Docker images</H1>
    <B>Anil Madhavapeddy</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20More%20useful%20tags%20for%20Docker%20images&In-Reply-To=%3CE3D4377A-02E2-47C3-94DA-104E67626D24%40recoil.org%3E"
       TITLE="[opam-devel] More useful tags for Docker images">anil at recoil.org
       </A><BR>
    <I>Mon Nov 20 16:24:34 GMT 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="001546.html">[opam-devel] Fedora, CentOS, RHEL installation URL 404
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1548">[ date ]</a>
              <a href="thread.html#1548">[ thread ]</a>
              <a href="subject.html#1548">[ subject ]</a>
              <a href="author.html#1548">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Apologies for the delayed reply to this suggestion.  

I'm currently reworking the opam2-based images and may actually remove
the point releases entirely from the tag name in the new images.  The
reasoning is that we only ever test the latest point release of a given 
major release.

In the new scheme, that would lead to multiarch images being available
for:

ocaml/opam2:alpine-3.6-ocaml
(with all major releases of OCaml available in one switch)

and

ocaml/opam2:alpine-3.6-ocaml-4.06
(with all variants of 4.06.0 available in that switch, including flambda/unsafe-safe-string)

This leads to slightly bigger images, but will be maintainable in the longer
term.  Unfortunately we can't build every variant on the opam1 containers
due to the combinatorial explosion taking up far too much storage.

regards
Anil

&gt;<i> On 5 Oct 2017, at 08:13, Teoh Han Hui &lt;<A HREF="http://lists.ocaml.org/listinfo/opam-devel">teohhanhui at gmail.com</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> In addition to tags like:
</I>&gt;<i> ocaml/opam:alpine_ocaml-4.04.2
</I>&gt;<i> 
</I>&gt;<i> There should also be:
</I>&gt;<i> ocaml/opam:alpine_ocaml-4.04
</I>&gt;<i> 
</I>&gt;<i> So that the user can be sure that the latest 4.04 release is always used.
</I>&gt;<i> 
</I>&gt;<i> Of course it'd also be great to have tags for flambda builds.
</I>&gt;<i> 
</I>&gt;<i> So in addition to tags like:
</I>&gt;<i> ocaml/opam:alpine_ocaml-4.04.2_flambda
</I>&gt;<i> 
</I>&gt;<i> There should also be:
</I>&gt;<i> ocaml/opam:alpine_ocaml-4.04_flambda
</I>&gt;<i> 
</I>&gt;<i> Taking into account all the other possible combinations, we'll also have e.g.:
</I>&gt;<i> ocaml/opam:alpine-3.6_ocaml-4.04
</I>&gt;<i> ocaml/opam:alpine-3.6_ocaml-4.04_flambda
</I>&gt;<i> _______________________________________________
</I>&gt;<i> opam-devel mailing list
</I>&gt;<i> <A HREF="http://lists.ocaml.org/listinfo/opam-devel">opam-devel at lists.ocaml.org</A>
</I>&gt;<i> <A HREF="http://lists.ocaml.org/listinfo/opam-devel">http://lists.ocaml.org/listinfo/opam-devel</A>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ocaml.org/pipermail/opam-devel/attachments/20171120/c1372e0a/attachment.html">http://lists.ocaml.org/pipermail/opam-devel/attachments/20171120/c1372e0a/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001546.html">[opam-devel] Fedora, CentOS, RHEL installation URL 404
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1548">[ date ]</a>
              <a href="thread.html#1548">[ thread ]</a>
              <a href="subject.html#1548">[ subject ]</a>
              <a href="author.html#1548">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
