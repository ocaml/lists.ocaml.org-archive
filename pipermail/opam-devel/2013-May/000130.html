<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] Does pin git:// really make sense ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20Does%20pin%20git%3A//%20really%20make%20sense%20%3F&In-Reply-To=%3C33FC631BC6DA4434972E0ADC9652117F%40erratique.ch%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000128.html">
   <LINK REL="Next"  HREF="000129.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] Does pin git:// really make sense ?</H1>
    <B>Daniel B&#252;nzli</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20Does%20pin%20git%3A//%20really%20make%20sense%20%3F&In-Reply-To=%3C33FC631BC6DA4434972E0ADC9652117F%40erratique.ch%3E"
       TITLE="[opam-devel] Does pin git:// really make sense ?">daniel.buenzli at erratique.ch
       </A><BR>
    <I>Thu May 30 15:35:24 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000128.html">[opam-devel] Does pin git:// really make sense ?
</A></li>
        <LI>Next message: <A HREF="000129.html">[opam-devel] Does pin git:// really make sense ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#130">[ date ]</a>
              <a href="thread.html#130">[ thread ]</a>
              <a href="subject.html#130">[ subject ]</a>
              <a href="author.html#130">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Le jeudi, 30 mai 2013 &#224; 14:45, Anil Madhavapeddy a &#233;crit :
&gt;<i> That's precisely what it's intended to do. It's easy to extend the pin to add version numbers too (which may already be in trunk). i.e.
</I>&gt;<i>  
</I>&gt;<i> $ opam pin atdgen.1.2.3 <A HREF="git://github.com/mjambon/atdgen">git://github.com/mjambon/atdgen</A> (<A HREF="http://github.com/mjambon/atdgen">http://github.com/mjambon/atdgen</A>)
</I>&gt;<i>  
</I>&gt;<i> which would ensure that the 1.2.3 constraints are used with the source from the git remote.
</I>
If that's what its intended to do why not. I still think that it is quite confusing since the whole system will tell you that you installed 1.2.3 while it's not and as witnessed in my first email, it doesn't seem to work well in practice.  
   
&gt;<i> What you want sounds like the job for an OPAM remote such as:
</I>&gt;<i> <A HREF="https://github.com/xen-org/opam-repo-dev">https://github.com/xen-org/opam-repo-dev</A>
</I>
Actually what I want at the moment is an easy way to install the repo version of ocp-indent. I guess since it doesn't install at the moment with pin the package description will have to be updated anyway. The idea is to avoid these things of becoming desynchronized.

  
&gt;<i> Why not just use the existing OPAM facility for multiple package repositories (including local ones) instead of complicating the core?
</I>
Because it's overkill for what I want to do now. And in fact I think these ideas could have lead to simpler workflows (to distribute your software just tell people to `opam add-pkg url-to-git-repo`) and a simpler design for opam (suppress the notion of opam repository, leaving only the notion of package and if your package descriptions differ from what upstream provides you fork the package with an automatic rebase on pull).  

Daniel
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000128.html">[opam-devel] Does pin git:// really make sense ?
</A></li>
	<LI>Next message: <A HREF="000129.html">[opam-devel] Does pin git:// really make sense ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#130">[ date ]</a>
              <a href="thread.html#130">[ thread ]</a>
              <a href="subject.html#130">[ subject ]</a>
              <a href="author.html#130">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
