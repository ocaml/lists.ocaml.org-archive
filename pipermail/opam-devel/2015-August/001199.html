<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] opam publish package name
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20opam%20publish%20package%20name&In-Reply-To=%3CDBE1AC77-3471-423A-A777-8A097E0B3A23%40recoil.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001198.html">
   <LINK REL="Next"  HREF="001200.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] opam publish package name</H1>
    <B>Anil Madhavapeddy</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20opam%20publish%20package%20name&In-Reply-To=%3CDBE1AC77-3471-423A-A777-8A097E0B3A23%40recoil.org%3E"
       TITLE="[opam-devel] opam publish package name">anil at recoil.org
       </A><BR>
    <I>Thu Aug 27 14:10:32 BST 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="001198.html">[opam-devel] opam publish package name
</A></li>
        <LI>Next message: <A HREF="001200.html">[opam-devel] opam publish package name
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1199">[ date ]</a>
              <a href="thread.html#1199">[ thread ]</a>
              <a href="subject.html#1199">[ subject ]</a>
              <a href="author.html#1199">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 27 Aug 2015, at 05:57, Louis Gesbert &lt;<A HREF="http://lists.ocaml.org/listinfo/opam-devel">louis.gesbert at ocamlpro.com</A>&gt; wrote:
&gt;<i> 
</I>&gt;&gt;<i> - Anil Madhavapeddy, 26/08/2015 18:49 -
</I>&gt;&gt;<i> One thing I noticed is that the automatic plugin installation doesn't
</I>&gt;&gt;<i> play well with non-interactivity (e.g. -y), btw.
</I>&gt;<i> 
</I>&gt;<i> It should work with `OPAMYES=1` ; it's otherwise a bit difficult to parse the command-line arguments that are normally directed towards a different program.
</I>&gt;<i> 
</I>&gt;<i> Or should we allow something like `opam -y publish` ? Or normalise the arguments a plugin is supposed to accept ?
</I>
This does bite me quite often, since (for example) &quot;opam depext -i -j 4 -y foo&quot; doesn't work -- i.e. `opam depext -i` is no longer a dropin replacement for `opam install` even though semantically it's meant to just augment the installation process with an external dependency check.

One way to get around this would be to make the cmdliner structures available for plugins to link against in opam-lib.  The global ones especially could be used by every plugin and passed through to OPAM subcommands by setting the right environment variables (perhas <A HREF="https://github.com/dbuenzli/cmdliner/issues/23">https://github.com/dbuenzli/cmdliner/issues/23</A> would be of use for that).

-anil

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001198.html">[opam-devel] opam publish package name
</A></li>
	<LI>Next message: <A HREF="001200.html">[opam-devel] opam publish package name
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1199">[ date ]</a>
              <a href="thread.html#1199">[ thread ]</a>
              <a href="subject.html#1199">[ subject ]</a>
              <a href="author.html#1199">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
