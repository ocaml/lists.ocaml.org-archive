<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi.&nbsp;Thanks&nbsp;for&nbsp;this&nbsp;nice&nbsp;summary&nbsp;and&nbsp;ongoing&nbsp;work.&nbsp;Is&nbsp;there&nbsp;any&nbsp;support&nbsp;planned&nbsp;for&nbsp;installing&nbsp;binaries?&nbsp;What&nbsp;is&nbsp;needed&nbsp;is&nbsp;a&nbsp;way&nbsp;to&nbsp;specify&nbsp;a&nbsp;different&nbsp;tarball&nbsp;depending&nbsp;on&nbsp;the&nbsp;detected&nbsp;architecture.&nbsp;I&nbsp;know&nbsp;some&nbsp;people&nbsp;want&nbsp;this&nbsp;for&nbsp;OCaml&nbsp;packages,&nbsp;but&nbsp;actually&nbsp;I&#39;m&nbsp;interested&nbsp;in&nbsp;it&nbsp;for&nbsp;our&nbsp;non-OCaml&nbsp;biopam&nbsp;repo&nbsp;[1].&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;[1] &lt;a&nbsp;href=&quot;https://github.com/solvuu/biopam&quot;&gt;https://github.com/solvuu/biopam&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Fri,&nbsp;Dec&nbsp;18,&nbsp;2015&nbsp;at&nbsp;10:30&nbsp;AM,&nbsp;Thomas&nbsp;Gazagnaire&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:thomas@gazagnaire.org&quot;&nbsp;target=&quot;_blank&quot;&gt;thomas@gazagnaire.org&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;Hi&nbsp;Louis.&lt;br&gt;<br>
&lt;br&gt;<br>
all&nbsp;of&nbsp;this&nbsp;sounds&nbsp;very&nbsp;good.&nbsp;I&#39;d&nbsp;just&nbsp;like&nbsp;to&nbsp;report&nbsp;3&nbsp;more&nbsp;features&nbsp;that&nbsp;various&nbsp;people&nbsp;have&nbsp;told&nbsp;me&nbsp;about&nbsp;this&nbsp;last&nbsp;months:&lt;br&gt;<br>
&lt;br&gt;<br>
1/&nbsp;`opam&nbsp;bundle`:&nbsp;it&nbsp;seems&nbsp;that&nbsp;a&nbsp;few&nbsp;existing&nbsp;projects&nbsp;don&#39;t&nbsp;want&nbsp;to&nbsp;tell&nbsp;their&nbsp;users&nbsp;to&nbsp;install&nbsp;OCaml&nbsp;and&nbsp;opam.&nbsp;They&nbsp;just&nbsp;want&nbsp;a&nbsp;stand-alone&nbsp;tarball&nbsp;that&nbsp;you&nbsp;can&nbsp;decompress&nbsp;and&nbsp;run&nbsp;`configure&nbsp;&amp;&amp;&nbsp;make&nbsp;&amp;&amp;&nbsp;make&nbsp;install`.&nbsp;There&nbsp;are&nbsp;already&nbsp;some&nbsp;patches&nbsp;from&nbsp;@ygrek&nbsp;doing&nbsp;this,&nbsp;that&nbsp;would&nbsp;be&nbsp;very&nbsp;cool&nbsp;to&nbsp;integrate&nbsp;the&nbsp;tool&nbsp;upstream&lt;br&gt;<br>
&lt;br&gt;<br>
2/&nbsp;local&nbsp;switch/root.&nbsp;few&nbsp;people&nbsp;reported&nbsp;that&nbsp;they&nbsp;would&nbsp;like&nbsp;to&nbsp;use&nbsp;a&nbsp;per-project&nbsp;opam&nbsp;root.&nbsp;This&nbsp;could&nbsp;be&nbsp;done&nbsp;easily&nbsp;by&nbsp;making&nbsp;the&nbsp;CLI&nbsp;check&nbsp;for&nbsp;a&nbsp;`.opam`&nbsp;directory&nbsp;in&nbsp;parent&nbsp;directories.&nbsp;Or&nbsp;it&nbsp;could&nbsp;work&nbsp;with&nbsp;a&nbsp;local&nbsp;config&nbsp;switch&nbsp;file&nbsp;(now&nbsp;that&nbsp;we&nbsp;have&nbsp;only&nbsp;one&nbsp;config&nbsp;file&nbsp;per&nbsp;switch),&nbsp;stored&nbsp;in&nbsp;the&nbsp;repository.&lt;br&gt;<br>
&lt;br&gt;<br>
3/&nbsp;local&nbsp;remotes.&nbsp;Currently&nbsp;the&nbsp;remote&nbsp;are&nbsp;per-switch&nbsp;which&nbsp;make&nbsp;them&nbsp;a&nbsp;bit&nbsp;annoying&nbsp;when&nbsp;you&nbsp;have&nbsp;a&nbsp;repo&nbsp;with&nbsp;dev&nbsp;packages.&nbsp;Currently&nbsp;it&#39;s&nbsp;easier&nbsp;to&nbsp;share&nbsp;a&nbsp;list&nbsp;of&nbsp;pins&nbsp;that&nbsp;a&nbsp;remote.&nbsp;So&nbsp;maybe&nbsp;extend&nbsp;`opam&nbsp;pin`&nbsp;to&nbsp;allow&nbsp;to&nbsp;take&nbsp;file&nbsp;of&nbsp;packages&nbsp;to&nbsp;pin&nbsp;--&nbsp;actually&nbsp;it&nbsp;could&nbsp;already&nbsp;work&nbsp;with&nbsp;`opam&nbsp;switch&nbsp;import`,&nbsp;so&nbsp;maybe&nbsp;it&#39;s&nbsp;just&nbsp;a&nbsp;matter&nbsp;of&nbsp;documentation.&lt;br&gt;<br>
&lt;br&gt;<br>
And&nbsp;last&nbsp;big&nbsp;item,&nbsp;that&nbsp;I&nbsp;haven&#39;t&nbsp;seen&nbsp;in&nbsp;your&nbsp;list:&nbsp;windows&nbsp;support:&nbsp;is&nbsp;this&nbsp;still&nbsp;on&nbsp;the&nbsp;map?&lt;br&gt;<br>
&lt;br&gt;<br>
Thomas&lt;br&gt;<br>
&lt;div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
&gt;&nbsp;On&nbsp;18&nbsp;Dec&nbsp;2015,&nbsp;at&nbsp;08:47,&nbsp;Louis&nbsp;Gesbert&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:louis.gesbert@ocamlpro.com&quot;&gt;louis.gesbert@ocamlpro.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;This&nbsp;is&nbsp;a&nbsp;summary&nbsp;of&nbsp;what&#39;s&nbsp;going&nbsp;on&nbsp;for&nbsp;1.3,&nbsp;for&nbsp;all&nbsp;those&nbsp;who&nbsp;were&nbsp;wondering.&lt;br&gt;<br>
&gt;&nbsp;This&nbsp;is&nbsp;not&nbsp;complete,&nbsp;and&nbsp;I&nbsp;may&nbsp;have&nbsp;forgotten&nbsp;stuff,&nbsp;don&#39;t&nbsp;hesitate&nbsp;to&nbsp;complete&lt;br&gt;<br>
&gt;&nbsp;and&nbsp;comment.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;think&nbsp;a&nbsp;more&nbsp;redacted&nbsp;version&nbsp;of&nbsp;this&nbsp;would&nbsp;have&nbsp;its&nbsp;place&nbsp;on&nbsp;the&nbsp;platform&lt;br&gt;<br>
&gt;&nbsp;blog,&nbsp;to&nbsp;show&nbsp;there&nbsp;is&nbsp;activity.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Note&nbsp;that&nbsp;I&#39;ve&nbsp;also&nbsp;been&nbsp;busy&nbsp;helping&nbsp;out&nbsp;on&nbsp;the&nbsp;flambda&nbsp;compiler&nbsp;patch,&nbsp;which&lt;br&gt;<br>
&gt;&nbsp;explains&nbsp;that&nbsp;things&nbsp;have&nbsp;been&nbsp;a&nbsp;bit&nbsp;slower&nbsp;on&nbsp;opam&nbsp;lately,&nbsp;but&nbsp;I&nbsp;am&nbsp;getting&lt;br&gt;<br>
&gt;&nbsp;back&nbsp;on&nbsp;it&nbsp;full-time&nbsp;soon.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;#&nbsp;Ongoing&nbsp;changes&nbsp;for&nbsp;1.3&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Lots&nbsp;has&nbsp;been&nbsp;going&nbsp;on,&nbsp;signature&nbsp;of&nbsp;the&nbsp;repository&nbsp;was&nbsp;the&nbsp;main&nbsp;goal&nbsp;for&nbsp;this&lt;br&gt;<br>
&gt;&nbsp;release&nbsp;but&nbsp;it&nbsp;was&nbsp;then&nbsp;decided&nbsp;to&nbsp;prioritise&nbsp;some&nbsp;architectural&nbsp;changes&nbsp;and&lt;br&gt;<br>
&gt;&nbsp;improvements&nbsp;and&nbsp;add&nbsp;signature&nbsp;on&nbsp;top&nbsp;of&nbsp;that&nbsp;for&nbsp;the&nbsp;release&nbsp;just&nbsp;after.&nbsp;So&nbsp;I&lt;br&gt;<br>
&gt;&nbsp;feel&nbsp;there&nbsp;is&nbsp;a&nbsp;need&nbsp;to&nbsp;clarify&nbsp;all&nbsp;that&#39;s&nbsp;going&nbsp;on&nbsp;and&nbsp;what&nbsp;to&nbsp;expect&nbsp;for&lt;br&gt;<br>
&gt;&nbsp;1.3.0.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;-&nbsp;Simplification&nbsp;of&nbsp;the&nbsp;~/.opam&nbsp;architecture,&nbsp;store&nbsp;switch&nbsp;state&nbsp;in&nbsp;a&nbsp;single&lt;br&gt;<br>
&gt; &nbsp;file&nbsp;(done,&nbsp;but&nbsp;more&nbsp;changes&nbsp;pending)&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;-&nbsp;Refactoring&nbsp;of&nbsp;file&nbsp;handling,&nbsp;for&nbsp;better&nbsp;error&nbsp;reporting,&nbsp;more&nbsp;reliable&nbsp;code&lt;br&gt;<br>
&gt; &nbsp;and&nbsp;ease&nbsp;to&nbsp;extend&nbsp;(done)&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;-&nbsp;Much&nbsp;cleaner&nbsp;and&nbsp;flexible&nbsp;URL&nbsp;handling&nbsp;(including&nbsp;VC&nbsp;targets&nbsp;and&nbsp;specific&lt;br&gt;<br>
&gt; &nbsp;transports)&nbsp;(done)&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;-&nbsp;Refactoring&nbsp;of&nbsp;OpamState,&nbsp;lots&nbsp;of&nbsp;simplification&nbsp;on&nbsp;state&nbsp;loading,&nbsp;pinned&lt;br&gt;<br>
&gt; &nbsp;package&nbsp;handling.&nbsp;This&nbsp;should&nbsp;make&nbsp;it&nbsp;much&nbsp;easier&nbsp;to&nbsp;understand&nbsp;and&nbsp;maintain,&lt;br&gt;<br>
&gt; &nbsp;and&nbsp;also&nbsp;much&nbsp;more&nbsp;efficient&nbsp;(ongoing)&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;-&nbsp;Compilers&nbsp;as&nbsp;packages&nbsp;and&nbsp;disappearance&nbsp;of&nbsp;the&nbsp;.comp&nbsp;files,&nbsp;through&nbsp;making&nbsp;the&lt;br&gt;<br>
&gt; &nbsp;opam&nbsp;files&nbsp;much&nbsp;more&nbsp;generic.&nbsp;In&nbsp;practice,&nbsp;switch&nbsp;creation&nbsp;and&nbsp;compiler&lt;br&gt;<br>
&gt; &nbsp;installation&nbsp;are&nbsp;now&nbsp;internally&nbsp;treated&nbsp;as&nbsp;two&nbsp;different&nbsp;operations&nbsp;(ongoing,&lt;br&gt;<br>
&gt; &nbsp;most&nbsp;of&nbsp;it&nbsp;done&nbsp;but&nbsp;lacks&nbsp;a&nbsp;proper&nbsp;interface&nbsp;at&nbsp;the&nbsp;moment)&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;-&nbsp;Tracking&nbsp;of&nbsp;package&nbsp;installed&nbsp;files&nbsp;and&nbsp;reliable&nbsp;automatic&nbsp;removal&nbsp;(planned,&lt;br&gt;<br>
&gt; &nbsp;but&nbsp;the&nbsp;hard&nbsp;part&nbsp;is&nbsp;done)&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;-&nbsp;Setup&nbsp;of&nbsp;package&nbsp;configuration&nbsp;variables&nbsp;(planned)&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;###&nbsp;Package&nbsp;definitions&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;-&nbsp;Inclusion&nbsp;of&nbsp;url&nbsp;and&nbsp;descr&nbsp;in&nbsp;the&nbsp;opam&nbsp;file&nbsp;format,&nbsp;to&nbsp;describe&nbsp;a&nbsp;package&nbsp;with&lt;br&gt;<br>
&gt; &nbsp;a&nbsp;single&nbsp;file&nbsp;(done)&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;-&nbsp;Better&nbsp;definition&nbsp;of&nbsp;package&nbsp;variables,&nbsp;self-references&nbsp;(done)&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;-&nbsp;Support&nbsp;for&nbsp;&quot;dev&quot;&nbsp;dependencies&nbsp;(done)&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;-&nbsp;Allow&nbsp;packages&nbsp;to&nbsp;define&nbsp;environment&nbsp;variables,&nbsp;possibly&nbsp;depending&nbsp;on&nbsp;other&lt;br&gt;<br>
&gt; &nbsp;variables&nbsp;or&nbsp;features&nbsp;(`setenv:`&nbsp;field)&nbsp;(done)&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;-&nbsp;Allow&nbsp;fields&nbsp;for&nbsp;use&nbsp;by&nbsp;external&nbsp;tools:&nbsp;`x-fieldname:`&nbsp;(done)&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;-&nbsp;Conflicts&nbsp;now&nbsp;consistently&nbsp;treated&nbsp;as&nbsp;disjunction&nbsp;(i.e.&nbsp;a&nbsp;formula&nbsp;that&nbsp;must&lt;br&gt;<br>
&gt; &nbsp;not&nbsp;be&nbsp;true)&nbsp;(done)&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;-&nbsp;Add&nbsp;`extra-sources:`&nbsp;for&nbsp;packages&nbsp;needing&nbsp;more&nbsp;than&nbsp;a&nbsp;single&nbsp;archive&nbsp;(e.g.&lt;br&gt;<br>
&gt; &nbsp;compiler&nbsp;packages)&nbsp;(planned)&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;-&nbsp;Allow&nbsp;to&nbsp;quote&nbsp;strings&nbsp;with&nbsp;pythonesque&nbsp;`&quot;&quot;&quot;`&nbsp;delimiters,&nbsp;for&nbsp;easier&lt;br&gt;<br>
&gt; &nbsp;integration&nbsp;of&nbsp;package&nbsp;descriptions&nbsp;(done)&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;-&nbsp;Possibility&nbsp;to&nbsp;depend&nbsp;on&nbsp;the&nbsp;hash&nbsp;on&nbsp;an&nbsp;arbitrary&nbsp;file&nbsp;on&nbsp;the&nbsp;system&nbsp;and&lt;br&gt;<br>
&gt; &nbsp;trigger&nbsp;reinstallation,&nbsp;e.g.&nbsp;to&nbsp;detect&nbsp;an&nbsp;updated&nbsp;system&nbsp;compiler&nbsp;(ongoing)&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;-&nbsp;New&nbsp;&quot;canonical&quot;&nbsp;and&nbsp;&quot;format-preserving&quot;&nbsp;printers,&nbsp;resp.&nbsp;for&nbsp;signing&nbsp;and&lt;br&gt;<br>
&gt; &nbsp;batch-editing&nbsp;files&nbsp;(done)&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;###&nbsp;Other,&nbsp;smaller&nbsp;changes&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;-&nbsp;Ability&nbsp;to&nbsp;override&nbsp;switch&nbsp;default&nbsp;dirs&nbsp;using&lt;br&gt;<br>
&gt; &nbsp;switch/config/global-config.config.&nbsp;`opam&nbsp;config&nbsp;set`&nbsp;command&nbsp;(done)&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;-&nbsp;Support&nbsp;(and&nbsp;doc)&nbsp;for&nbsp;many&nbsp;different&nbsp;external&nbsp;solvers&nbsp;besides&nbsp;aspcud&nbsp;(done)&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;-&nbsp;Json&nbsp;output&nbsp;including&nbsp;command&nbsp;logs&nbsp;that&nbsp;could&nbsp;be&nbsp;usedd&nbsp;to&nbsp;browse&nbsp;the&nbsp;status&lt;br&gt;<br>
&gt; &nbsp;(done)&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;-&nbsp;More&nbsp;flexibility&nbsp;for&nbsp;install,&nbsp;reinstall,&nbsp;upgrade&nbsp;commands&nbsp;when&nbsp;the&nbsp;package&lt;br&gt;<br>
&gt; &nbsp;isn&#39;t&nbsp;in&nbsp;the&nbsp;expected&nbsp;state&nbsp;(already&nbsp;installed&nbsp;or&nbsp;not&nbsp;installed)&nbsp;(done)&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;There&nbsp;are&nbsp;also&nbsp;plans&nbsp;on&nbsp;easing&nbsp;cross-compilation&nbsp;and&nbsp;allowing&nbsp;operations&nbsp;across&lt;br&gt;<br>
&gt;&nbsp;switches&nbsp;which&nbsp;are&nbsp;well&nbsp;underway&nbsp;(in&nbsp;large&nbsp;part&nbsp;thanks&nbsp;to&nbsp;Pietro&nbsp;Abate&#39;s&lt;br&gt;<br>
&gt;&nbsp;efforts),&nbsp;but&nbsp;these&nbsp;are&nbsp;intended&nbsp;for&nbsp;the&nbsp;next&nbsp;minor&nbsp;release&nbsp;(e.g.&nbsp;1.3.1).&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&gt;&nbsp;opam-devel&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:opam-devel@lists.ocaml.org&quot;&gt;opam-devel@lists.ocaml.org&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;http://lists.ocaml.org/listinfo/opam-devel&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ocaml.org/listinfo/opam-devel&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
opam-devel&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:opam-devel@lists.ocaml.org&quot;&gt;opam-devel@lists.ocaml.org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ocaml.org/listinfo/opam-devel&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ocaml.org/listinfo/opam-devel&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
