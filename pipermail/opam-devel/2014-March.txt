From roberto at dicosmo.org  Mon Mar 17 09:47:19 2014
From: roberto at dicosmo.org (Roberto Di Cosmo)
Date: Mon, 17 Mar 2014 10:47:19 +0100
Subject: [opam-devel] Aspcud 1.9.0 is out, and ready for packaging
Message-ID: <20140317094719.GD20394@voyager>

The maintainer of aspcud, Roland Kaminski, has released a new version of the
aspcud solver for CUDF package dependency problems, which is 1.9.0, available here

   http://sourceforge.net/projects/potassco/files/aspcud

It is highly recommended to package this new version for opam, as it incorporates
one significant improvement in the preferences language, that now allows to
use three new package selectors: installrequest, upgraderequest, and request.

These can be used to elegantly guide the solver towards upgrade paths that have
very different behaviour for the packages mentioned on the command line
w.r.t. the others, like "upgrade all packages I mention, and leave alone the
others", but this will not be incorporated by default into opam until the
new version of aspcud is spread out widely.

Besides, there is now direct support for Windows and MacOS, and the solver
uses clasp-3 and its uncore algorithm for improved optimization.

In Debian, the package is already in experimental (will move into unstable
when the current transition is over)

https://packages.debian.org/fr/source/experimental/aspcud

Happy packaging

-- 
Roberto
 
------------------------------------------------------------------
Professeur               En delegation a l'INRIA
PPS                      E-mail: roberto at dicosmo.org
Universite Paris Diderot WWW  : http://www.dicosmo.org
Case 7014                Tel  : ++33-(0)1-57 27 92 20
5, Rue Thomas Mann       
F-75205 Paris Cedex 13   Identica: http://identi.ca/rdicosmo
FRANCE.                  Twitter: http://twitter.com/rdicosmo
------------------------------------------------------------------
Attachments:
MIME accepted, Word deprecated
      http://www.gnu.org/philosophy/no-word-attachments.html
------------------------------------------------------------------
Office location:
 
Bureau 3020 (3rd floor)
Batiment Sophie Germain
Avenue de France
Metro Bibliotheque Francois Mitterrand, ligne 14/RER C
-----------------------------------------------------------------
GPG fingerprint 2931 20CE 3A5A 5390 98EC 8BFC FCCA C3BE 39CB 12D3                        

From anil at recoil.org  Mon Mar 17 10:48:59 2014
From: anil at recoil.org (Anil Madhavapeddy)
Date: Mon, 17 Mar 2014 10:48:59 +0000
Subject: [opam-devel] Aspcud 1.9.0 is out, and ready for packaging
In-Reply-To: <20140317094719.GD20394@voyager>
References: <20140317094719.GD20394@voyager>
Message-ID: <80F82A7F-7052-4AFC-8468-2D89E00B7A02@recoil.org>

Wonderful!  To confirm I have it right: this version should be safe to
upgrade to unconditionally now (after testing of course), and a future
OPAM will take advantage of it once it is more widely deployed.

-anil

On 17 Mar 2014, at 09:47, Roberto Di Cosmo <roberto at dicosmo.org> wrote:

> The maintainer of aspcud, Roland Kaminski, has released a new version of the
> aspcud solver for CUDF package dependency problems, which is 1.9.0, available here
> 
>   http://sourceforge.net/projects/potassco/files/aspcud
> 
> It is highly recommended to package this new version for opam, as it incorporates
> one significant improvement in the preferences language, that now allows to
> use three new package selectors: installrequest, upgraderequest, and request.
> 
> These can be used to elegantly guide the solver towards upgrade paths that have
> very different behaviour for the packages mentioned on the command line
> w.r.t. the others, like "upgrade all packages I mention, and leave alone the
> others", but this will not be incorporated by default into opam until the
> new version of aspcud is spread out widely.
> 
> Besides, there is now direct support for Windows and MacOS, and the solver
> uses clasp-3 and its uncore algorithm for improved optimization.
> 
> In Debian, the package is already in experimental (will move into unstable
> when the current transition is over)
> 
> https://packages.debian.org/fr/source/experimental/aspcud
> 
> Happy packaging
> 
> -- 
> Roberto
> 
> ------------------------------------------------------------------
> Professeur               En delegation a l'INRIA
> PPS                      E-mail: roberto at dicosmo.org
> Universite Paris Diderot WWW  : http://www.dicosmo.org
> Case 7014                Tel  : ++33-(0)1-57 27 92 20
> 5, Rue Thomas Mann       
> F-75205 Paris Cedex 13   Identica: http://identi.ca/rdicosmo
> FRANCE.                  Twitter: http://twitter.com/rdicosmo
> ------------------------------------------------------------------
> Attachments:
> MIME accepted, Word deprecated
>      http://www.gnu.org/philosophy/no-word-attachments.html
> ------------------------------------------------------------------
> Office location:
> 
> Bureau 3020 (3rd floor)
> Batiment Sophie Germain
> Avenue de France
> Metro Bibliotheque Francois Mitterrand, ligne 14/RER C
> -----------------------------------------------------------------
> GPG fingerprint 2931 20CE 3A5A 5390 98EC 8BFC FCCA C3BE 39CB 12D3                        
> _______________________________________________
> opam-devel mailing list
> opam-devel at lists.ocaml.org
> http://lists.ocaml.org/listinfo/opam-devel
> 


From roberto at dicosmo.org  Mon Mar 17 10:53:44 2014
From: roberto at dicosmo.org (Roberto Di Cosmo)
Date: Mon, 17 Mar 2014 11:53:44 +0100
Subject: [opam-devel] Documentation for the external solver preference
	language
Message-ID: <20140317105344.GA23120@voyager>

There is now detailed documentation on how to use the preference 
language supported by CUDF-compliant external solver, and most
notably by aspcud:
 
 * general discussion: http://www.dicosmo.org/MyOpinions/index.php/2014/03/05/137-user-preferences-for-dependency-solvers-a-short-survey-and-new-features-added-in-the-latest-aspcud-solver

 * opam-specific version of the above: http://opam.ocaml.org/doc/Specifying_Solver_Preferences.html

-- 
Roberto

From roberto at dicosmo.org  Mon Mar 17 11:04:14 2014
From: roberto at dicosmo.org (Roberto Di Cosmo)
Date: Mon, 17 Mar 2014 12:04:14 +0100
Subject: [opam-devel] Aspcud 1.9.0 is out, and ready for packaging
In-Reply-To: <80F82A7F-7052-4AFC-8468-2D89E00B7A02@recoil.org>
References: <20140317094719.GD20394@voyager>
 <80F82A7F-7052-4AFC-8468-2D89E00B7A02@recoil.org>
Message-ID: <20140317110414.GB23120@voyager>

Exactly! 

After some initial issues uncovered by VB's arch-linux port, and promptly
fixed by Roland, I have been using it regularly over the past weeks, and I
am pretty happy with it, in particular the new package selectors.

Many old quirks are now gone (like the sed script for converting the old
preference language into the new one), and there are even Mac and Windows
precompiled binaries, so we could even have a Windows opam... (well, hmmm,
just let's say that aspcud will not be in the way of a Windows version of
opam...)

--
Roberto

On Mon, Mar 17, 2014 at 10:48:59AM +0000, Anil Madhavapeddy wrote:
> Wonderful!  To confirm I have it right: this version should be safe to
> upgrade to unconditionally now (after testing of course), and a future
> OPAM will take advantage of it once it is more widely deployed.
> 
> -anil
> 
> On 17 Mar 2014, at 09:47, Roberto Di Cosmo <roberto at dicosmo.org> wrote:
> 
> > The maintainer of aspcud, Roland Kaminski, has released a new version of the
> > aspcud solver for CUDF package dependency problems, which is 1.9.0, available here
> > 
> >   http://sourceforge.net/projects/potassco/files/aspcud
> > 
> > It is highly recommended to package this new version for opam, as it incorporates
> > one significant improvement in the preferences language, that now allows to
> > use three new package selectors: installrequest, upgraderequest, and request.
> > 
> > These can be used to elegantly guide the solver towards upgrade paths that have
> > very different behaviour for the packages mentioned on the command line
> > w.r.t. the others, like "upgrade all packages I mention, and leave alone the
> > others", but this will not be incorporated by default into opam until the
> > new version of aspcud is spread out widely.
> > 
> > Besides, there is now direct support for Windows and MacOS, and the solver
> > uses clasp-3 and its uncore algorithm for improved optimization.
> > 
> > In Debian, the package is already in experimental (will move into unstable
> > when the current transition is over)
> > 
> > https://packages.debian.org/fr/source/experimental/aspcud
> > 
> > Happy packaging
> > 
> > -- 
> > Roberto
> > 
> > ------------------------------------------------------------------
> > Professeur               En delegation a l'INRIA
> > PPS                      E-mail: roberto at dicosmo.org
> > Universite Paris Diderot WWW  : http://www.dicosmo.org
> > Case 7014                Tel  : ++33-(0)1-57 27 92 20
> > 5, Rue Thomas Mann       
> > F-75205 Paris Cedex 13   Identica: http://identi.ca/rdicosmo
> > FRANCE.                  Twitter: http://twitter.com/rdicosmo
> > ------------------------------------------------------------------
> > Attachments:
> > MIME accepted, Word deprecated
> >      http://www.gnu.org/philosophy/no-word-attachments.html
> > ------------------------------------------------------------------
> > Office location:
> > 
> > Bureau 3020 (3rd floor)
> > Batiment Sophie Germain
> > Avenue de France
> > Metro Bibliotheque Francois Mitterrand, ligne 14/RER C
> > -----------------------------------------------------------------
> > GPG fingerprint 2931 20CE 3A5A 5390 98EC 8BFC FCCA C3BE 39CB 12D3                        
> > _______________________________________________
> > opam-devel mailing list
> > opam-devel at lists.ocaml.org
> > http://lists.ocaml.org/listinfo/opam-devel
> > 
> 

-- 
Roberto Di Cosmo
 
------------------------------------------------------------------
Professeur               En delegation a l'INRIA
PPS                      E-mail: roberto at dicosmo.org
Universite Paris Diderot WWW  : http://www.dicosmo.org
Case 7014                Tel  : ++33-(0)1-57 27 92 20
5, Rue Thomas Mann       
F-75205 Paris Cedex 13   Identica: http://identi.ca/rdicosmo
FRANCE.                  Twitter: http://twitter.com/rdicosmo
------------------------------------------------------------------
Attachments:
MIME accepted, Word deprecated
      http://www.gnu.org/philosophy/no-word-attachments.html
------------------------------------------------------------------
Office location:
 
Bureau 3020 (3rd floor)
Batiment Sophie Germain
Avenue de France
Metro Bibliotheque Francois Mitterrand, ligne 14/RER C
-----------------------------------------------------------------
GPG fingerprint 2931 20CE 3A5A 5390 98EC 8BFC FCCA C3BE 39CB 12D3                        

From vb at luminar.eu.org  Wed Mar 26 14:07:20 2014
From: vb at luminar.eu.org (Vincent B.)
Date: Wed, 26 Mar 2014 15:07:20 +0100
Subject: [opam-devel] aspcud 1.9.0 packages on Archlinux
Message-ID: <5332DF18.6040901@luminar.eu.org>

Hi all,

I have finally taken control of clasp and gringo packages in Archlinux.
Moreover I have just packaged aspcud, and updated opam/opam-git to add
aspcud as a dependency.

As a result, anybody doing a pacman -S opam on Archlinux will have opam
and aspcud installed.

Cheers,

Vincent


From roberto at dicosmo.org  Wed Mar 26 14:44:55 2014
From: roberto at dicosmo.org (Roberto Di Cosmo)
Date: Wed, 26 Mar 2014 15:44:55 +0100
Subject: [opam-devel] aspcud 1.9.0 packages on Archlinux
In-Reply-To: <5332DF18.6040901@luminar.eu.org>
References: <5332DF18.6040901@luminar.eu.org>
Message-ID: <20140326144455.GA24033@voyager>

Thanks a lot Vincent, for this packaging work, and for your
previous help in beta-testing aspcud 1.9.

Hope to see more aspcud 1.9 packages for other platforms shipped soon,
so we can improve the default preferences used in opam

-- 
Roberto

On Wed, Mar 26, 2014 at 03:07:20PM +0100, Vincent B. wrote:
> Hi all,
> 
> I have finally taken control of clasp and gringo packages in Archlinux.
> Moreover I have just packaged aspcud, and updated opam/opam-git to add
> aspcud as a dependency.
> 
> As a result, anybody doing a pacman -S opam on Archlinux will have opam
> and aspcud installed.
> 
> Cheers,
> 
> Vincent
> 
> _______________________________________________
> opam-devel mailing list
> opam-devel at lists.ocaml.org
> http://lists.ocaml.org/listinfo/opam-devel


From daniel.buenzli at erratique.ch  Wed Mar 26 15:47:08 2014
From: daniel.buenzli at erratique.ch (=?utf-8?Q?Daniel_B=C3=BCnzli?=)
Date: Wed, 26 Mar 2014 16:47:08 +0100
Subject: [opam-devel] Apscud on osx < 10.9 (was Re: aspcud 1.9.0 packages on
 Archlinux)
In-Reply-To: <20140326144455.GA24033@voyager>
References: <5332DF18.6040901@luminar.eu.org> <20140326144455.GA24033@voyager>
Message-ID: <A619B234BC734DF0A181C7ACB32002D7@erratique.ch>

Le mercredi, 26 mars 2014 ? 15:44, Roberto Di Cosmo a ?crit :
> Hope to see more aspcud 1.9 packages for other platforms shipped soon,
> so we can improve the default preferences used in opam

Is there any reason why aspcud is unsupported on osx < 10.9 ?   

> brew install aspcud
gringo: OS X Mavericks or newer is required.
Error: An unsatisfied requirement failed this build.



I'm currently stuck on 10.8 for a project. Not that I find the internal solver unfunny, but well, sometimes it's really nonsense.

Best,

Daniel
  


From anil at recoil.org  Wed Mar 26 15:49:50 2014
From: anil at recoil.org (Anil Madhavapeddy)
Date: Wed, 26 Mar 2014 15:49:50 +0000
Subject: [opam-devel] Apscud on osx < 10.9 (was Re: aspcud 1.9.0
	packages on Archlinux)
In-Reply-To: <A619B234BC734DF0A181C7ACB32002D7@erratique.ch>
References: <5332DF18.6040901@luminar.eu.org> <20140326144455.GA24033@voyager>
 <A619B234BC734DF0A181C7ACB32002D7@erratique.ch>
Message-ID: <8CEAB00C-E1D4-47EB-8BD7-50CFD8863448@recoil.org>

On 26 Mar 2014, at 15:47, Daniel B?nzli <daniel.buenzli at erratique.ch> wrote:

> Le mercredi, 26 mars 2014 ? 15:44, Roberto Di Cosmo a ?crit :
>> Hope to see more aspcud 1.9 packages for other platforms shipped soon,
>> so we can improve the default preferences used in opam
> 
> Is there any reason why aspcud is unsupported on osx < 10.9 ?   
> 
>> brew install aspcud
> gringo: OS X Mavericks or newer is required.
> Error: An unsatisfied requirement failed this build.
> 
> I'm currently stuck on 10.8 for a project. Not that I find the internal solver unfunny, but well, sometimes it's really nonsense.

libstdc++ and clang problems; patches welcome (it should be relatively easy to fix, but I don't have a 10.8 box to actually try it on). 
https://github.com/Homebrew/homebrew/pull/25823

-anil

From daniel.buenzli at erratique.ch  Wed Mar 26 17:07:35 2014
From: daniel.buenzli at erratique.ch (=?utf-8?Q?Daniel_B=C3=BCnzli?=)
Date: Wed, 26 Mar 2014 18:07:35 +0100
Subject: [opam-devel] Apscud on osx < 10.9 (was Re: aspcud 1.9.0
 packages on Archlinux)
In-Reply-To: <8CEAB00C-E1D4-47EB-8BD7-50CFD8863448@recoil.org>
References: <5332DF18.6040901@luminar.eu.org> <20140326144455.GA24033@voyager>
 <A619B234BC734DF0A181C7ACB32002D7@erratique.ch>
 <8CEAB00C-E1D4-47EB-8BD7-50CFD8863448@recoil.org>
Message-ID: <40FA4730AF2E419A8FD9F01F4AED6AB4@erratique.ch>

Le mercredi, 26 mars 2014 ? 16:49, Anil Madhavapeddy a ?crit :
> libstdc++ and clang problems; patches welcome (it should be relatively easy to fix, but I don't have a 10.8 box to actually try it on).
> https://github.com/Homebrew/homebrew/pull/25823

Ok so the problem AFAIU is that this should be compiled with:

clang++ -std=c++11 -stdlib=libc++

Idiotically that SConstruct thing rewrites our specification of CXX and CXXFLAGS in the environment so we have to go that dirty inreplace way,  
a patch to apply with `git am` on homebrew is attached.  

Best,

Daniel

-------------- next part --------------
A non-text attachment was scrubbed...
Name: 0001-gringo-support-for-10.8.patch
Type: application/octet-stream
Size: 1322 bytes
Desc: not available
URL: <http://lists.ocaml.org/pipermail/opam-devel/attachments/20140326/7bd215a3/attachment.obj>

From anil at recoil.org  Wed Mar 26 20:26:54 2014
From: anil at recoil.org (Anil Madhavapeddy)
Date: Wed, 26 Mar 2014 20:26:54 +0000
Subject: [opam-devel] Apscud on osx < 10.9 (was Re: aspcud 1.9.0
	packages on Archlinux)
In-Reply-To: <40FA4730AF2E419A8FD9F01F4AED6AB4@erratique.ch>
References: <5332DF18.6040901@luminar.eu.org> <20140326144455.GA24033@voyager>
 <A619B234BC734DF0A181C7ACB32002D7@erratique.ch>
 <8CEAB00C-E1D4-47EB-8BD7-50CFD8863448@recoil.org>
 <40FA4730AF2E419A8FD9F01F4AED6AB4@erratique.ch>
Message-ID: <03A67C80-F7DD-4686-B607-E576C73DCDB4@recoil.org>

On 26 Mar 2014, at 17:07, Daniel B?nzli <daniel.buenzli at erratique.ch> wrote:

> Le mercredi, 26 mars 2014 ? 16:49, Anil Madhavapeddy a ?crit :
>> libstdc++ and clang problems; patches welcome (it should be relatively easy to fix, but I don't have a 10.8 box to actually try it on).
>> https://github.com/Homebrew/homebrew/pull/25823
> 
> Ok so the problem AFAIU is that this should be compiled with:
> 
> clang++ -std=c++11 -stdlib=libc++
> 
> Idiotically that SConstruct thing rewrites our specification of CXX and CXXFLAGS in the environment so we have to go that dirty inreplace way,  
> a patch to apply with `git am` on homebrew is attached.  

Thanks, no regression on 10.9, so I submitted it here
https://github.com/Homebrew/homebrew/pull/27893

-a


From daniel.buenzli at erratique.ch  Wed Mar 26 23:25:10 2014
From: daniel.buenzli at erratique.ch (=?utf-8?Q?Daniel_B=C3=BCnzli?=)
Date: Thu, 27 Mar 2014 00:25:10 +0100
Subject: [opam-devel] Apscud on osx < 10.9 (was Re: aspcud 1.9.0
 packages on Archlinux)
In-Reply-To: <03A67C80-F7DD-4686-B607-E576C73DCDB4@recoil.org>
References: <5332DF18.6040901@luminar.eu.org> <20140326144455.GA24033@voyager>
 <A619B234BC734DF0A181C7ACB32002D7@erratique.ch>
 <8CEAB00C-E1D4-47EB-8BD7-50CFD8863448@recoil.org>
 <40FA4730AF2E419A8FD9F01F4AED6AB4@erratique.ch>
 <03A67C80-F7DD-4686-B607-E576C73DCDB4@recoil.org>
Message-ID: <F7980D1351874E3E8B4CD11F2BD2FABA@erratique.ch>

Le mercredi, 26 mars 2014 ? 21:26, Anil Madhavapeddy a ?crit :
> Thanks, no regression on 10.9, so I submitted it here
> https://github.com/Homebrew/homebrew/pull/27893

Thanks.  

Btw. it wasn't really useful since it fails at each update with:

[WARNING] External solver failed with inconsistent return value. Request saved to "/Users/dbuenzli/.opam/log/solver-error-51359-1.cudf"

Is it worth reporting, IIRC quite some tweaks have been made to that on opam's HEAD since 1.1.0  ?  

Daniel



From amc79 at cam.ac.uk  Thu Mar 27 00:04:46 2014
From: amc79 at cam.ac.uk (Amir Chaudhry)
Date: Thu, 27 Mar 2014 00:04:46 +0000
Subject: [opam-devel] Apscud on osx < 10.9 (was Re: aspcud 1.9.0
	packages on Archlinux)
In-Reply-To: <F7980D1351874E3E8B4CD11F2BD2FABA@erratique.ch>
References: <5332DF18.6040901@luminar.eu.org> <20140326144455.GA24033@voyager>
 <A619B234BC734DF0A181C7ACB32002D7@erratique.ch>
 <8CEAB00C-E1D4-47EB-8BD7-50CFD8863448@recoil.org>
 <40FA4730AF2E419A8FD9F01F4AED6AB4@erratique.ch>
 <03A67C80-F7DD-4686-B607-E576C73DCDB4@recoil.org>
 <F7980D1351874E3E8B4CD11F2BD2FABA@erratique.ch>
Message-ID: <CDE5F2F8-123C-4378-B9B7-11C1DEF1F35E@cam.ac.uk>


On 26 Mar 2014, at 23:25, Daniel B?nzli <daniel.buenzli at erratique.ch> wrote:

> Le mercredi, 26 mars 2014 ? 21:26, Anil Madhavapeddy a ?crit :
>> Thanks, no regression on 10.9, so I submitted it here
>> https://github.com/Homebrew/homebrew/pull/27893
> 
> Thanks.  
> 
> Btw. it wasn't really useful since it fails at each update with:
> 
> [WARNING] External solver failed with inconsistent return value. Request saved to "/Users/dbuenzli/.opam/log/solver-error-51359-1.cudf"
> 
> Is it worth reporting, IIRC quite some tweaks have been made to that on opam's HEAD since 1.1.0  ?

I just did `brew remove opam` and `brew install opam --HEAD` and have the same warning message after an `opam update`.

OSX 10.8.5
XCode 5.1
aspcud 1.8.0 (and all deps)

This is the first time I've been able to install aspcud though.

I'll be setting up a VM with OSX 10.8.5 to play around with in the next few days, if that helps.

Amir


From roberto at dicosmo.org  Thu Mar 27 07:31:19 2014
From: roberto at dicosmo.org (Roberto Di Cosmo)
Date: Thu, 27 Mar 2014 08:31:19 +0100
Subject: [opam-devel] Apscud on osx < 10.9 (was Re: aspcud 1.9.0
 packages on Archlinux)
In-Reply-To: <F7980D1351874E3E8B4CD11F2BD2FABA@erratique.ch>
References: <5332DF18.6040901@luminar.eu.org> <20140326144455.GA24033@voyager>
 <A619B234BC734DF0A181C7ACB32002D7@erratique.ch>
 <8CEAB00C-E1D4-47EB-8BD7-50CFD8863448@recoil.org>
 <40FA4730AF2E419A8FD9F01F4AED6AB4@erratique.ch>
 <03A67C80-F7DD-4686-B607-E576C73DCDB4@recoil.org>
 <F7980D1351874E3E8B4CD11F2BD2FABA@erratique.ch>
Message-ID: <20140327073119.GA15564@voyager>

Hi Daniel,
   there have been quite a few significant bug fixes in the handling of
requests through an external solver since 1.1.0 (it had quite a few broken
corner cases back then), so I would really suggest you to update opam to the
latest version in trunk (8f59c7 is the latest relevant fix), and try again

On Thu, Mar 27, 2014 at 12:25:10AM +0100, Daniel B?nzli wrote:
> Le mercredi, 26 mars 2014 ? 21:26, Anil Madhavapeddy a ?crit :
> > Thanks, no regression on 10.9, so I submitted it here
> > https://github.com/Homebrew/homebrew/pull/27893
> 
> Thanks.  
> 
> Btw. it wasn't really useful since it fails at each update with:
> 
> [WARNING] External solver failed with inconsistent return value. Request saved to "/Users/dbuenzli/.opam/log/solver-error-51359-1.cudf"
> 
> Is it worth reporting, IIRC quite some tweaks have been made to that on opam's HEAD since 1.1.0  ?  
> 
> Daniel
> 
> 

-- 
Roberto Di Cosmo
 
------------------------------------------------------------------
Professeur               En delegation a l'INRIA
PPS                      E-mail: roberto at dicosmo.org
Universite Paris Diderot WWW  : http://www.dicosmo.org
Case 7014                Tel  : ++33-(0)1-57 27 92 20
5, Rue Thomas Mann       
F-75205 Paris Cedex 13   Identica: http://identi.ca/rdicosmo
FRANCE.                  Twitter: http://twitter.com/rdicosmo
------------------------------------------------------------------
Attachments:
MIME accepted, Word deprecated
      http://www.gnu.org/philosophy/no-word-attachments.html
------------------------------------------------------------------
Office location:
 
Bureau 3020 (3rd floor)
Batiment Sophie Germain
Avenue de France
Metro Bibliotheque Francois Mitterrand, ligne 14/RER C
-----------------------------------------------------------------
GPG fingerprint 2931 20CE 3A5A 5390 98EC 8BFC FCCA C3BE 39CB 12D3                        

From louis.gesbert at ocamlpro.com  Thu Mar 27 09:19:21 2014
From: louis.gesbert at ocamlpro.com (Louis Gesbert)
Date: Thu, 27 Mar 2014 10:19:21 +0100
Subject: [opam-devel] News on OPAM development
Message-ID: <14700638.2itGagBXmF@agaric>

Hi all,

Here is some news on OPAM development: I have been a bit quiet on this list since 1.1.1, but I was indeed very busy working on the next version.

OPAM has seen a _lot_ of changes since 1.1.1: not all very visible, but there has been a lot of refactorings, rewritings and consolidations. As a result, reports and error messages should be much clearer and useful: we have been focusing on UI, with for example a rewritten parser storing file positions, and a whole new computation of the explanations for the solver proposed actions. The interactions with the external solver have also been much improved.

The processing of the package actions (install, remove, etc.) is also more solid, with all downloads done first, and overall there was a lot of effort put into improving the behaviour in case of interruption or error.

In these rewrites, I have also been planning for future evolutions ; there are also some new features, like for example a simple way to enable OPAM to run an OPAM binary updated from within OPAM.

You may check the CHANGES file [1] for more details.

In order to classify the different targets and features, I am experimenting with Trello [2]. You are welcome to check it out and comment.


You should expect a Beta of OPAM 1.2.0 with all this in the coming weeks.

Cheers,
Louis


[1] https://github.com/ocaml/opam/blob/master/CHANGES
[2] https://trello.com/b/IbjdIZbL/opam

From mort at cantab.net  Thu Mar 27 10:10:28 2014
From: mort at cantab.net (Richard Mortier)
Date: Thu, 27 Mar 2014 10:10:28 +0000
Subject: [opam-devel] News on OPAM development
In-Reply-To: <14700638.2itGagBXmF@agaric>
References: <14700638.2itGagBXmF@agaric>
Message-ID: <CAN2Hq07xCb4S8ZNC02R1wOkuwt5=OTWoky20jsk3ha65FJUU0Q@mail.gmail.com>

On 27 March 2014 09:19, Louis Gesbert <louis.gesbert at ocamlpro.com> wrote:
...
> The processing of the package actions (install, remove, etc.) is also more solid, with all downloads done first, and overall there was a lot of effort put into improving the behaviour in case of interruption or error.

as someone who filed a number of issues related to this -- excellent,
many thanks! :)

> In order to classify the different targets and features, I am experimenting with Trello [2]. You are welcome to check it out and comment.
>

this is your workflow not mine so i hesitate to comment, but i do have
a question i couldn't answer after a quick glance at the website: does
it integrate with github issues, or would you expect bug reports to be
posted via trello?

> You should expect a Beta of OPAM 1.2.0 with all this in the coming weeks.

i look forward to trying it :)

-- 
Richard Mortier
mort at cantab.net

From louis.gesbert at ocamlpro.com  Thu Mar 27 10:25:48 2014
From: louis.gesbert at ocamlpro.com (Louis Gesbert)
Date: Thu, 27 Mar 2014 11:25:48 +0100
Subject: [opam-devel] News on OPAM development
In-Reply-To: <CAN2Hq07xCb4S8ZNC02R1wOkuwt5=OTWoky20jsk3ha65FJUU0Q@mail.gmail.com>
References: <14700638.2itGagBXmF@agaric>
 <CAN2Hq07xCb4S8ZNC02R1wOkuwt5=OTWoky20jsk3ha65FJUU0Q@mail.gmail.com>
Message-ID: <8898012.AKn0YEN9rk@agaric>

Le jeudi 27 mars 2014, 10:10:28 Richard Mortier a ?crit :

> > In order to classify the different targets and features, I am experimenting with Trello [2]. You are welcome to check it out and comment.
> >
> 
> this is your workflow not mine so i hesitate to comment, but i do have
> a question i couldn't answer after a quick glance at the website: does
> it integrate with github issues, or would you expect bug reports to be
> posted via trello?

Don't worry, I still work primarily with github issues. I'm just trying this for higher-level features and longer term goals because it gives a clearer overview ; PRs are automatically pushed to trello, but that's it (although I heard you can do more using zapier).


From anil at recoil.org  Thu Mar 27 11:17:22 2014
From: anil at recoil.org (Anil Madhavapeddy)
Date: Thu, 27 Mar 2014 11:17:22 +0000
Subject: [opam-devel] News on OPAM development
In-Reply-To: <8898012.AKn0YEN9rk@agaric>
References: <14700638.2itGagBXmF@agaric>
 <CAN2Hq07xCb4S8ZNC02R1wOkuwt5=OTWoky20jsk3ha65FJUU0Q@mail.gmail.com>
 <8898012.AKn0YEN9rk@agaric>
Message-ID: <27C3FDD8-8628-42B5-B0BA-DB11293D7EF2@recoil.org>

On 27 Mar 2014, at 10:25, Louis Gesbert <louis.gesbert at ocamlpro.com> wrote:

> Le jeudi 27 mars 2014, 10:10:28 Richard Mortier a ?crit :
> 
>>> In order to classify the different targets and features, I am experimenting with Trello [2]. You are welcome to check it out and comment.
>>> 
>> 
>> this is your workflow not mine so i hesitate to comment, but i do have
>> a question i couldn't answer after a quick glance at the website: does
>> it integrate with github issues, or would you expect bug reports to be
>> posted via trello?
> 
> Don't worry, I still work primarily with github issues. I'm just trying this for higher-level features and longer term goals because it gives a clearer overview ; PRs are automatically pushed to trello, but that's it (although I heard you can do more using zapier).

I'd be interested in how this goes -- I've been searching for something that'll help manage GitHub issues across projects too (e.g. for a single organization with multiple repositories) without success.  Something that uses GitHub issues as its storage backend, but with a nice unified web interface would be wonderful (this worked great for the RWO review process, but that was homebrew of course).

-anil


From anil at recoil.org  Thu Mar 27 11:18:33 2014
From: anil at recoil.org (Anil Madhavapeddy)
Date: Thu, 27 Mar 2014 11:18:33 +0000
Subject: [opam-devel] Apscud on osx < 10.9 (was Re: aspcud 1.9.0
	packages on Archlinux)
In-Reply-To: <F7980D1351874E3E8B4CD11F2BD2FABA@erratique.ch>
References: <5332DF18.6040901@luminar.eu.org> <20140326144455.GA24033@voyager>
 <A619B234BC734DF0A181C7ACB32002D7@erratique.ch>
 <8CEAB00C-E1D4-47EB-8BD7-50CFD8863448@recoil.org>
 <40FA4730AF2E419A8FD9F01F4AED6AB4@erratique.ch>
 <03A67C80-F7DD-4686-B607-E576C73DCDB4@recoil.org>
 <F7980D1351874E3E8B4CD11F2BD2FABA@erratique.ch>
Message-ID: <F83CE6F6-F05D-453C-8DD5-25FF088F5F59@recoil.org>

On 26 Mar 2014, at 23:25, Daniel B?nzli <daniel.buenzli at erratique.ch> wrote:

> Le mercredi, 26 mars 2014 ? 21:26, Anil Madhavapeddy a ?crit :
>> Thanks, no regression on 10.9, so I submitted it here
>> https://github.com/Homebrew/homebrew/pull/27893
> 
> Thanks.  
> 
> Btw. it wasn't really useful since it fails at each update with:
> 
> [WARNING] External solver failed with inconsistent return value. Request saved to "/Users/dbuenzli/.opam/log/solver-error-51359-1.cudf"
> 
> Is it worth reporting, IIRC quite some tweaks have been made to that on opam's HEAD since 1.1.0  ?  

It should have exactly the same behaviour on 10.8 as on 10.9, so this may just be gringo segfaulting or abort trapping.  Could you try running it manually with some illegal input to see how far it gets?

-anil

From daniel.buenzli at erratique.ch  Thu Mar 27 11:15:26 2014
From: daniel.buenzli at erratique.ch (=?utf-8?Q?Daniel_B=C3=BCnzli?=)
Date: Thu, 27 Mar 2014 12:15:26 +0100
Subject: [opam-devel] Apscud on osx < 10.9 (was Re: aspcud 1.9.0
 packages on Archlinux)
In-Reply-To: <CDE5F2F8-123C-4378-B9B7-11C1DEF1F35E@cam.ac.uk>
References: <5332DF18.6040901@luminar.eu.org> <20140326144455.GA24033@voyager>
 <A619B234BC734DF0A181C7ACB32002D7@erratique.ch>
 <8CEAB00C-E1D4-47EB-8BD7-50CFD8863448@recoil.org>
 <40FA4730AF2E419A8FD9F01F4AED6AB4@erratique.ch>
 <03A67C80-F7DD-4686-B607-E576C73DCDB4@recoil.org>
 <F7980D1351874E3E8B4CD11F2BD2FABA@erratique.ch>
 <CDE5F2F8-123C-4378-B9B7-11C1DEF1F35E@cam.ac.uk>
Message-ID: <09F1A64BC3964B679350D906D7C60292@erratique.ch>



Le jeudi, 27 mars 2014 ? 01:04, Amir Chaudhry a ?crit :

> I just did `brew remove opam` and `brew install opam --HEAD` and have the same warning message after an `opam update`.

Does `brew install opam --HEAD` really work (I used to install opam manually) ? I tried that an if I do `opam --git-version` I get an empty line.  
In any case if that works I still get the external solver failure. I attached the file to this message.

Best,

Daniel
-------------- next part --------------
A non-text attachment was scrubbed...
Name: solver-error-76189-1.cudf
Type: application/octet-stream
Size: 308010 bytes
Desc: not available
URL: <http://lists.ocaml.org/pipermail/opam-devel/attachments/20140327/143088c7/attachment-0001.obj>

From daniel.buenzli at erratique.ch  Thu Mar 27 11:46:02 2014
From: daniel.buenzli at erratique.ch (=?utf-8?Q?Daniel_B=C3=BCnzli?=)
Date: Thu, 27 Mar 2014 12:46:02 +0100
Subject: [opam-devel] Apscud on osx < 10.9 (was Re: aspcud 1.9.0
 packages on Archlinux)
In-Reply-To: <09F1A64BC3964B679350D906D7C60292@erratique.ch>
References: <5332DF18.6040901@luminar.eu.org> <20140326144455.GA24033@voyager>
 <A619B234BC734DF0A181C7ACB32002D7@erratique.ch>
 <8CEAB00C-E1D4-47EB-8BD7-50CFD8863448@recoil.org>
 <40FA4730AF2E419A8FD9F01F4AED6AB4@erratique.ch>
 <03A67C80-F7DD-4686-B607-E576C73DCDB4@recoil.org>
 <F7980D1351874E3E8B4CD11F2BD2FABA@erratique.ch>
 <CDE5F2F8-123C-4378-B9B7-11C1DEF1F35E@cam.ac.uk>
 <09F1A64BC3964B679350D906D7C60292@erratique.ch>
Message-ID: <DBC065F582D847C491423F99611E09EF@erratique.ch>

Le jeudi, 27 mars 2014 ? 12:15, Daniel B?nzli a ?crit :
> In any case if that works I still get the external solver failure.

And it seems that the pretended fallback to the internal solver makes a complete mess (you get different result than if you use --no-apscud). I'm in the middle of a total opam meltdown. Can please anybody confirm me that `brew install opam --HEAD` really installs HEAD despite the fact that `opam --git-version` is empty ?  

Daniel



From anil at recoil.org  Thu Mar 27 11:54:54 2014
From: anil at recoil.org (Anil Madhavapeddy)
Date: Thu, 27 Mar 2014 11:54:54 +0000
Subject: [opam-devel] Apscud on osx < 10.9 (was Re: aspcud 1.9.0
	packages on Archlinux)
In-Reply-To: <DBC065F582D847C491423F99611E09EF@erratique.ch>
References: <5332DF18.6040901@luminar.eu.org> <20140326144455.GA24033@voyager>
 <A619B234BC734DF0A181C7ACB32002D7@erratique.ch>
 <8CEAB00C-E1D4-47EB-8BD7-50CFD8863448@recoil.org>
 <40FA4730AF2E419A8FD9F01F4AED6AB4@erratique.ch>
 <03A67C80-F7DD-4686-B607-E576C73DCDB4@recoil.org>
 <F7980D1351874E3E8B4CD11F2BD2FABA@erratique.ch>
 <CDE5F2F8-123C-4378-B9B7-11C1DEF1F35E@cam.ac.uk>
 <09F1A64BC3964B679350D906D7C60292@erratique.ch>
 <DBC065F582D847C491423F99611E09EF@erratique.ch>
Message-ID: <6FE03056-82B6-4DAE-BFC7-3B44906661A8@recoil.org>

On 27 Mar 2014, at 11:46, Daniel B?nzli <daniel.buenzli at erratique.ch> wrote:

> Le jeudi, 27 mars 2014 ? 12:15, Daniel B?nzli a ?crit :
>> In any case if that works I still get the external solver failure.
> 
> And it seems that the pretended fallback to the internal solver makes a complete mess (you get different result than if you use --no-apscud). I'm in the middle of a total opam meltdown. Can please anybody confirm me that `brew install opam --HEAD` really installs HEAD despite the fact that `opam --git-version` is empty ?  

That should work to the best of my knowledge, although git-version being empty sounds like a bug.  It could be because Homebrew just fetches the archive and not a git clone.

-anil

From daniel.buenzli at erratique.ch  Thu Mar 27 12:01:08 2014
From: daniel.buenzli at erratique.ch (=?utf-8?Q?Daniel_B=C3=BCnzli?=)
Date: Thu, 27 Mar 2014 13:01:08 +0100
Subject: [opam-devel] Apscud on osx < 10.9 (was Re: aspcud 1.9.0
 packages on Archlinux)
In-Reply-To: <DBC065F582D847C491423F99611E09EF@erratique.ch>
References: <5332DF18.6040901@luminar.eu.org> <20140326144455.GA24033@voyager>
 <A619B234BC734DF0A181C7ACB32002D7@erratique.ch>
 <8CEAB00C-E1D4-47EB-8BD7-50CFD8863448@recoil.org>
 <40FA4730AF2E419A8FD9F01F4AED6AB4@erratique.ch>
 <03A67C80-F7DD-4686-B607-E576C73DCDB4@recoil.org>
 <F7980D1351874E3E8B4CD11F2BD2FABA@erratique.ch>
 <CDE5F2F8-123C-4378-B9B7-11C1DEF1F35E@cam.ac.uk>
 <09F1A64BC3964B679350D906D7C60292@erratique.ch>
 <DBC065F582D847C491423F99611E09EF@erratique.ch>
Message-ID: <012B5DD792F9404694E3BDD2F3E5DDD4@erratique.ch>

Ok so it seems that: 

* I do have some kind of version > 1.1.1, opam --git-version should be fixed, it's annoying to be blind.
* apscud doesn't work on 10.8.5 I always get the warning mentioned earlier and it falls back to the internal solver
* falling back to the internal solver has catastrophic consequences (it even wants to remove the base packages), the solutions are absurdly different from those proposed by a call without external solver.

`brew remove apscud` is my fix for now, I need some work to get done. 

Best,

Daniel



From roberto at dicosmo.org  Thu Mar 27 12:47:45 2014
From: roberto at dicosmo.org (Roberto Di Cosmo)
Date: Thu, 27 Mar 2014 13:47:45 +0100
Subject: [opam-devel] Apscud on osx < 10.9 (was Re: aspcud 1.9.0
 packages on Archlinux)
In-Reply-To: <DBC065F582D847C491423F99611E09EF@erratique.ch>
References: <5332DF18.6040901@luminar.eu.org> <20140326144455.GA24033@voyager>
 <A619B234BC734DF0A181C7ACB32002D7@erratique.ch>
 <8CEAB00C-E1D4-47EB-8BD7-50CFD8863448@recoil.org>
 <40FA4730AF2E419A8FD9F01F4AED6AB4@erratique.ch>
 <03A67C80-F7DD-4686-B607-E576C73DCDB4@recoil.org>
 <F7980D1351874E3E8B4CD11F2BD2FABA@erratique.ch>
 <CDE5F2F8-123C-4378-B9B7-11C1DEF1F35E@cam.ac.uk>
 <09F1A64BC3964B679350D906D7C60292@erratique.ch>
 <DBC065F582D847C491423F99611E09EF@erratique.ch>
Message-ID: <20140327124745.GB32017@voyager>

>From the little I can grasp from the description, your version
of opam seems really outdated: this kind of problems were present in the
old opam code for external solvers (including the wrong fallback to the
internal solver), and have been fixed now for weeks.

I can confirm that with the version in trunk opam --git-version does
not return an empty string here.

As a side test, you may try opam --help; if you do not see a line describing the
option --criteria=CRITERIA, that you are sure you are not on trunk.

But it is probably safer to just git clone git at github.com:ocaml/opam.git
and rebuild everything from there.

--
Roberto

On Thu, Mar 27, 2014 at 12:46:02PM +0100, Daniel B?nzli wrote:
> Le jeudi, 27 mars 2014 ? 12:15, Daniel B?nzli a ?crit :
> > In any case if that works I still get the external solver failure.
> 
> And it seems that the pretended fallback to the internal solver makes a complete mess (you get different result than if you use --no-apscud). I'm in the middle of a total opam meltdown. Can please anybody confirm me that `brew install opam --HEAD` really installs HEAD despite the fact that `opam --git-version` is empty ?  
> 
> Daniel
> 
> 
> _______________________________________________
> opam-devel mailing list
> opam-devel at lists.ocaml.org
> http://lists.ocaml.org/listinfo/opam-devel

-- 
Roberto Di Cosmo
 
------------------------------------------------------------------
Professeur               En delegation a l'INRIA
PPS                      E-mail: roberto at dicosmo.org
Universite Paris Diderot WWW  : http://www.dicosmo.org
Case 7014                Tel  : ++33-(0)1-57 27 92 20
5, Rue Thomas Mann       
F-75205 Paris Cedex 13   Identica: http://identi.ca/rdicosmo
FRANCE.                  Twitter: http://twitter.com/rdicosmo
------------------------------------------------------------------
Attachments:
MIME accepted, Word deprecated
      http://www.gnu.org/philosophy/no-word-attachments.html
------------------------------------------------------------------
Office location:
 
Bureau 3020 (3rd floor)
Batiment Sophie Germain
Avenue de France
Metro Bibliotheque Francois Mitterrand, ligne 14/RER C
-----------------------------------------------------------------
GPG fingerprint 2931 20CE 3A5A 5390 98EC 8BFC FCCA C3BE 39CB 12D3                        

From roberto at dicosmo.org  Thu Mar 27 12:52:46 2014
From: roberto at dicosmo.org (Roberto Di Cosmo)
Date: Thu, 27 Mar 2014 13:52:46 +0100
Subject: [opam-devel] Apscud on osx < 10.9 (was Re: aspcud 1.9.0
 packages on Archlinux)
In-Reply-To: <09F1A64BC3964B679350D906D7C60292@erratique.ch>
References: <5332DF18.6040901@luminar.eu.org> <20140326144455.GA24033@voyager>
 <A619B234BC734DF0A181C7ACB32002D7@erratique.ch>
 <8CEAB00C-E1D4-47EB-8BD7-50CFD8863448@recoil.org>
 <40FA4730AF2E419A8FD9F01F4AED6AB4@erratique.ch>
 <03A67C80-F7DD-4686-B607-E576C73DCDB4@recoil.org>
 <F7980D1351874E3E8B4CD11F2BD2FABA@erratique.ch>
 <CDE5F2F8-123C-4378-B9B7-11C1DEF1F35E@cam.ac.uk>
 <09F1A64BC3964B679350D906D7C60292@erratique.ch>
Message-ID: <20140327125246.GA1014@voyager>

Just tested with your cudf file, and aspcud works perfectly here (Debian/amd64),
so it's probably an issue with the aspcud port on your platform

$ aspcud /tmp/solver-error-76189-1.cudf /tmp/sol "-count(removed),-notuptodate(solution),-count(new)"
clasp version 3.0.1
Reading from /tmp/gringo.out7yQheY
Solving...
Answer: 1

OPTIMUM FOUND

Models       : 1     
  Optimum    : yes
Optimization : 0 0 0
Calls        : 1
Time         : 0.000s (Solving: 0.00s 1st Model: 0.00s Unsat: 0.00s)
CPU Time     : 0.000s

Choices      : 0       
Conflicts    : 1        (Analyzed: 0)
Restarts     : 0       
Model-Level  : 0.0     
Problems     : 1        (Average Length: 0.00 Splits: 0)
Lemmas       : 0        (Deleted: 0)
  Binary     : 0        (Ratio:   0.00%)
  Ternary    : 0        (Ratio:   0.00%)
  Conflict   : 0        (Average Length:    0.0 Ratio:   0.00%) 
  Loop       : 0        (Average Length:    0.0 Ratio:   0.00%) 
  Other      : 0        (Average Length:    0.0 Ratio:   0.00%) 
Backjumps    : 0        (Average:  0.00 Max:   0 Sum:      0)
  Executed   : 0        (Average:  0.00 Max:   0 Sum:      0 Ratio:   0.00%)
  Bounded    : 0        (Average:  0.00 Max:   0 Sum:      0 Ratio: 100.00%)

Atoms        : 659     
Rules        : 661      (1: 658 6: 3)
Bodies       : 1       
Equivalences : 1315     (Atom=Atom: 657 Body=Body: 0 Other: 658)
Tight        : Yes
Variables    : 0        (Eliminated:    0 Frozen:    0)
Constraints  : 0        (Binary:  0.0% Ternary:  0.0% Other:  0.0%)


On Thu, Mar 27, 2014 at 12:15:26PM +0100, Daniel B?nzli wrote:
> 
> 
> Le jeudi, 27 mars 2014 ? 01:04, Amir Chaudhry a ?crit :
> 
> > I just did `brew remove opam` and `brew install opam --HEAD` and have the same warning message after an `opam update`.
> 
> Does `brew install opam --HEAD` really work (I used to install opam manually) ? I tried that an if I do `opam --git-version` I get an empty line.  
> In any case if that works I still get the external solver failure. I attached the file to this message.
> 
> Best,
> 
> Daniel


> _______________________________________________
> opam-devel mailing list
> opam-devel at lists.ocaml.org
> http://lists.ocaml.org/listinfo/opam-devel


-- 
Roberto Di Cosmo
 
------------------------------------------------------------------
Professeur               En delegation a l'INRIA
PPS                      E-mail: roberto at dicosmo.org
Universite Paris Diderot WWW  : http://www.dicosmo.org
Case 7014                Tel  : ++33-(0)1-57 27 92 20
5, Rue Thomas Mann       
F-75205 Paris Cedex 13   Identica: http://identi.ca/rdicosmo
FRANCE.                  Twitter: http://twitter.com/rdicosmo
------------------------------------------------------------------
Attachments:
MIME accepted, Word deprecated
      http://www.gnu.org/philosophy/no-word-attachments.html
------------------------------------------------------------------
Office location:
 
Bureau 3020 (3rd floor)
Batiment Sophie Germain
Avenue de France
Metro Bibliotheque Francois Mitterrand, ligne 14/RER C
-----------------------------------------------------------------
GPG fingerprint 2931 20CE 3A5A 5390 98EC 8BFC FCCA C3BE 39CB 12D3                        

From roberto at dicosmo.org  Thu Mar 27 12:56:51 2014
From: roberto at dicosmo.org (Roberto Di Cosmo)
Date: Thu, 27 Mar 2014 13:56:51 +0100
Subject: [opam-devel] Apscud on osx < 10.9 (was Re: aspcud 1.9.0
 packages on Archlinux)
In-Reply-To: <012B5DD792F9404694E3BDD2F3E5DDD4@erratique.ch>
References: <20140326144455.GA24033@voyager>
 <A619B234BC734DF0A181C7ACB32002D7@erratique.ch>
 <8CEAB00C-E1D4-47EB-8BD7-50CFD8863448@recoil.org>
 <40FA4730AF2E419A8FD9F01F4AED6AB4@erratique.ch>
 <03A67C80-F7DD-4686-B607-E576C73DCDB4@recoil.org>
 <F7980D1351874E3E8B4CD11F2BD2FABA@erratique.ch>
 <CDE5F2F8-123C-4378-B9B7-11C1DEF1F35E@cam.ac.uk>
 <09F1A64BC3964B679350D906D7C60292@erratique.ch>
 <DBC065F582D847C491423F99611E09EF@erratique.ch>
 <012B5DD792F9404694E3BDD2F3E5DDD4@erratique.ch>
Message-ID: <20140327125651.GC32017@voyager>

On Thu, Mar 27, 2014 at 01:01:08PM +0100, Daniel B?nzli wrote:
> Ok so it seems that: 
> 
> * I do have some kind of version > 1.1.1, opam --git-version should be fixed, it's annoying to be blind.

Indeed

> * apscud doesn't work on 10.8.5 I always get the warning mentioned earlier and it falls back to the internal solver

Seems so... to check this is actually the case, you can call aspcud directly on the cudf you generated, for example

$ aspcud /tmp/solver-error-76189-1.cudf /tmp/sol.cudf "-count(removed),-notuptodate(solution),-count(new)"

> * falling back to the internal solver has catastrophic consequences (it even
> wants to remove the base packages), the solutions are absurdly different from
> those proposed by a call without external solver.

In oldish versions of opam, despite the message stating "falling back to the
internal solver", no fall-back was performed, hence the absurd solutions.
This was fixed in trunk by Louis and me recently.

> 
> 
> _______________________________________________
> opam-devel mailing list
> opam-devel at lists.ocaml.org
> http://lists.ocaml.org/listinfo/opam-devel

-- 
Roberto Di Cosmo
 
------------------------------------------------------------------
Professeur               En delegation a l'INRIA
PPS                      E-mail: roberto at dicosmo.org
Universite Paris Diderot WWW  : http://www.dicosmo.org
Case 7014                Tel  : ++33-(0)1-57 27 92 20
5, Rue Thomas Mann       
F-75205 Paris Cedex 13   Identica: http://identi.ca/rdicosmo
FRANCE.                  Twitter: http://twitter.com/rdicosmo
------------------------------------------------------------------
Attachments:
MIME accepted, Word deprecated
      http://www.gnu.org/philosophy/no-word-attachments.html
------------------------------------------------------------------
Office location:
 
Bureau 3020 (3rd floor)
Batiment Sophie Germain
Avenue de France
Metro Bibliotheque Francois Mitterrand, ligne 14/RER C
-----------------------------------------------------------------
GPG fingerprint 2931 20CE 3A5A 5390 98EC 8BFC FCCA C3BE 39CB 12D3                        

From daniel.buenzli at erratique.ch  Thu Mar 27 13:03:21 2014
From: daniel.buenzli at erratique.ch (=?utf-8?Q?Daniel_B=C3=BCnzli?=)
Date: Thu, 27 Mar 2014 14:03:21 +0100
Subject: [opam-devel] Apscud on osx < 10.9 (was Re: aspcud 1.9.0
 packages on Archlinux)
In-Reply-To: <20140327125651.GC32017@voyager>
References: <20140326144455.GA24033@voyager>
 <A619B234BC734DF0A181C7ACB32002D7@erratique.ch>
 <8CEAB00C-E1D4-47EB-8BD7-50CFD8863448@recoil.org>
 <40FA4730AF2E419A8FD9F01F4AED6AB4@erratique.ch>
 <03A67C80-F7DD-4686-B607-E576C73DCDB4@recoil.org>
 <F7980D1351874E3E8B4CD11F2BD2FABA@erratique.ch>
 <CDE5F2F8-123C-4378-B9B7-11C1DEF1F35E@cam.ac.uk>
 <09F1A64BC3964B679350D906D7C60292@erratique.ch>
 <DBC065F582D847C491423F99611E09EF@erratique.ch>
 <012B5DD792F9404694E3BDD2F3E5DDD4@erratique.ch>
 <20140327125651.GC32017@voyager>
Message-ID: <DAF937E2EE99463BBF157C05DA434256@erratique.ch>

Le jeudi, 27 mars 2014 ? 13:56, Roberto Di Cosmo a ?crit :
> In oldish versions of opam, despite the message stating "falling back to the
> internal solver", no fall-back was performed, hence the absurd solutions.
> This was fixed in trunk by Louis and me recently.

This doesn't seem to work as I was getting those with brew opam --HEAD, which seems to be the latest version of trunk.  

Best,

Daniel



From louis.gesbert at ocamlpro.com  Thu Mar 27 13:11:04 2014
From: louis.gesbert at ocamlpro.com (Louis Gesbert)
Date: Thu, 27 Mar 2014 14:11:04 +0100
Subject: [opam-devel] Apscud on osx < 10.9 (was Re: aspcud 1.9.0
	packages on Archlinux)
In-Reply-To: <012B5DD792F9404694E3BDD2F3E5DDD4@erratique.ch>
References: <5332DF18.6040901@luminar.eu.org>
 <DBC065F582D847C491423F99611E09EF@erratique.ch>
 <012B5DD792F9404694E3BDD2F3E5DDD4@erratique.ch>
Message-ID: <1573523.3aDQpuZCjC@agaric>

Le jeudi 27 mars 2014, 13:01:08 Daniel B?nzli a ?crit :
> Ok so it seems that: 
> 
> * I do have some kind of version > 1.1.1, opam --git-version should be fixed, it's annoying to be blind.

My guess, as Anil suggested, is that brew fetches an archive instead of a git clone, so getting the git hash in the build system doesn't work. OR it may be an issue with the `with-ocamlbuild` build system, I'll check what brew does.

> * apscud doesn't work on 10.8.5 I always get the warning mentioned earlier and it falls back to the internal solver
> * falling back to the internal solver has catastrophic consequences (it even wants to remove the base packages), the solutions are absurdly different from those proposed by a call without external solver.

hm :(
I think I may know where that comes from (there is a preprocessing of the request taking place for the internal solver, which hasn't been done in this case. Never liked that part). I'll see if there is an easy workaround.

> `brew remove apscud` is my fix for now, I need some work to get done. 

Sorry to hear that, and thanks anyway for your help with the debugging !

Cheers,
Louis

From daniel.buenzli at erratique.ch  Thu Mar 27 13:11:07 2014
From: daniel.buenzli at erratique.ch (=?utf-8?Q?Daniel_B=C3=BCnzli?=)
Date: Thu, 27 Mar 2014 14:11:07 +0100
Subject: [opam-devel] Apscud on osx < 10.9 (was Re: aspcud 1.9.0
 packages on Archlinux)
In-Reply-To: <20140327125246.GA1014@voyager>
References: <5332DF18.6040901@luminar.eu.org> <20140326144455.GA24033@voyager>
 <A619B234BC734DF0A181C7ACB32002D7@erratique.ch>
 <8CEAB00C-E1D4-47EB-8BD7-50CFD8863448@recoil.org>
 <40FA4730AF2E419A8FD9F01F4AED6AB4@erratique.ch>
 <03A67C80-F7DD-4686-B607-E576C73DCDB4@recoil.org>
 <F7980D1351874E3E8B4CD11F2BD2FABA@erratique.ch>
 <CDE5F2F8-123C-4378-B9B7-11C1DEF1F35E@cam.ac.uk>
 <09F1A64BC3964B679350D906D7C60292@erratique.ch>
 <20140327125246.GA1014@voyager>
Message-ID: <EF38092A42044D0EBF602B0361411112@erratique.ch>

Le jeudi, 27 mars 2014 ? 13:52, Roberto Di Cosmo a ?crit :
> Just tested with your cudf file, and aspcud works perfectly here (Debian/amd64),
> so it's probably an issue with the aspcud port on your platform
>  
> $ aspcud /tmp/solver-error-76189-1.cudf /tmp/sol "-count(removed),-notuptodate(solution),-count(new)"
This invocation gives that here:

> aspcud /tmp/solver-error-76189-1.cudf /tmp/sol "-count(removed),-notuptodate(solution),-count(new)"
*** ERROR: (clasp): In context '<clasp>': unknown option: 'opt-hierarch'
*** Info : (clasp): Try '--help' for usage information
/usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:150:57-76: warning: atom is undefined:
recommends(P,V,D,W)
/usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:150:78-92: warning: atom is undefined:
installed(P,V)
/usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:148:57-75: warning: atom is undefined:
attribute(P,V,A,X)
/usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:148:77-91: warning: atom is undefined:
installed(P,V)
/usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:146:64-78: warning: atom is undefined:
installed(P,V)
/usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:305:45-57: warning: atom is undefined:
unit(P,V,in)
/usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:230:79-91: warning: atom is undefined:
unit(P,V,in)
/usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:36:14-27: warning: atom is undefined:
clique(#X0,#P1,#P2)
/usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:39:37-50: warning: atom is undefined:
clique(I,P,V)
/usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:39:52-64: warning: atom is undefined:
unit(P,V,in)
/usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:38:52-65: warning: atom is undefined:
clique(I,P,V)
/usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:38:37-49: warning: atom is undefined:
unit(P,V,in)
/usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:144:42-56: warning: atom is undefined:
installed(P,V)
/usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:141:16-30: warning: atom is undefined:
installed(P,V)
/usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:103:79-91: warning: atom is undefined:
unit(P,V,in)
/usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:161:63-81: warning: atom is undefined:
attribute(P,V,A,X)
/usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:164:42-61: warning: atom is undefined:
recommends(P,V,D,W)
/usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:106:49-65: warning: atom is undefined:
not unit(P,V,in)
/usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:138:57-76: warning: atom is undefined:
recommends(P,V,D,W)
/usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:109:50-68: warning: atom is undefined:
attribute(P,V,A,X)





From daniel.buenzli at erratique.ch  Thu Mar 27 13:18:34 2014
From: daniel.buenzli at erratique.ch (=?utf-8?Q?Daniel_B=C3=BCnzli?=)
Date: Thu, 27 Mar 2014 14:18:34 +0100
Subject: [opam-devel] Apscud on osx < 10.9 (was Re: aspcud 1.9.0
 packages on Archlinux)
In-Reply-To: <1573523.3aDQpuZCjC@agaric>
References: <5332DF18.6040901@luminar.eu.org>
 <DBC065F582D847C491423F99611E09EF@erratique.ch>
 <012B5DD792F9404694E3BDD2F3E5DDD4@erratique.ch>
 <1573523.3aDQpuZCjC@agaric>
Message-ID: <3AB1C5E2E5F94F44A3D05AD35BBCE36E@erratique.ch>

Le jeudi, 27 mars 2014 ? 14:11, Louis Gesbert a ?crit :
> hm :(
> I think I may know where that comes from (there is a preprocessing of the request taking place for the internal solver, which hasn't been done in this case. Never liked that part). I'll see if there is an easy workaround.

I really confirm that one, this is with HEAD and apscud failing as per my preceding message:

[WARNING] External solver failed with inconsistent return value. Request saved to "/Users/dbuenzli/.opam/log/solver-error-22014-1.cudf"
Falling back to the internal heuristic.
The following actions will be performed:
- remove utop.pinned [conflicts with ocamlfind]
- remove xmlm.1.2.0 [conflicts with ocamlfind]
- remove lit.unreleased [conflicts with ocamlfind]
- remove tsdl.unreleased [conflicts with ocamlfind]
- remove pkgopkg.repo [upstream changes]
- remove oasis.0.4.4 [conflicts with ocamlfind]
- remove ocp-index.1.0.2 [uses cmdliner]
- remove base-bigarray.base [upstream changes]
- remove lambda-term.pinned [conflicts with ocamlfind]
- remove tgls.unreleased [conflicts with ocamlfind]
- remove js_of_ocaml.pinned [conflicts with ocamlfind]
- remove gg.pinned [conflicts with ocamlfind]
- remove ocamlmod.0.0.4 [conflicts with ocamlfind]
- remove ocamlify.0.0.1 [conflicts with ocamlfind]
- remove ocaml-data-notation.0.0.11 [conflicts with ocamlfind]
- remove re.1.2.1 [conflicts with ocamlfind]
- remove ocp-indent.1.4.1 [uses cmdliner]
- remove zed.1.2 [conflicts with ocamlfind]
- remove ctypes.0.2.3 [conflicts with ocamlfind]
- remove menhir.20130912 [conflicts with ocamlfind]
- remove lwt.pinned [conflicts with ocamlfind]
- remove fileutils.0.4.4 [conflicts with ocamlfind]
- remove type_conv.109.60.01 [conflicts with ocamlfind]
- remove ocp-build.1.99.6-beta [required by ocp-indent]
- remove cmdliner.0.9.4 [conflicts with ocamlfind]
- remove camomile.0.8.5 [conflicts with ocamlfind]
- remove base-unix.base [required by lwt]
- remove base-threads.base [required by lwt]
- remove ounit.2.0.0 [conflicts with ocamlfind]
- remove typerex.1.99.6-beta [conflicts with ocamlfind]
- downgrade ocamlfind from 1.4.0 to 1.3.2 [required by rtime]
- recompile react.pinned [uses ocamlfind]
- install rtime.0.9.3
1 to install | 1 to reinstall | 0 to upgrade | 1 to downgrade | 30 to remove






From Pietro.Abate at pps.univ-paris-diderot.fr  Thu Mar 27 13:21:11 2014
From: Pietro.Abate at pps.univ-paris-diderot.fr (Pietro Abate)
Date: Thu, 27 Mar 2014 14:21:11 +0100
Subject: [opam-devel] Apscud on osx < 10.9 (was Re: aspcud 1.9.0
 packages on Archlinux)
In-Reply-To: <EF38092A42044D0EBF602B0361411112@erratique.ch>
References: <20140326144455.GA24033@voyager>
 <A619B234BC734DF0A181C7ACB32002D7@erratique.ch>
 <8CEAB00C-E1D4-47EB-8BD7-50CFD8863448@recoil.org>
 <40FA4730AF2E419A8FD9F01F4AED6AB4@erratique.ch>
 <03A67C80-F7DD-4686-B607-E576C73DCDB4@recoil.org>
 <F7980D1351874E3E8B4CD11F2BD2FABA@erratique.ch>
 <CDE5F2F8-123C-4378-B9B7-11C1DEF1F35E@cam.ac.uk>
 <09F1A64BC3964B679350D906D7C60292@erratique.ch>
 <20140327125246.GA1014@voyager>
 <EF38092A42044D0EBF602B0361411112@erratique.ch>
Message-ID: <20140327132111.GA9290@zed.irill.org>

i've seen this message before. It's probably due to a mismatch between
the version of aspcud and the version of clasp/gringo installed on
your system ... Debian packages take care of these dependencies, I'm not sure
about the package manager on your platform.

p


On 27/03/14 14:11, Daniel B?nzli wrote:
> Le jeudi, 27 mars 2014 ? 13:52, Roberto Di Cosmo a ?crit :
> > Just tested with your cudf file, and aspcud works perfectly here (Debian/amd64),
> > so it's probably an issue with the aspcud port on your platform
> >  
> > $ aspcud /tmp/solver-error-76189-1.cudf /tmp/sol "-count(removed),-notuptodate(solution),-count(new)"
> This invocation gives that here:
> 
> > aspcud /tmp/solver-error-76189-1.cudf /tmp/sol "-count(removed),-notuptodate(solution),-count(new)"
> *** ERROR: (clasp): In context '<clasp>': unknown option: 'opt-hierarch'
> *** Info : (clasp): Try '--help' for usage information
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:150:57-76: warning: atom is undefined:
> recommends(P,V,D,W)
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:150:78-92: warning: atom is undefined:
> installed(P,V)
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:148:57-75: warning: atom is undefined:
> attribute(P,V,A,X)
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:148:77-91: warning: atom is undefined:
> installed(P,V)
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:146:64-78: warning: atom is undefined:
> installed(P,V)
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:305:45-57: warning: atom is undefined:
> unit(P,V,in)
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:230:79-91: warning: atom is undefined:
> unit(P,V,in)
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:36:14-27: warning: atom is undefined:
> clique(#X0,#P1,#P2)
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:39:37-50: warning: atom is undefined:
> clique(I,P,V)
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:39:52-64: warning: atom is undefined:
> unit(P,V,in)
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:38:52-65: warning: atom is undefined:
> clique(I,P,V)
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:38:37-49: warning: atom is undefined:
> unit(P,V,in)
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:144:42-56: warning: atom is undefined:
> installed(P,V)
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:141:16-30: warning: atom is undefined:
> installed(P,V)
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:103:79-91: warning: atom is undefined:
> unit(P,V,in)
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:161:63-81: warning: atom is undefined:
> attribute(P,V,A,X)
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:164:42-61: warning: atom is undefined:
> recommends(P,V,D,W)
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:106:49-65: warning: atom is undefined:
> not unit(P,V,in)
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:138:57-76: warning: atom is undefined:
> recommends(P,V,D,W)
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:109:50-68: warning: atom is undefined:
> attribute(P,V,A,X)
> 
> 
> 
> 
> _______________________________________________
> opam-devel mailing list
> opam-devel at lists.ocaml.org
> http://lists.ocaml.org/listinfo/opam-devel

From louis.gesbert at ocamlpro.com  Thu Mar 27 13:39:51 2014
From: louis.gesbert at ocamlpro.com (Louis Gesbert)
Date: Thu, 27 Mar 2014 14:39:51 +0100
Subject: [opam-devel] Apscud on osx < 10.9 (was Re: aspcud 1.9.0
	packages on Archlinux)
In-Reply-To: <3AB1C5E2E5F94F44A3D05AD35BBCE36E@erratique.ch>
References: <5332DF18.6040901@luminar.eu.org> <1573523.3aDQpuZCjC@agaric>
 <3AB1C5E2E5F94F44A3D05AD35BBCE36E@erratique.ch>
Message-ID: <1460919.5JxVUPLatP@agaric>

Just filed https://github.com/ocaml/opam/pull/1279 to just fail in that case.

Le jeudi 27 mars 2014, 14:18:34 Daniel B?nzli a ?crit :
> Le jeudi, 27 mars 2014 ? 14:11, Louis Gesbert a ?crit :
> > hm :(
> > I think I may know where that comes from (there is a preprocessing of the request taking place for the internal solver, which hasn't been done in this case. Never liked that part). I'll see if there is an easy workaround.
> 
> I really confirm that one, this is with HEAD and apscud failing as per my preceding message:
> 
> [WARNING] External solver failed with inconsistent return value. Request saved to "/Users/dbuenzli/.opam/log/solver-error-22014-1.cudf"
> Falling back to the internal heuristic.
> The following actions will be performed:
> - remove utop.pinned [conflicts with ocamlfind]
> - remove xmlm.1.2.0 [conflicts with ocamlfind]
> - remove lit.unreleased [conflicts with ocamlfind]
> - remove tsdl.unreleased [conflicts with ocamlfind]
> - remove pkgopkg.repo [upstream changes]
> - remove oasis.0.4.4 [conflicts with ocamlfind]
> - remove ocp-index.1.0.2 [uses cmdliner]
> - remove base-bigarray.base [upstream changes]
> - remove lambda-term.pinned [conflicts with ocamlfind]
> - remove tgls.unreleased [conflicts with ocamlfind]
> - remove js_of_ocaml.pinned [conflicts with ocamlfind]
> - remove gg.pinned [conflicts with ocamlfind]
> - remove ocamlmod.0.0.4 [conflicts with ocamlfind]
> - remove ocamlify.0.0.1 [conflicts with ocamlfind]
> - remove ocaml-data-notation.0.0.11 [conflicts with ocamlfind]
> - remove re.1.2.1 [conflicts with ocamlfind]
> - remove ocp-indent.1.4.1 [uses cmdliner]
> - remove zed.1.2 [conflicts with ocamlfind]
> - remove ctypes.0.2.3 [conflicts with ocamlfind]
> - remove menhir.20130912 [conflicts with ocamlfind]
> - remove lwt.pinned [conflicts with ocamlfind]
> - remove fileutils.0.4.4 [conflicts with ocamlfind]
> - remove type_conv.109.60.01 [conflicts with ocamlfind]
> - remove ocp-build.1.99.6-beta [required by ocp-indent]
> - remove cmdliner.0.9.4 [conflicts with ocamlfind]
> - remove camomile.0.8.5 [conflicts with ocamlfind]
> - remove base-unix.base [required by lwt]
> - remove base-threads.base [required by lwt]
> - remove ounit.2.0.0 [conflicts with ocamlfind]
> - remove typerex.1.99.6-beta [conflicts with ocamlfind]
> - downgrade ocamlfind from 1.4.0 to 1.3.2 [required by rtime]
> - recompile react.pinned [uses ocamlfind]
> - install rtime.0.9.3
> 1 to install | 1 to reinstall | 0 to upgrade | 1 to downgrade | 30 to remove
> 
> 
> 
> 
> 
> _______________________________________________
> opam-devel mailing list
> opam-devel at lists.ocaml.org
> http://lists.ocaml.org/listinfo/opam-devel
> 


From louis.gesbert at ocamlpro.com  Thu Mar 27 13:46:14 2014
From: louis.gesbert at ocamlpro.com (Louis Gesbert)
Date: Thu, 27 Mar 2014 14:46:14 +0100
Subject: [opam-devel] Apscud on osx < 10.9 (was Re: aspcud 1.9.0
	packages on Archlinux)
In-Reply-To: <20140327132111.GA9290@zed.irill.org>
References: <20140326144455.GA24033@voyager>
 <EF38092A42044D0EBF602B0361411112@erratique.ch>
 <20140327132111.GA9290@zed.irill.org>
Message-ID: <41063533.bAM5YRx4j3@agaric>

I think our best move on this would be to provide the cudf file + the aspcud output when this happens, and ask to report. With my latest PR, opam will stop so this will be more visible anyway (just suggests to retry with `--use-external-solver` at the moment)

Any better idea ? This would have saved quite a bit of time on this.

Le jeudi 27 mars 2014, 14:21:11 Pietro Abate a ?crit :
> i've seen this message before. It's probably due to a mismatch between
> the version of aspcud and the version of clasp/gringo installed on
> your system ... Debian packages take care of these dependencies, I'm not sure
> about the package manager on your platform.
> 
> p
> 
> 
> On 27/03/14 14:11, Daniel B?nzli wrote:
> > Le jeudi, 27 mars 2014 ? 13:52, Roberto Di Cosmo a ?crit :
> > > Just tested with your cudf file, and aspcud works perfectly here (Debian/amd64),
> > > so it's probably an issue with the aspcud port on your platform
> > >  
> > > $ aspcud /tmp/solver-error-76189-1.cudf /tmp/sol "-count(removed),-notuptodate(solution),-count(new)"
> > This invocation gives that here:
> > 
> > > aspcud /tmp/solver-error-76189-1.cudf /tmp/sol "-count(removed),-notuptodate(solution),-count(new)"
> > *** ERROR: (clasp): In context '<clasp>': unknown option: 'opt-hierarch'
> > *** Info : (clasp): Try '--help' for usage information
> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:150:57-76: warning: atom is undefined:
> > recommends(P,V,D,W)
> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:150:78-92: warning: atom is undefined:
> > installed(P,V)
> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:148:57-75: warning: atom is undefined:
> > attribute(P,V,A,X)
> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:148:77-91: warning: atom is undefined:
> > installed(P,V)
> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:146:64-78: warning: atom is undefined:
> > installed(P,V)
> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:305:45-57: warning: atom is undefined:
> > unit(P,V,in)
> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:230:79-91: warning: atom is undefined:
> > unit(P,V,in)
> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:36:14-27: warning: atom is undefined:
> > clique(#X0,#P1,#P2)
> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:39:37-50: warning: atom is undefined:
> > clique(I,P,V)
> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:39:52-64: warning: atom is undefined:
> > unit(P,V,in)
> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:38:52-65: warning: atom is undefined:
> > clique(I,P,V)
> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:38:37-49: warning: atom is undefined:
> > unit(P,V,in)
> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:144:42-56: warning: atom is undefined:
> > installed(P,V)
> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:141:16-30: warning: atom is undefined:
> > installed(P,V)
> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:103:79-91: warning: atom is undefined:
> > unit(P,V,in)
> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:161:63-81: warning: atom is undefined:
> > attribute(P,V,A,X)
> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:164:42-61: warning: atom is undefined:
> > recommends(P,V,D,W)
> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:106:49-65: warning: atom is undefined:
> > not unit(P,V,in)
> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:138:57-76: warning: atom is undefined:
> > recommends(P,V,D,W)
> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:109:50-68: warning: atom is undefined:
> > attribute(P,V,A,X)
> > 
> > 
> > 
> > 
> > _______________________________________________
> > opam-devel mailing list
> > opam-devel at lists.ocaml.org
> > http://lists.ocaml.org/listinfo/opam-devel
> _______________________________________________
> opam-devel mailing list
> opam-devel at lists.ocaml.org
> http://lists.ocaml.org/listinfo/opam-devel


From roberto at dicosmo.org  Thu Mar 27 14:22:41 2014
From: roberto at dicosmo.org (Roberto Di Cosmo)
Date: Thu, 27 Mar 2014 15:22:41 +0100
Subject: [opam-devel] Apscud on osx < 10.9 (was Re: aspcud 1.9.0
 packages on Archlinux)
In-Reply-To: <1573523.3aDQpuZCjC@agaric>
References: <5332DF18.6040901@luminar.eu.org>
 <DBC065F582D847C491423F99611E09EF@erratique.ch>
 <012B5DD792F9404694E3BDD2F3E5DDD4@erratique.ch>
 <1573523.3aDQpuZCjC@agaric>
Message-ID: <20140327142241.GA3086@voyager>

On Thu, Mar 27, 2014 at 02:11:04PM +0100, Louis Gesbert wrote:
> hm :(
> I think I may know where that comes from (there is a preprocessing of the request taking place for the internal solver, which hasn't been done in this case. Never liked that part). I'll see if there is an easy workaround.

Ok for the temporary workaround, the good solution is to make the fallback
work again, just added an issue to track this

-- 
Roberto

From anil at recoil.org  Thu Mar 27 14:23:07 2014
From: anil at recoil.org (Anil Madhavapeddy)
Date: Thu, 27 Mar 2014 14:23:07 +0000
Subject: [opam-devel] [ocaml-infra] Dealing with incompatible releases
	in opam
In-Reply-To: <B2982985CF6148D99CCC271435C465B9@erratique.ch>
References: <B2982985CF6148D99CCC271435C465B9@erratique.ch>
Message-ID: <4162090B-8057-47E4-89CE-E9FFC9EF524D@recoil.org>

[ccing opam-devel -- wrong list?]

On 27 Mar 2014, at 14:13, Daniel B?nzli <daniel.buenzli at erratique.ch> wrote:

> How do we deal with incompatible releases ? 
> 
> I'd like to make an incompatible release of react. Should I just `git grep react` in the opam repository and specify an upper bound with the last release on each occurence of `react` in package deps ? 

Yes, that's normally what I do.  It's tediously manual at the moment, sadly...

-anil

From roberto at dicosmo.org  Thu Mar 27 14:25:13 2014
From: roberto at dicosmo.org (Roberto Di Cosmo)
Date: Thu, 27 Mar 2014 15:25:13 +0100
Subject: [opam-devel] Apscud on osx < 10.9 (was Re: aspcud 1.9.0
 packages on Archlinux)
In-Reply-To: <EF38092A42044D0EBF602B0361411112@erratique.ch>
References: <20140326144455.GA24033@voyager>
 <A619B234BC734DF0A181C7ACB32002D7@erratique.ch>
 <8CEAB00C-E1D4-47EB-8BD7-50CFD8863448@recoil.org>
 <40FA4730AF2E419A8FD9F01F4AED6AB4@erratique.ch>
 <03A67C80-F7DD-4686-B607-E576C73DCDB4@recoil.org>
 <F7980D1351874E3E8B4CD11F2BD2FABA@erratique.ch>
 <CDE5F2F8-123C-4378-B9B7-11C1DEF1F35E@cam.ac.uk>
 <09F1A64BC3964B679350D906D7C60292@erratique.ch>
 <20140327125246.GA1014@voyager>
 <EF38092A42044D0EBF602B0361411112@erratique.ch>
Message-ID: <20140327142513.GB3086@voyager>

Thanks, this confirms there is a problem with the aspcud port you are using,
probably due to mixed up versions of the aspcud dependencies, as Pietro
suggests.

You should file a bug on the proper BTS (homebrew?), and sorry for the noise.

--
Roberto

On Thu, Mar 27, 2014 at 02:11:07PM +0100, Daniel B?nzli wrote:
> Le jeudi, 27 mars 2014 ? 13:52, Roberto Di Cosmo a ?crit :
> > Just tested with your cudf file, and aspcud works perfectly here (Debian/amd64),
> > so it's probably an issue with the aspcud port on your platform
> >  
> > $ aspcud /tmp/solver-error-76189-1.cudf /tmp/sol "-count(removed),-notuptodate(solution),-count(new)"
> This invocation gives that here:
> 
> > aspcud /tmp/solver-error-76189-1.cudf /tmp/sol "-count(removed),-notuptodate(solution),-count(new)"
> *** ERROR: (clasp): In context '<clasp>': unknown option: 'opt-hierarch'
> *** Info : (clasp): Try '--help' for usage information
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:150:57-76: warning: atom is undefined:
> recommends(P,V,D,W)
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:150:78-92: warning: atom is undefined:
> installed(P,V)
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:148:57-75: warning: atom is undefined:
> attribute(P,V,A,X)
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:148:77-91: warning: atom is undefined:
> installed(P,V)
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:146:64-78: warning: atom is undefined:
> installed(P,V)
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:305:45-57: warning: atom is undefined:
> unit(P,V,in)
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:230:79-91: warning: atom is undefined:
> unit(P,V,in)
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:36:14-27: warning: atom is undefined:
> clique(#X0,#P1,#P2)
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:39:37-50: warning: atom is undefined:
> clique(I,P,V)
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:39:52-64: warning: atom is undefined:
> unit(P,V,in)
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:38:52-65: warning: atom is undefined:
> clique(I,P,V)
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:38:37-49: warning: atom is undefined:
> unit(P,V,in)
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:144:42-56: warning: atom is undefined:
> installed(P,V)
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:141:16-30: warning: atom is undefined:
> installed(P,V)
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:103:79-91: warning: atom is undefined:
> unit(P,V,in)
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:161:63-81: warning: atom is undefined:
> attribute(P,V,A,X)
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:164:42-61: warning: atom is undefined:
> recommends(P,V,D,W)
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:106:49-65: warning: atom is undefined:
> not unit(P,V,in)
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:138:57-76: warning: atom is undefined:
> recommends(P,V,D,W)
> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:109:50-68: warning: atom is undefined:
> attribute(P,V,A,X)
> 
> 
> 
> 

-- 
Roberto Di Cosmo
 
------------------------------------------------------------------
Professeur               En delegation a l'INRIA
PPS                      E-mail: roberto at dicosmo.org
Universite Paris Diderot WWW  : http://www.dicosmo.org
Case 7014                Tel  : ++33-(0)1-57 27 92 20
5, Rue Thomas Mann       
F-75205 Paris Cedex 13   Identica: http://identi.ca/rdicosmo
FRANCE.                  Twitter: http://twitter.com/rdicosmo
------------------------------------------------------------------
Attachments:
MIME accepted, Word deprecated
      http://www.gnu.org/philosophy/no-word-attachments.html
------------------------------------------------------------------
Office location:
 
Bureau 3020 (3rd floor)
Batiment Sophie Germain
Avenue de France
Metro Bibliotheque Francois Mitterrand, ligne 14/RER C
-----------------------------------------------------------------
GPG fingerprint 2931 20CE 3A5A 5390 98EC 8BFC FCCA C3BE 39CB 12D3                        

From louis.gesbert at ocamlpro.com  Thu Mar 27 14:35:39 2014
From: louis.gesbert at ocamlpro.com (Louis Gesbert)
Date: Thu, 27 Mar 2014 15:35:39 +0100
Subject: [opam-devel] [ocaml-infra] Dealing with incompatible releases
	in opam
In-Reply-To: <4162090B-8057-47E4-89CE-E9FFC9EF524D@recoil.org>
References: <B2982985CF6148D99CCC271435C465B9@erratique.ch>
 <4162090B-8057-47E4-89CE-E9FFC9EF524D@recoil.org>
Message-ID: <2512987.q5TCXbY51C@agaric>

I don't see a much better solution at the moment ; we may provide
a function in opam-admin to do it more quickly and reliably though ?

Le jeudi 27 mars 2014, 14:23:07 Anil Madhavapeddy a ?crit :
> [ccing opam-devel -- wrong list?]
> 
> On 27 Mar 2014, at 14:13, Daniel B?nzli <daniel.buenzli at erratique.ch> wrote:
> 
> > How do we deal with incompatible releases ? 
> > 
> > I'd like to make an incompatible release of react. Should I just `git grep react` in the opam repository and specify an upper bound with the last release on each occurence of `react` in package deps ? 
> 
> Yes, that's normally what I do.  It's tediously manual at the moment, sadly...
> 
> -anil
> _______________________________________________
> Infrastructure mailing list
> Infrastructure at lists.ocaml.org
> http://lists.ocaml.org/listinfo/infrastructure


From daniel.buenzli at erratique.ch  Thu Mar 27 14:41:55 2014
From: daniel.buenzli at erratique.ch (=?utf-8?Q?Daniel_B=C3=BCnzli?=)
Date: Thu, 27 Mar 2014 15:41:55 +0100
Subject: [opam-devel] [ocaml-infra] Dealing with incompatible releases
	in opam
In-Reply-To: <4162090B-8057-47E4-89CE-E9FFC9EF524D@recoil.org>
References: <B2982985CF6148D99CCC271435C465B9@erratique.ch>
 <4162090B-8057-47E4-89CE-E9FFC9EF524D@recoil.org>
Message-ID: <D6AC61E90373409FA6E19D7FE8E6D5F4@erratique.ch>



Le jeudi, 27 mars 2014 ? 15:23, Anil Madhavapeddy a ?crit :

> [ccing opam-devel -- wrong list?]

I was not sure.
  
> Yes, that's normally what I do. It's tediously manual at the moment, sadly...

Yes. That said the problem is quite vicious in fact as it forces every dependent that has dependents in the repo to do a new release even if it doesn't break. For example I spotted that on that chain: react <- zed <- lambda-term

zed compiles fines, but lambda-term doesn't. But lambda term doesn't explicitly depend on react. So zed will have to do a release. Or is lambda-term wrongly specified ?  

Daniel



From anil at recoil.org  Thu Mar 27 14:53:21 2014
From: anil at recoil.org (Anil Madhavapeddy)
Date: Thu, 27 Mar 2014 14:53:21 +0000
Subject: [opam-devel] [ocaml-infra] Dealing with incompatible releases
	in opam
In-Reply-To: <D6AC61E90373409FA6E19D7FE8E6D5F4@erratique.ch>
References: <B2982985CF6148D99CCC271435C465B9@erratique.ch>
 <4162090B-8057-47E4-89CE-E9FFC9EF524D@recoil.org>
 <D6AC61E90373409FA6E19D7FE8E6D5F4@erratique.ch>
Message-ID: <0C45E9B7-DE2A-4421-8166-E594BE02B485@recoil.org>

On 27 Mar 2014, at 14:41, Daniel B?nzli <daniel.buenzli at erratique.ch> wrote:

> 
> 
> Le jeudi, 27 mars 2014 ? 15:23, Anil Madhavapeddy a ?crit :
> 
>> [ccing opam-devel -- wrong list?]
> 
> I was not sure. 

Dropping infrastructure to bcc

> 
>> Yes, that's normally what I do. It's tediously manual at the moment, sadly...
> 
> Yes. That said the problem is quite vicious in fact as it forces every dependent that has dependents in the repo to do a new release even if it doesn't break. For example I spotted that on that chain: react <- zed <- lambda-term
> 
> zed compiles fines, but lambda-term doesn't. But lambda term doesn't explicitly depend on react. So zed will have to do a release. Or is lambda-term wrongly specified ?

Lambda-term uses React explicitly via Lwt:

>  BuildDepends: lwt (>= 2.4.0), lwt.unix, lwt.syntax, lwt.react, zed (>= 1.2)

So it should indeed have a direct react dependency in its OPAM file (to ensure that the optional Lwt dependency on react is picked up, thus ensuring Lwt_react is available).

I don't believe any new releases should be necessary for libraries that compile fine now, aside from updating constraints in their OPAM files.

-anil


From daniel.buenzli at erratique.ch  Thu Mar 27 15:17:10 2014
From: daniel.buenzli at erratique.ch (=?utf-8?Q?Daniel_B=C3=BCnzli?=)
Date: Thu, 27 Mar 2014 16:17:10 +0100
Subject: [opam-devel] [ocaml-infra] Dealing with incompatible releases
	in opam
In-Reply-To: <0C45E9B7-DE2A-4421-8166-E594BE02B485@recoil.org>
References: <B2982985CF6148D99CCC271435C465B9@erratique.ch>
 <4162090B-8057-47E4-89CE-E9FFC9EF524D@recoil.org>
 <D6AC61E90373409FA6E19D7FE8E6D5F4@erratique.ch>
 <0C45E9B7-DE2A-4421-8166-E594BE02B485@recoil.org>
Message-ID: <F98ABECA82F444D6A914EC77C451C71A@erratique.ch>



Le jeudi, 27 mars 2014 ? 15:53, Anil Madhavapeddy a ?crit :

> So it should indeed have a direct react dependency in its OPAM file (to ensure that the optional Lwt dependency on react is picked up, thus ensuring Lwt_react is available).

Maybe in that case but still, in fact through `include M` directives in signatures a package may leave its API definition to a package it depends on so you could have:

  p1 <- p2 <- p3

with p3 formally and morally only depending on p2.

So for an incompatible release of p an overapproximation of the rule is

   For every p' that depends on p and has dependents in the repository,  
   introduce an upper bound whether p' builds fine or not.  

A more refined rule would be  

  For every p' that depends on p and has dependents (and recursively)  
  in the repository that break, introduce an upper bound whether p' builds  
  fine or not.



> I don't believe any new releases should be necessary for libraries that compile fine now, aside from updating constraints in their OPAM files.
Taking the rule above, since I had to constrain p' even if it was building fine with p I will have to make a new release (or rather say a new package name) for escaping the constraint no ?  

Daniel



From jeremie at dimino.org  Thu Mar 27 15:31:56 2014
From: jeremie at dimino.org (Jeremie Dimino)
Date: Thu, 27 Mar 2014 15:31:56 +0000
Subject: [opam-devel] [ocaml-infra] Dealing with incompatible releases
	in opam
In-Reply-To: <0C45E9B7-DE2A-4421-8166-E594BE02B485@recoil.org>
References: <B2982985CF6148D99CCC271435C465B9@erratique.ch>
 <4162090B-8057-47E4-89CE-E9FFC9EF524D@recoil.org>
 <D6AC61E90373409FA6E19D7FE8E6D5F4@erratique.ch>
 <0C45E9B7-DE2A-4421-8166-E594BE02B485@recoil.org>
Message-ID: <CAAUeRqWrTfffYAJ1UGUzP5v7vZJscYa5RajHv=AB5rNiws+ZOA@mail.gmail.com>

On Thu, Mar 27, 2014 at 2:53 PM, Anil Madhavapeddy <anil at recoil.org> wrote:
> So it should indeed have a direct react dependency in its OPAM file (to ensure that the optional Lwt dependency on react is picked up, thus ensuring Lwt_react is available).

Indeed, I'll fix that.

From fabien.dagnat at telecom-bretagne.eu  Thu Mar 27 15:34:40 2014
From: fabien.dagnat at telecom-bretagne.eu (Dagnat Fabien)
Date: Thu, 27 Mar 2014 16:34:40 +0100
Subject: [opam-devel] Apscud on osx < 10.9 (was Re: aspcud 1.9.0
	packages on Archlinux)
In-Reply-To: <20140327142513.GB3086@voyager>
References: <20140326144455.GA24033@voyager>
 <A619B234BC734DF0A181C7ACB32002D7@erratique.ch>
 <8CEAB00C-E1D4-47EB-8BD7-50CFD8863448@recoil.org>
 <40FA4730AF2E419A8FD9F01F4AED6AB4@erratique.ch>
 <03A67C80-F7DD-4686-B607-E576C73DCDB4@recoil.org>
 <F7980D1351874E3E8B4CD11F2BD2FABA@erratique.ch>
 <CDE5F2F8-123C-4378-B9B7-11C1DEF1F35E@cam.ac.uk>
 <09F1A64BC3964B679350D906D7C60292@erratique.ch>
 <20140327125246.GA1014@voyager>
 <EF38092A42044D0EBF602B0361411112@erratique.ch>
 <20140327142513.GB3086@voyager>
Message-ID: <528D304A-2B9B-45CD-AA17-02B8455D5868@telecom-bretagne.eu>

The situation may be related to the one I'm facing on os x 10.9. See https://github.com/ocaml/opam/issues/1273.

For me, it happened after an update of clasp from version 3.0.0 to 3.0.1 without any change of aspcud. This seems to mean that clasp has broken something with aspcud 1.8 and therefore the dependency of aspcud should force the use of version 3.0.0 of clasp... 

Added a new comment to the pull request of clasp 3.0.1
see https://github.com/Homebrew/homebrew/pull/27871

I think it is Anil that manage aspcud on homebrew. Does that mean we to wait for aspcud 1.9 to get the external solver back?

Fabien
Le 27 mars 2014 ? 15:25, Roberto Di Cosmo <roberto at dicosmo.org> a ?crit :

> Thanks, this confirms there is a problem with the aspcud port you are using,
> probably due to mixed up versions of the aspcud dependencies, as Pietro
> suggests.
> 
> You should file a bug on the proper BTS (homebrew?), and sorry for the noise.
> 
> --
> Roberto
> 
> On Thu, Mar 27, 2014 at 02:11:07PM +0100, Daniel B?nzli wrote:
>> Le jeudi, 27 mars 2014 ? 13:52, Roberto Di Cosmo a ?crit :
>>> Just tested with your cudf file, and aspcud works perfectly here (Debian/amd64),
>>> so it's probably an issue with the aspcud port on your platform
>>> 
>>> $ aspcud /tmp/solver-error-76189-1.cudf /tmp/sol "-count(removed),-notuptodate(solution),-count(new)"
>> This invocation gives that here:
>> 
>>> aspcud /tmp/solver-error-76189-1.cudf /tmp/sol "-count(removed),-notuptodate(solution),-count(new)"
>> *** ERROR: (clasp): In context '<clasp>': unknown option: 'opt-hierarch'
>> *** Info : (clasp): Try '--help' for usage information
>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:150:57-76: warning: atom is undefined:
>> recommends(P,V,D,W)
>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:150:78-92: warning: atom is undefined:
>> installed(P,V)
>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:148:57-75: warning: atom is undefined:
>> attribute(P,V,A,X)
>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:148:77-91: warning: atom is undefined:
>> installed(P,V)
>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:146:64-78: warning: atom is undefined:
>> installed(P,V)
>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:305:45-57: warning: atom is undefined:
>> unit(P,V,in)
>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:230:79-91: warning: atom is undefined:
>> unit(P,V,in)
>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:36:14-27: warning: atom is undefined:
>> clique(#X0,#P1,#P2)
>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:39:37-50: warning: atom is undefined:
>> clique(I,P,V)
>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:39:52-64: warning: atom is undefined:
>> unit(P,V,in)
>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:38:52-65: warning: atom is undefined:
>> clique(I,P,V)
>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:38:37-49: warning: atom is undefined:
>> unit(P,V,in)
>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:144:42-56: warning: atom is undefined:
>> installed(P,V)
>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:141:16-30: warning: atom is undefined:
>> installed(P,V)
>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:103:79-91: warning: atom is undefined:
>> unit(P,V,in)
>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:161:63-81: warning: atom is undefined:
>> attribute(P,V,A,X)
>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:164:42-61: warning: atom is undefined:
>> recommends(P,V,D,W)
>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:106:49-65: warning: atom is undefined:
>> not unit(P,V,in)
>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:138:57-76: warning: atom is undefined:
>> recommends(P,V,D,W)
>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:109:50-68: warning: atom is undefined:
>> attribute(P,V,A,X)
>> 
>> 
>> 
>> 
> 
> -- 
> Roberto Di Cosmo
> 
> ------------------------------------------------------------------
> Professeur               En delegation a l'INRIA
> PPS                      E-mail: roberto at dicosmo.org
> Universite Paris Diderot WWW  : http://www.dicosmo.org
> Case 7014                Tel  : ++33-(0)1-57 27 92 20
> 5, Rue Thomas Mann       
> F-75205 Paris Cedex 13   Identica: http://identi.ca/rdicosmo
> FRANCE.                  Twitter: http://twitter.com/rdicosmo
> ------------------------------------------------------------------
> Attachments:
> MIME accepted, Word deprecated
>      http://www.gnu.org/philosophy/no-word-attachments.html
> ------------------------------------------------------------------
> Office location:
> 
> Bureau 3020 (3rd floor)
> Batiment Sophie Germain
> Avenue de France
> Metro Bibliotheque Francois Mitterrand, ligne 14/RER C
> -----------------------------------------------------------------
> GPG fingerprint 2931 20CE 3A5A 5390 98EC 8BFC FCCA C3BE 39CB 12D3                        
> _______________________________________________
> opam-devel mailing list
> opam-devel at lists.ocaml.org
> http://lists.ocaml.org/listinfo/opam-devel

	Fabien DAGNAT
Ma?tre de conf?rences au d?partement informatique
Responsable de la fili?re Syst?mes Logiciels et R?seaux
T?l. : (0 | 33) 2 29 00 14 09 Technop?le Brest-Iroise, CS 83818
29238 Brest Cedex 3, France 

Une ?cole de l'Institut Mines-T?l?com     

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.ocaml.org/pipermail/opam-devel/attachments/20140327/b848df9c/attachment-0001.html>

From anil at recoil.org  Thu Mar 27 15:42:15 2014
From: anil at recoil.org (Anil Madhavapeddy)
Date: Thu, 27 Mar 2014 15:42:15 +0000
Subject: [opam-devel] Apscud on osx < 10.9 (was Re: aspcud 1.9.0
	packages on Archlinux)
In-Reply-To: <528D304A-2B9B-45CD-AA17-02B8455D5868@telecom-bretagne.eu>
References: <20140326144455.GA24033@voyager>
 <A619B234BC734DF0A181C7ACB32002D7@erratique.ch>
 <8CEAB00C-E1D4-47EB-8BD7-50CFD8863448@recoil.org>
 <40FA4730AF2E419A8FD9F01F4AED6AB4@erratique.ch>
 <03A67C80-F7DD-4686-B607-E576C73DCDB4@recoil.org>
 <F7980D1351874E3E8B4CD11F2BD2FABA@erratique.ch>
 <CDE5F2F8-123C-4378-B9B7-11C1DEF1F35E@cam.ac.uk>
 <09F1A64BC3964B679350D906D7C60292@erratique.ch>
 <20140327125246.GA1014@voyager>
 <EF38092A42044D0EBF602B0361411112@erratique.ch>
 <20140327142513.GB3086@voyager>
 <528D304A-2B9B-45CD-AA17-02B8455D5868@telecom-bretagne.eu>
Message-ID: <F348E265-4E8F-433B-B8A7-C85F151BBD4A@recoil.org>

Unfortunately, there's no clear maintainer scheme in Homebrew.  I wasn't aware of the clasp update at all until you pointed it out here...

-anil
]
On 27 Mar 2014, at 15:34, Dagnat Fabien <fabien.dagnat at telecom-bretagne.eu> wrote:

> The situation may be related to the one I'm facing on os x 10.9. See https://github.com/ocaml/opam/issues/1273.
> 
> For me, it happened after an update of clasp from version 3.0.0 to 3.0.1 without any change of aspcud. This seems to mean that clasp has broken something with aspcud 1.8 and therefore the dependency of aspcud should force the use of version 3.0.0 of clasp... 
> 
> Added a new comment to the pull request of clasp 3.0.1
> see https://github.com/Homebrew/homebrew/pull/27871
> 
> I think it is Anil that manage aspcud on homebrew. Does that mean we to wait for aspcud 1.9 to get the external solver back?
> 
> Fabien
> Le 27 mars 2014 ? 15:25, Roberto Di Cosmo <roberto at dicosmo.org> a ?crit :
> 
>> Thanks, this confirms there is a problem with the aspcud port you are using,
>> probably due to mixed up versions of the aspcud dependencies, as Pietro
>> suggests.
>> 
>> You should file a bug on the proper BTS (homebrew?), and sorry for the noise.
>> 
>> --
>> Roberto
>> 
>> On Thu, Mar 27, 2014 at 02:11:07PM +0100, Daniel B?nzli wrote:
>>> Le jeudi, 27 mars 2014 ? 13:52, Roberto Di Cosmo a ?crit :
>>>> Just tested with your cudf file, and aspcud works perfectly here (Debian/amd64),
>>>> so it's probably an issue with the aspcud port on your platform
>>>> 
>>>> $ aspcud /tmp/solver-error-76189-1.cudf /tmp/sol "-count(removed),-notuptodate(solution),-count(new)"
>>> This invocation gives that here:
>>> 
>>>> aspcud /tmp/solver-error-76189-1.cudf /tmp/sol "-count(removed),-notuptodate(solution),-count(new)"
>>> *** ERROR: (clasp): In context '<clasp>': unknown option: 'opt-hierarch'
>>> *** Info : (clasp): Try '--help' for usage information
>>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:150:57-76: warning: atom is undefined:
>>> recommends(P,V,D,W)
>>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:150:78-92: warning: atom is undefined:
>>> installed(P,V)
>>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:148:57-75: warning: atom is undefined:
>>> attribute(P,V,A,X)
>>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:148:77-91: warning: atom is undefined:
>>> installed(P,V)
>>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:146:64-78: warning: atom is undefined:
>>> installed(P,V)
>>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:305:45-57: warning: atom is undefined:
>>> unit(P,V,in)
>>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:230:79-91: warning: atom is undefined:
>>> unit(P,V,in)
>>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:36:14-27: warning: atom is undefined:
>>> clique(#X0,#P1,#P2)
>>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:39:37-50: warning: atom is undefined:
>>> clique(I,P,V)
>>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:39:52-64: warning: atom is undefined:
>>> unit(P,V,in)
>>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:38:52-65: warning: atom is undefined:
>>> clique(I,P,V)
>>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:38:37-49: warning: atom is undefined:
>>> unit(P,V,in)
>>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:144:42-56: warning: atom is undefined:
>>> installed(P,V)
>>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:141:16-30: warning: atom is undefined:
>>> installed(P,V)
>>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:103:79-91: warning: atom is undefined:
>>> unit(P,V,in)
>>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:161:63-81: warning: atom is undefined:
>>> attribute(P,V,A,X)
>>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:164:42-61: warning: atom is undefined:
>>> recommends(P,V,D,W)
>>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:106:49-65: warning: atom is undefined:
>>> not unit(P,V,in)
>>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:138:57-76: warning: atom is undefined:
>>> recommends(P,V,D,W)
>>> /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:109:50-68: warning: atom is undefined:
>>> attribute(P,V,A,X)
>>> 
>>> 
>>> 
>>> 
>> 
>> -- 
>> Roberto Di Cosmo
>> 
>> ------------------------------------------------------------------
>> Professeur               En delegation a l'INRIA
>> PPS                      E-mail: roberto at dicosmo.org
>> Universite Paris Diderot WWW  : http://www.dicosmo.org
>> Case 7014                Tel  : ++33-(0)1-57 27 92 20
>> 5, Rue Thomas Mann       
>> F-75205 Paris Cedex 13   Identica: http://identi.ca/rdicosmo
>> FRANCE.                  Twitter: http://twitter.com/rdicosmo
>> ------------------------------------------------------------------
>> Attachments:
>> MIME accepted, Word deprecated
>>      http://www.gnu.org/philosophy/no-word-attachments.html
>> ------------------------------------------------------------------
>> Office location:
>> 
>> Bureau 3020 (3rd floor)
>> Batiment Sophie Germain
>> Avenue de France
>> Metro Bibliotheque Francois Mitterrand, ligne 14/RER C
>> -----------------------------------------------------------------
>> GPG fingerprint 2931 20CE 3A5A 5390 98EC 8BFC FCCA C3BE 39CB 12D3                        
>> _______________________________________________
>> opam-devel mailing list
>> opam-devel at lists.ocaml.org
>> http://lists.ocaml.org/listinfo/opam-devel
> 
> 	Fabien DAGNAT
> Ma?tre de conf?rences au d?partement informatique
> Responsable de la fili?re Syst?mes Logiciels et R?seaux
> T?l. : (0 | 33) 2 29 00 14 09 Technop?le Brest-Iroise, CS 83818
> 29238 Brest Cedex 3, France 
> 
> Une ?cole de l'Institut Mines-T?l?com     
> 
> _______________________________________________
> opam-devel mailing list
> opam-devel at lists.ocaml.org
> http://lists.ocaml.org/listinfo/opam-devel


From louis.gesbert at ocamlpro.com  Thu Mar 27 16:24:17 2014
From: louis.gesbert at ocamlpro.com (Louis Gesbert)
Date: Thu, 27 Mar 2014 17:24:17 +0100
Subject: [opam-devel] Apscud on osx < 10.9 (was Re: aspcud 1.9.0
	packages on Archlinux)
In-Reply-To: <3AB1C5E2E5F94F44A3D05AD35BBCE36E@erratique.ch>
References: <5332DF18.6040901@luminar.eu.org> <1573523.3aDQpuZCjC@agaric>
 <3AB1C5E2E5F94F44A3D05AD35BBCE36E@erratique.ch>
Message-ID: <1514319.BzeSxVVWol@agaric>

About `opam --git-version`, this should be done properly on all build paths,
and we get it by manually checking the files under .git without resorting to the git program.

So I guess brew builds from an archive, in which case I don't see what we could do.

From daniel.buenzli at erratique.ch  Thu Mar 27 16:59:07 2014
From: daniel.buenzli at erratique.ch (=?utf-8?Q?Daniel_B=C3=BCnzli?=)
Date: Thu, 27 Mar 2014 17:59:07 +0100
Subject: [opam-devel] Apscud on osx < 10.9 (was Re: aspcud 1.9.0
 packages on Archlinux)
In-Reply-To: <1514319.BzeSxVVWol@agaric>
References: <5332DF18.6040901@luminar.eu.org> <1573523.3aDQpuZCjC@agaric>
 <3AB1C5E2E5F94F44A3D05AD35BBCE36E@erratique.ch>
 <1514319.BzeSxVVWol@agaric>
Message-ID: <86800B03D38D4591966AFD950321C972@erratique.ch>

Le jeudi, 27 mars 2014 ? 17:24, Louis Gesbert a ?crit :
> About `opam --git-version`, this should be done properly on all build paths,
> and we get it by manually checking the files under .git without resorting to the git program.
>  
> So I guess brew builds from an archive, in which case I don't see what we could do.

In fact,  `brew reinstall --HEAD -v opam`  tells us what it does (that last git checkout-index is the culprit):

==> Cloning https://github.com/ocaml/opam.git
git --git-dir /Library/Caches/Homebrew/opam--git/.git status -s
Updating /Library/Caches/Homebrew/opam--git
git config remote.origin.url https://github.com/ocaml/opam.git
git config remote.origin.fetch +refs/heads/master:refs/remotes/origin/master
git fetch origin
git checkout -f master
Already on 'master'
Your branch is up-to-date with 'origin/master'.
git reset --hard origin/HEAD
HEAD is now at e1c1683 Merge pull request #1279 from OCamlPro/no-inconsistent-solver-nonsense
git reset --hard origin/HEAD
HEAD is now at e1c1683 Merge pull request #1279 from OCamlPro/no-inconsistent-solver-nonsense
git checkout-index -a -f --prefix=/private/tmp/opam-S8VT/
==> ./configure --prefix=/usr/local/Cellar/opam/HEAD
checking for gcc? clang


...


From daniel.buenzli at erratique.ch  Thu Mar 27 20:15:25 2014
From: daniel.buenzli at erratique.ch (=?utf-8?Q?Daniel_B=C3=BCnzli?=)
Date: Thu, 27 Mar 2014 21:15:25 +0100
Subject: [opam-devel] Apscud on osx < 10.9 (was Re: aspcud 1.9.0
 packages on Archlinux)
In-Reply-To: <86800B03D38D4591966AFD950321C972@erratique.ch>
References: <5332DF18.6040901@luminar.eu.org> <1573523.3aDQpuZCjC@agaric>
 <3AB1C5E2E5F94F44A3D05AD35BBCE36E@erratique.ch>
 <1514319.BzeSxVVWol@agaric>
 <86800B03D38D4591966AFD950321C972@erratique.ch>
Message-ID: <050C7DA4DFD3444FB7EF4AF21A51DC4A@erratique.ch>

Le jeudi, 27 mars 2014 ? 17:59, Daniel B?nzli a ?crit :
> In fact, `brew reinstall --HEAD -v opam` tells us what it does (that last git checkout-index is the culprit):

This seemed to stupid to me (why would a .git dir prevent a build ?), I made a pull request here:

https://github.com/Homebrew/homebrew/pull/27922

Daniel




From roberto at dicosmo.org  Fri Mar 28 01:23:05 2014
From: roberto at dicosmo.org (Roberto Di Cosmo)
Date: Fri, 28 Mar 2014 02:23:05 +0100
Subject: [opam-devel] Apscud on osx < 10.9 (was Re: aspcud 1.9.0
 packages on Archlinux)
In-Reply-To: <41063533.bAM5YRx4j3@agaric>
References: <20140326144455.GA24033@voyager>
 <EF38092A42044D0EBF602B0361411112@erratique.ch>
 <20140327132111.GA9290@zed.irill.org> <41063533.bAM5YRx4j3@agaric>
Message-ID: <CAJBwKuXVa-f8um9BFBTwicC1_VaQHrc9FZKo_6hsDcBhqkXOSQ@mail.gmail.com>

Hi Louis,
    I am actually unable to reproduce Daniel's problem with a broken
aspcud: the fallback to the internal heuristics seems to work well
here:


$# put a fake aspcud that always fail in /tmp
$ cat > /tmp/aspcud
#!/bin/sh
cat $1 > /dev/null
echo "FAIL" > $2
exit 1
$ chmod +x /tmp/aspcud

$ git checkout 79472ad3182993df854f0f3c2e9334bd39433e3d
$ make
...

$ PATH=/tmp:$PATH _obuild/opam/opam.asm update
default    Downloading https://opam.ocaml.org/urls.txt
Updating ~/.opam/repo/compiler-index ...
Updating ~/.opam/compilers/ ...
Updating ~/.opam/repo/package-index ...
Updating ~/.opam/packages/ ...
Updating the cache of metadata (~/.opam/state.cache) ...
[WARNING] External solver failed with command 'aspcud
"/tmp/tmp.apt-cudf.wIabhR3CuA/in-cudf"
"/tmp/tmp.apt-cudf.wIabhR3CuA/out-cudf"
"-removed,-notuptodate,-changed"' failed with code 1 Request saved to
"/home/dicosmo/.opam/log/solver-error-15843-1.cudf"
Falling back to the internal heuristic.
1 to install | 6 to reinstall | 5 to upgrade | 0 to downgrade | 0 to remove
You can now run 'opam upgrade' to upgrade your system.

I notice, though, that in Daniel's cudf file the request is empty:
look at the last lines

$ tail /tmp/solver-error-76189-1.cudf
opam-version: 0.6.0

package: facebook-sdk
version: 1
depends: yojson , uri , ssl , oasis , lwt , cohttp >= 17 , calendar ,
bolt , atdgen
conflicts: facebook-sdk
opam-name: facebook-sdk
opam-version: 0.2.12

request: opam
<<<<<<<<<<<<<<<====== there is no install/upgrade here!

Maybe this can help?

--
Roberto

P.S.: by the way get-git-id was not working in detached states, I pushed a fix


2014-03-27 14:46 GMT+01:00 Louis Gesbert <louis.gesbert at ocamlpro.com>:
> I think our best move on this would be to provide the cudf file + the aspcud output when this happens, and ask to report. With my latest PR, opam will stop so this will be more visible anyway (just suggests to retry with `--use-external-solver` at the moment)
>
> Any better idea ? This would have saved quite a bit of time on this.
>
> Le jeudi 27 mars 2014, 14:21:11 Pietro Abate a ?crit :
>> i've seen this message before. It's probably due to a mismatch between
>> the version of aspcud and the version of clasp/gringo installed on
>> your system ... Debian packages take care of these dependencies, I'm not sure
>> about the package manager on your platform.
>>
>> p
>>
>>
>> On 27/03/14 14:11, Daniel B?nzli wrote:
>> > Le jeudi, 27 mars 2014 ? 13:52, Roberto Di Cosmo a ?crit :
>> > > Just tested with your cudf file, and aspcud works perfectly here (Debian/amd64),
>> > > so it's probably an issue with the aspcud port on your platform
>> > >
>> > > $ aspcud /tmp/solver-error-76189-1.cudf /tmp/sol "-count(removed),-notuptodate(solution),-count(new)"
>> > This invocation gives that here:
>> >
>> > > aspcud /tmp/solver-error-76189-1.cudf /tmp/sol "-count(removed),-notuptodate(solution),-count(new)"
>> > *** ERROR: (clasp): In context '<clasp>': unknown option: 'opt-hierarch'
>> > *** Info : (clasp): Try '--help' for usage information
>> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:150:57-76: warning: atom is undefined:
>> > recommends(P,V,D,W)
>> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:150:78-92: warning: atom is undefined:
>> > installed(P,V)
>> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:148:57-75: warning: atom is undefined:
>> > attribute(P,V,A,X)
>> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:148:77-91: warning: atom is undefined:
>> > installed(P,V)
>> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:146:64-78: warning: atom is undefined:
>> > installed(P,V)
>> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:305:45-57: warning: atom is undefined:
>> > unit(P,V,in)
>> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:230:79-91: warning: atom is undefined:
>> > unit(P,V,in)
>> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:36:14-27: warning: atom is undefined:
>> > clique(#X0,#P1,#P2)
>> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:39:37-50: warning: atom is undefined:
>> > clique(I,P,V)
>> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:39:52-64: warning: atom is undefined:
>> > unit(P,V,in)
>> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:38:52-65: warning: atom is undefined:
>> > clique(I,P,V)
>> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:38:37-49: warning: atom is undefined:
>> > unit(P,V,in)
>> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:144:42-56: warning: atom is undefined:
>> > installed(P,V)
>> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:141:16-30: warning: atom is undefined:
>> > installed(P,V)
>> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:103:79-91: warning: atom is undefined:
>> > unit(P,V,in)
>> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:161:63-81: warning: atom is undefined:
>> > attribute(P,V,A,X)
>> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:164:42-61: warning: atom is undefined:
>> > recommends(P,V,D,W)
>> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:106:49-65: warning: atom is undefined:
>> > not unit(P,V,in)
>> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:138:57-76: warning: atom is undefined:
>> > recommends(P,V,D,W)
>> > /usr/local/Cellar/aspcud/1.8.0/share/encodings/misc2012.lp:109:50-68: warning: atom is undefined:
>> > attribute(P,V,A,X)
>> >
>> >
>> >
>> >
>> > _______________________________________________
>> > opam-devel mailing list
>> > opam-devel at lists.ocaml.org
>> > http://lists.ocaml.org/listinfo/opam-devel
>> _______________________________________________
>> opam-devel mailing list
>> opam-devel at lists.ocaml.org
>> http://lists.ocaml.org/listinfo/opam-devel
>
> _______________________________________________
> opam-devel mailing list
> opam-devel at lists.ocaml.org
> http://lists.ocaml.org/listinfo/opam-devel



-- 
Roberto Di Cosmo

------------------------------------------------------------------
Professeur               En delegation a l'INRIA
PPS                      E-mail: roberto at dicosmo.org
Universite Paris Diderot WWW  : http://www.dicosmo.org
Case 7014                Tel  : ++33-(0)1-57 27 92 20
5, Rue Thomas Mann
F-75205 Paris Cedex 13   Identica: http://identi.ca/rdicosmo
FRANCE.                  Twitter: http://twitter.com/rdicosmo
------------------------------------------------------------------
Attachments:
MIME accepted, Word deprecated
      http://www.gnu.org/philosophy/no-word-attachments.html
------------------------------------------------------------------
Office location:

Bureau 320 (3rd floor)
Batiment Sophie Germain
Avenue de France
Metro Bibliotheque Francois Mitterrand, ligne 14/RER C
-----------------------------------------------------------------
GPG fingerprint 2931 20CE 3A5A 5390 98EC 8BFC FCCA C3BE 39CB 12D3

