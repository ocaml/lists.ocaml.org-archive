<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] build bot monitoring the opam-repository
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20build%20bot%20monitoring%20the%20opam-repository&In-Reply-To=%3C2D9C22FF-5E9F-4BCE-84FB-31FCA7809B53%40recoil.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001416.html">
   <LINK REL="Next"  HREF="001418.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] build bot monitoring the opam-repository</H1>
    <B>Anil Madhavapeddy</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20build%20bot%20monitoring%20the%20opam-repository&In-Reply-To=%3C2D9C22FF-5E9F-4BCE-84FB-31FCA7809B53%40recoil.org%3E"
       TITLE="[opam-devel] build bot monitoring the opam-repository">anil at recoil.org
       </A><BR>
    <I>Wed Mar 23 11:10:17 GMT 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="001416.html">[opam-devel] build bot monitoring the opam-repository
</A></li>
        <LI>Next message: <A HREF="001418.html">[opam-devel] Fwd: [MirageOS-devel] ounit dependency failing for	mirage-xen package
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1417">[ date ]</a>
              <a href="thread.html#1417">[ thread ]</a>
              <a href="subject.html#1417">[ subject ]</a>
              <a href="author.html#1417">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 23 Mar 2016, at 11:06, Fabrice Le Fessant &lt;<A HREF="http://lists.ocaml.org/listinfo/opam-devel">Fabrice.Le_fessant at inria.fr</A>&gt; wrote:
&gt;<i> 
</I>&gt;<i> Hi Anil,
</I>&gt;<i> 
</I>&gt;<i> On Wed, Mar 23, 2016 at 11:53 AM Anil Madhavapeddy &lt;<A HREF="http://lists.ocaml.org/listinfo/opam-devel">anil at recoil.org</A> &lt;mailto:<A HREF="http://lists.ocaml.org/listinfo/opam-devel">anil at recoil.org</A>&gt;&gt; wrote:
</I>&gt;<i> The build bot looks like it could also benefit from the container infrastructure, since that takes care of depexts for a number of distributions.
</I>&gt;<i> 
</I>&gt;<i> Currently, we use the same computer for all compilations (my personal server at OVH), which means we have only one configuration of external packages. It's both a good thing (we can re-use binaries from previous compilations) but also a limitation (we cannot compile two packages that would have conflicting external dependencies). Indeed, running the bot on a large number of distributions would solve that later issue.
</I>
Makes sense.  If your server is running Linux, then you should be able to wrap the entire opam-builder in a Docker container.  That will give you an environment in which you can install external dependencies without contaminating the host, and also run different Linux distributions.  There are details of all the distribution images with OCaml and OPAM up at <A HREF="https://hub.docker.com/u/ocaml">https://hub.docker.com/u/ocaml</A> &lt;<A HREF="https://hub.docker.com/u/ocaml">https://hub.docker.com/u/ocaml</A>&gt;


&gt;<i> Before I look further at this, I just wanted to confirm that the licensing of the buildbot is intended to be fully AGPLv3.  It looks like there's a fork of opamLib here: <A HREF="https://github.com/OCamlPro/opam-builder/tree/master/libs/copam">https://github.com/OCamlPro/opam-builder/tree/master/libs/copam</A> &lt;<A HREF="https://github.com/OCamlPro/opam-builder/tree/master/libs/copam">https://github.com/OCamlPro/opam-builder/tree/master/libs/copam</A>&gt; renamed under the copam namespace.
</I>&gt;<i> 
</I>&gt;<i> Yes, everything should be AGPLv3 with an attribution exception, except some LGPL files that should have kept their original license. Copam itself is not a copy of opamLib, but a wrapper around the opam command. There are maybe a few files which were taken from OPAM (the Debian versioning, the lexer and parser for OPAM files), they should be under LGPLv3. I will check that the original headers for these files were kept, indeed.
</I>
Thanks for clarifying.  I'm unable to contribute to AGPLv3 code myself, so I won't be able to look at opam-builder directly.  Others may be able to -- please let me know if you need ocaml.org &lt;<A HREF="http://ocaml.org/">http://ocaml.org/</A>&gt; infrastructure provisioned for it.

regards,
Anil

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ocaml.org/pipermail/opam-devel/attachments/20160323/e8d9df5b/attachment.html">http://lists.ocaml.org/pipermail/opam-devel/attachments/20160323/e8d9df5b/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001416.html">[opam-devel] build bot monitoring the opam-repository
</A></li>
	<LI>Next message: <A HREF="001418.html">[opam-devel] Fwd: [MirageOS-devel] ounit dependency failing for	mirage-xen package
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1417">[ date ]</a>
              <a href="thread.html#1417">[ thread ]</a>
              <a href="subject.html#1417">[ subject ]</a>
              <a href="author.html#1417">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
