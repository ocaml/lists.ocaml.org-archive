<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] How to manage a package manager (Was: Re: [opam]	Build clarification (#1149))
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20How%20to%20manage%20a%20package%20manager%20%28Was%3A%20Re%3A%20%5Bopam%5D%0A%09Build%20clarification%20%28%231149%29%29&In-Reply-To=%3CDD74C1C0-69F0-49AE-BD43-AA51ACCEF8E2%40recoil.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000374.html">
   <LINK REL="Next"  HREF="000376.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] How to manage a package manager (Was: Re: [opam]	Build clarification (#1149))</H1>
    <B>Anil Madhavapeddy</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20How%20to%20manage%20a%20package%20manager%20%28Was%3A%20Re%3A%20%5Bopam%5D%0A%09Build%20clarification%20%28%231149%29%29&In-Reply-To=%3CDD74C1C0-69F0-49AE-BD43-AA51ACCEF8E2%40recoil.org%3E"
       TITLE="[opam-devel] How to manage a package manager (Was: Re: [opam]	Build clarification (#1149))">anil at recoil.org
       </A><BR>
    <I>Sat Feb  1 13:18:03 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="000374.html">[opam-devel] How to manage a package manager (Was: Re: [opam] Build clarification (#1149))
</A></li>
        <LI>Next message: <A HREF="000376.html">[opam-devel] How to manage a package manager (Was: Re: [opam] Build clarification (#1149))
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#375">[ date ]</a>
              <a href="thread.html#375">[ thread ]</a>
              <a href="subject.html#375">[ subject ]</a>
              <a href="author.html#375">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 1 Feb 2014, at 14:10, Roberto Di Cosmo &lt;<A HREF="http://lists.ocaml.org/listinfo/opam-devel">roberto at dicosmo.org</A>&gt; wrote:

&gt;<i> ===&gt;           opam version n+1 is added also to repo version n
</I>&gt;<i> ===&gt;
</I>&gt;<i> ===&gt; Sometimes later: the user of opam n runs an update, sees that a new
</I>&gt;<i> ===&gt;                 version of opam is available, and upgrades it...
</I>&gt;<i>                      he now has the new opam, that updates the references
</I>&gt;<i>                      to the new repository, and keeps following the evolution
</I>&gt;<i>                      of the repository, with no pain
</I>&gt;<i> 
</I>&gt;<i> So, basically, my big feature whish is to see opam *packaged* as an opam
</I>&gt;<i> package. 
</I>&gt;<i> 
</I>&gt;<i> I remember that in the past that was the case, but there were issues
</I>&gt;<i> that forced opam to stop being an opam package. 
</I>&gt;<i> 
</I>&gt;<i> I wonder what these issues were, and whether they can now easily be solved...
</I>&gt;<i> one is the location where the binary opam should be installed: as I said in my
</I>&gt;<i> previous mail, it cannot go under the 4.00/3.12/whatever directories, as it is
</I>&gt;<i> supposed to be the package manager, maybe there are other?
</I>
This is a very tricky interaction to get right, and the opportunity cost is
that of focussing on better upstream integration of OPAM itself.

My view is that we should focus on getting the OPAM packages upstreamed more
widely, and (possibly) provide package manager hooks to trigger an OPAM update
along with an OS update.

Getting the recursive dependency sorted for a rolling upgrade is a lot of
work, hard to test, and of questionable utility (since the original OPAM will
be obtained via the OS package manager, and the new one will disappear if the
~/.opam is destroyed by the user, therefore downgrading their version of OPAM).

-anil
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000374.html">[opam-devel] How to manage a package manager (Was: Re: [opam] Build clarification (#1149))
</A></li>
	<LI>Next message: <A HREF="000376.html">[opam-devel] How to manage a package manager (Was: Re: [opam] Build clarification (#1149))
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#375">[ date ]</a>
              <a href="thread.html#375">[ thread ]</a>
              <a href="subject.html#375">[ subject ]</a>
              <a href="author.html#375">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
