<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] bundling
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20bundling&In-Reply-To=%3C33179724.3I7kyHHkoF%40agaric%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000450.html">
   <LINK REL="Next"  HREF="000452.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] bundling</H1>
    <B>Louis Gesbert</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20bundling&In-Reply-To=%3C33179724.3I7kyHHkoF%40agaric%3E"
       TITLE="[opam-devel] bundling">gesbert at antislash.info
       </A><BR>
    <I>Mon Feb 24 12:05:43 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="000450.html">[opam-devel] bundling
</A></li>
        <LI>Next message: <A HREF="000452.html">[opam-devel] bundling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#451">[ date ]</a>
              <a href="thread.html#451">[ thread ]</a>
              <a href="subject.html#451">[ subject ]</a>
              <a href="author.html#451">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>That's awesome, thanks ! I am in the process of reviewing the patch ; in its current state it will work for basic packages but won't handle patches, .install files and such more advanced features. I am wondering also if this should fit in opam itself, or in an external tool like opam admin / opamfu, as this is mostly independent from the current opam installation (except for repositories used). Making it external would ensure there is no issue with the current state being loaded and used for filtering the commands.

&gt;<i>  * bundling of ocaml itself
</I>
When my compilers-as-packages branch lands, hopefully this won't require any more work for bundling :)

&gt;<i>  * better error messages (e.g. when depext is missing), though that can be checked by configure script
</I>
Integrating proper depexts and/or post-messages processing in a generated shell-script sounds very tedious, not sure what the best approach would be here but just outputing the info at bundle-generation time to help document may be good enough for a start.


These are just details though, this is really cool and will just need a bit of polishing to make sure it integrates nicely without unexpected errors.

Louis


Le lundi 24 f&#233;vrier 2014, 18:13:37 ygrek a &#233;crit :
&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i>  <A HREF="https://github.com/ocaml/opam/pull/1190">https://github.com/ocaml/opam/pull/1190</A>
</I>&gt;<i> 
</I>&gt;<i>  This is not 100% complete, but it helps me to solve my current issue, namely a single click install of ocaml software.
</I>&gt;<i>  My further goal is to use this to unbundle mldonkey so that it can be built with ocamlfind dependencies
</I>&gt;<i>  by the developer and still distributed as a single archive for the end-users.
</I>&gt;<i>  TODO:
</I>&gt;<i>  * bundling of ocaml itself
</I>&gt;<i>  * better error messages (e.g. when depext is missing), though that can be checked by configure script
</I>&gt;<i>  * windows?
</I>&gt;<i> 
</I>&gt;<i>  I wonder what you think about it.
</I>&gt;<i> 
</I>&gt;<i> 
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000450.html">[opam-devel] bundling
</A></li>
	<LI>Next message: <A HREF="000452.html">[opam-devel] bundling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#451">[ date ]</a>
              <a href="thread.html#451">[ thread ]</a>
              <a href="subject.html#451">[ subject ]</a>
              <a href="author.html#451">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
