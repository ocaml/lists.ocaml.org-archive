<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] [Caml-list] opam and godi
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20%5BCaml-list%5D%20opam%20and%20godi&In-Reply-To=%3C66667E06-8E92-4CB8-BF59-578E1E961AC0%40recoil.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000167.html">
   <LINK REL="Next"  HREF="000169.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] [Caml-list] opam and godi</H1>
    <B>Anil Madhavapeddy</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20%5BCaml-list%5D%20opam%20and%20godi&In-Reply-To=%3C66667E06-8E92-4CB8-BF59-578E1E961AC0%40recoil.org%3E"
       TITLE="[opam-devel] [Caml-list] opam and godi">anil at recoil.org
       </A><BR>
    <I>Mon Jul 22 14:30:51 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000167.html">[opam-devel] Ubuntu PPAs for OCaml (4.00 and 4.01dev)
</A></li>
        <LI>Next message: <A HREF="000169.html">[opam-devel] Using OPAM with other languages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#168">[ date ]</a>
              <a href="thread.html#168">[ thread ]</a>
              <a href="subject.html#168">[ subject ]</a>
              <a href="author.html#168">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 22 Jul 2013, at 08:44, Adrien Nader &lt;<A HREF="http://lists.ocaml.org/listinfo/opam-devel">adrien at notk.org</A>&gt; wrote:

&gt;<i> In the end, maybe you have:
</I>&gt;<i> - godi, slower package updates but usually more stable; bugs in packages
</I>&gt;<i>  are less common but when they exist, they can also take time to fix
</I>&gt;<i> - opam, many more updates, maybe too many, packages get less testing
</I>&gt;<i>  before they reach others (if you want new software, you can't have a
</I>&gt;<i>  week of testing between each release)
</I>&gt;<i> 
</I>&gt;<i> NB: don't get me wrong, I don't blame any package maintainer or package
</I>&gt;<i> on slow updates or bugs: many issues arise when software is used on 10
</I>&gt;<i> different setups (different CPUs, different OS, ....)
</I>
This is absolutely true.  I've been assembling a little machine pool of
'exotic architectures' that make it easier to test all the various 
permutations.  OPAM has a vestigial autobuilder now that runs through a
bunch of different platforms.  For a *temporary* URL with our development
version, see:
<A HREF="https://ocaml-www3.ocamllabs.cl.cam.ac.uk/github/OCamlPro/opam-repository">https://ocaml-www3.ocamllabs.cl.cam.ac.uk/github/OCamlPro/opam-repository</A>

Once the teething issues are sorted, David Sheets has also written Github
bindings so that work will be queued up directly from a Github pull request.
Anyone submitting a report can have their package tested on systems they
don't normally have access to.  This will in turn let us do acceptance tests
before merging pull requests into the 'stable' OPAM repository.

I really like the Git workflow behind all this.  It basically reflects
how we work with OCaml in an industrial setting: pool up a sequence of
local changes (across multiple repositories), publish them to an internal
OPAM remote, and then issue pull requests upstream until you hit the
central stable repository.  At no point do you have to block waiting for
someone else to do something for you, unless it's the default central
repository that Thomas and I monitor.

I'm also very pleased to announce that Rackspace (who use OCaml via the
Xen Cloud toolstack) have recently donated a significant number of VMs
to power all the builds behind this. We can use this infrastructure to
securely run unit tests: we just need to set up a &quot;gold image&quot; VM with
the build, unplugging its external network interface, run the test,
and then replug it back into the network.  All via HTTP interfaces,
with feedback sent back to the package maintainer via the Github pull
request interface.

-anil

(PS: for those concerned about an over-dependence on Github, I'm currently
evaluating Gitlab, which Jeremy Yallop pointed out to me -- it seems a
good candidate to mirror all this activity somewhere else, while still
using Github as a primary source).
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000167.html">[opam-devel] Ubuntu PPAs for OCaml (4.00 and 4.01dev)
</A></li>
	<LI>Next message: <A HREF="000169.html">[opam-devel] Using OPAM with other languages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#168">[ date ]</a>
              <a href="thread.html#168">[ thread ]</a>
              <a href="subject.html#168">[ subject ]</a>
              <a href="author.html#168">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
