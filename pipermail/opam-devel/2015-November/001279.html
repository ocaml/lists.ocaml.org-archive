<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] [ANN] opam-fmt 1.0
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20%5BANN%5D%20opam-fmt%201.0&In-Reply-To=%3C2385036.urB3YjnDKE%40maitake%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001278.html">
   <LINK REL="Next"  HREF="001280.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] [ANN] opam-fmt 1.0</H1>
    <B>Louis Gesbert</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20%5BANN%5D%20opam-fmt%201.0&In-Reply-To=%3C2385036.urB3YjnDKE%40maitake%3E"
       TITLE="[opam-devel] [ANN] opam-fmt 1.0">louis.gesbert at ocamlpro.com
       </A><BR>
    <I>Fri Nov 27 09:46:02 GMT 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="001278.html">[opam-devel] [ANN] opam-fmt 1.0
</A></li>
        <LI>Next message: <A HREF="001280.html">[opam-devel] [ANN] opam-fmt 1.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1279">[ date ]</a>
              <a href="thread.html#1279">[ thread ]</a>
              <a href="subject.html#1279">[ subject ]</a>
              <a href="author.html#1279">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> With this solution, you still lose comments on the modified fields
</I>&gt;<i> (we've seen in the examples above that for examples there are comments
</I>&gt;<i> inside the depext or depopt fields). The general guarantee you provide
</I>&gt;<i> to users is still &quot;best effort, comments may disappear&quot;.
</I>
Indeed.

&gt;<i> Do you plan to cherry-pick the format-preserving-printer on top of
</I>&gt;<i> some 1.2 branch? I'm fine with porting my own script back to trunk,
</I>&gt;<i> but I wonder whether I will have the same incompatible-formatting
</I>&gt;<i> issues as last time (where those clear bugs that you fixed, or just a
</I>&gt;<i> change in expected format?).
</I>
No, it's not reasonably doable since parsing/printing has been largely 
rewritten and the whole format-preserving stuff is based on functions that 
didn't exist.

The '&quot;&quot;&quot;' quoted strings are the only format update in the parser/printer, so 
I'll add an option to disable their automatic use when printing and use that 
in the rewriting scripts (it wasn't strictly required, but we wanted to be 
able do include the package descriptions in the opam file, and it makes 
escaping much less painful). With that fix you should be good on trunk.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001278.html">[opam-devel] [ANN] opam-fmt 1.0
</A></li>
	<LI>Next message: <A HREF="001280.html">[opam-devel] [ANN] opam-fmt 1.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1279">[ date ]</a>
              <a href="thread.html#1279">[ thread ]</a>
              <a href="subject.html#1279">[ subject ]</a>
              <a href="author.html#1279">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
