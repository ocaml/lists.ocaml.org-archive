<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] [MirageOS-devel] 0install gist for macos x
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20%5BMirageOS-devel%5D%200install%20gist%20for%20macos%20x&In-Reply-To=%3CCAG4opy9s%2BL%2BPXT1scrL4DX918xnuUfME8phFjaQokBaB8e%2BzTA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000521.html">
   <LINK REL="Next"  HREF="000524.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] [MirageOS-devel] 0install gist for macos x</H1>
    <B>Thomas Leonard</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20%5BMirageOS-devel%5D%200install%20gist%20for%20macos%20x&In-Reply-To=%3CCAG4opy9s%2BL%2BPXT1scrL4DX918xnuUfME8phFjaQokBaB8e%2BzTA%40mail.gmail.com%3E"
       TITLE="[opam-devel] [MirageOS-devel] 0install gist for macos x">talex5 at gmail.com
       </A><BR>
    <I>Mon Apr 28 16:07:42 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="000521.html">[opam-devel] [MirageOS-devel] 0install gist for macos x
</A></li>
        <LI>Next message: <A HREF="000524.html">[opam-devel] [MirageOS-devel] 0install gist for macos x
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#522">[ date ]</a>
              <a href="thread.html#522">[ thread ]</a>
              <a href="subject.html#522">[ subject ]</a>
              <a href="author.html#522">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 28 April 2014 15:41, Anil Madhavapeddy &lt;<A HREF="http://lists.ocaml.org/listinfo/opam-devel">anil at recoil.org</A>&gt; wrote:
&gt;<i> On 28 Apr 2014, at 09:26, Thomas Leonard &lt;<A HREF="http://lists.ocaml.org/listinfo/opam-devel">talex5 at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> That's odd. It might try writing there (in case it's running as root),
</I>&gt;&gt;<i> but it doesn't need to and normally it can't. It works on Linux even
</I>&gt;&gt;<i> if /var/cache is missing.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> What does this output?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 0install run -vvc <A HREF="http://test.roscidus.com/opam.xml">http://test.roscidus.com/opam.xml</A>
</I>&gt;<i>
</I>&gt;<i> tail snippet below:
</I>&gt;<i>
</I>&gt;<i> [2 downloads]    0 / 1743.0 KB (<A HREF="http://test.roscidus.com/archives/opam-Darwin-x86_64-1.1.1.tgz">http://test.roscidus.com/archives/opam-Darwin-x86_64-1.1.1.tgz</A>)&lt; HTTP/1.1 200 OK
</I>&gt;<i> * Server nginx is not blacklisted
</I>&gt;<i> &lt; Server: nginx
</I>&gt;<i> &lt; Date: Mon, 28 Apr 2014 14:40:17 GMT
</I>&gt;<i> &lt; Content-Type: application/octet-stream
</I>&gt;<i> &lt; Content-Length: 1784883
</I>&gt;<i> &lt; Last-Modified: Sun, 27 Apr 2014 08:34:34 GMT
</I>&gt;<i> &lt; Connection: keep-alive
</I>&gt;<i> &lt; ETag: &quot;535cc11a-1b3c33&quot;
</I>&gt;<i> &lt; Accept-Ranges: bytes
</I>&gt;<i> &lt;
</I>&gt;<i> [2 downloads] 1502296 / 1743.0 KB (<A HREF="http://test.roscidus.com/archives/opam-Darwin-x86_64-1.1.1.tgz">http://test.roscidus.com/archives/opam-Darwin-x86_64-1.1.1.tgz</A>)* Connection #0 to host test.roscidus.com left intact
</I>&gt;<i> info: Download '<A HREF="http://test.roscidus.com/archives/opam-Darwin-x86_64-1.1.1.tgz">http://test.roscidus.com/archives/opam-Darwin-x86_64-1.1.1.tgz</A>' completed successfully (1784883 bytes)
</I>&gt;<i> info: Will run: tar --version
</I>&gt;<i> info: Will run: tar -xf /var/folders/vr/h2mdzb2d2gv29pmvbywrnfjh0000gn/T/0install-2c1611-download -C /Users/avsm/.cache/0install.net/implementations/0install-unpack-381553e5 -z
</I>&gt;<i> info: Removing temporary directory '/Users/avsm/.cache/0install.net/implementations/tmp-39611905'
</I>&gt;<i> Not a directory: /var
</I>&gt;<i> ... creating directory /var/cache/0install.net/implementations
</I>&gt;<i> ... downloading implementation <A HREF="http://test.roscidus.com/opam.xml">http://test.roscidus.com/opam.xml</A> 1.1.1 (id=sha1new=3de6e1723bfef5d5a9572e20e1977a88b8152190)
</I>&gt;<i> Called from file &quot;support/utils.ml&quot;, line 81, characters 8-19
</I>&gt;<i> Called from file &quot;support/utils.ml&quot;, line 81, characters 8-19
</I>&gt;<i> Called from file &quot;support/utils.ml&quot;, line 81, characters 8-19
</I>&gt;<i> Called from file &quot;support/utils.ml&quot;, line 83, characters 6-15
</I>&gt;<i> Re-raised at file &quot;support/common.ml&quot;, line 127, characters 10-12
</I>&gt;<i> Called from file &quot;zeroinstall/stores.ml&quot;, line 136, characters 2-38
</I>&gt;<i> Called from file &quot;zeroinstall/stores.ml&quot;, line 244, characters 8-63
</I>&gt;<i> Called from file &quot;zeroinstall/fetch.ml&quot;, line 574, characters 17-116
</I>&gt;<i> Called from file &quot;src/core/lwt.ml&quot;, line 646, characters 66-69
</I>&gt;<i> Re-raised at file &quot;zeroinstall/fetch.ml&quot;, line 582, characters 21-23
</I>&gt;<i> Called from file &quot;src/core/lwt.ml&quot;, line 774, characters 66-71
</I>&gt;<i> Re-raised at file &quot;support/common.ml&quot;, line 127, characters 10-12
</I>&gt;<i> Called from file &quot;src/core/lwt.ml&quot;, line 691, characters 66-71
</I>&gt;<i> Re-raised at file &quot;zeroinstall/fetch.ml&quot;, line 746, characters 16-21
</I>&gt;<i> Called from file &quot;src/core/lwt.ml&quot;, line 646, characters 66-69
</I>&gt;<i> Re-raised at file &quot;src/core/lwt.ml&quot;, line 782, characters 22-23
</I>&gt;<i> Called from file &quot;src/unix/lwt_main.ml&quot;, line 34, characters 8-18
</I>&gt;<i> Called from file &quot;generic_select.ml&quot;, line 268, characters 21-35
</I>&gt;<i> Called from file &quot;run.ml&quot;, line 59, characters 15-129
</I>&gt;<i> Called from file &quot;cli.ml&quot;, line 182, characters 10-36
</I>&gt;<i> Called from file &quot;cli.ml&quot;, line 328, characters 6-69
</I>&gt;<i> Called from file &quot;support/utils.ml&quot;, line 31, characters 6-15
</I>
Ah, I guess it's confused because /var is a symlink and not a
directory. I've fixed the bug:

<A HREF="https://github.com/0install/0install/commit/8da5a1f82c108903dfea74553df0779f9f9e6d14">https://github.com/0install/0install/commit/8da5a1f82c108903dfea74553df0779f9f9e6d14</A>

A simple work-around is to mkdir /var/cache first.


-- 
Dr Thomas Leonard        <A HREF="http://0install.net/">http://0install.net/</A>
GPG: 9242 9807 C985 3C07 44A6  8B9A AE07 8280 59A5 3CC1
GPG: DA98 25AE CAD0 8975 7CDA  BD8E 0713 3F96 CA74 D8BA
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000521.html">[opam-devel] [MirageOS-devel] 0install gist for macos x
</A></li>
	<LI>Next message: <A HREF="000524.html">[opam-devel] [MirageOS-devel] 0install gist for macos x
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#522">[ date ]</a>
              <a href="thread.html#522">[ thread ]</a>
              <a href="subject.html#522">[ subject ]</a>
              <a href="author.html#522">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
