<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] branch merge
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20branch%20merge&In-Reply-To=%3C35CCE1BA-054B-4D41-A455-FE30A6B9A883%40ocamlpro.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000181.html">
   <LINK REL="Next"  HREF="000185.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] branch merge</H1>
    <B>Thomas Gazagnaire</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20branch%20merge&In-Reply-To=%3C35CCE1BA-054B-4D41-A455-FE30A6B9A883%40ocamlpro.com%3E"
       TITLE="[opam-devel] branch merge">thomas at ocamlpro.com
       </A><BR>
    <I>Wed Aug  7 18:54:19 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000181.html">[opam-devel] Which shell files are updated
</A></li>
        <LI>Next message: <A HREF="000185.html">[opam-devel] branch merge
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#182">[ date ]</a>
              <a href="thread.html#182">[ thread ]</a>
              <a href="subject.html#182">[ subject ]</a>
              <a href="author.html#182">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Just to let you know that I was sufficiently happy with the state of my new branch to merge it in the main repository.

These patches should fix a lot of instability regarding repository update, dev and pin packages - as this is now well stress-tested by opam-rt. But if you find new regressions, and if you are not happy with the new behavior, please tell me. I plan to fix the last documentation issues during the week, and hope to release 1.1 next week if nothing is reported since then.

One nice new thing with these patches is that you can easily add overlays for your package metadata (but editing ~/.opam/&lt;switch&gt;/overlay/&lt;name&gt;.&lt;package&gt;/{opam,url,descr,files/*}). Using that mechanism, pinned packages and dev packages are not very different anymore, as an pinned package is just a normal package with an URL overlay (and a slightly different version).

I've also cleaned up the file hierarchy in the ~/.opam/ folder, (packages metadata are now in ~/.opam/packages/&lt;name&gt;/&lt;name&gt;.&lt;version&gt;/{opam,url,descr,file/*}) and so a small upgrade script is run the first time you run the new OPAM. If something goes wrong, you can `mkdir ~/.opam/opam` and starts again. If something goes wrong again, please fill a bug report.

Best,
Thomas
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000181.html">[opam-devel] Which shell files are updated
</A></li>
	<LI>Next message: <A HREF="000185.html">[opam-devel] branch merge
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#182">[ date ]</a>
              <a href="thread.html#182">[ thread ]</a>
              <a href="subject.html#182">[ subject ]</a>
              <a href="author.html#182">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
