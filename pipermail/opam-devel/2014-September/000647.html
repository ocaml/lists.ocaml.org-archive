<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] Fwd: AUR Comment for aspcud-svn
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20Fwd%3A%20AUR%20Comment%20for%20aspcud-svn&In-Reply-To=%3C3143525.tu86YdeZe3%40beholder%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000645.html">
   <LINK REL="Next"  HREF="000648.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] Fwd: AUR Comment for aspcud-svn</H1>
    <B>Roland Kaminski</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20Fwd%3A%20AUR%20Comment%20for%20aspcud-svn&In-Reply-To=%3C3143525.tu86YdeZe3%40beholder%3E"
       TITLE="[opam-devel] Fwd: AUR Comment for aspcud-svn">kaminski at cs.uni-potsdam.de
       </A><BR>
    <I>Wed Sep 10 11:30:10 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="000645.html">[opam-devel] Fwd: AUR Comment for aspcud-svn
</A></li>
        <LI>Next message: <A HREF="000648.html">[opam-devel] bulk testing now includes CentOS 6/7
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#647">[ date ]</a>
              <a href="thread.html#647">[ thread ]</a>
              <a href="subject.html#647">[ subject ]</a>
              <a href="author.html#647">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, I fixed this in trunk. Thanks for reporting. -Roland

On Wednesday, September 10, 2014 11:00:44 AM Vincent B. wrote:
&gt;<i> -------- Forwarded Message --------
</I>&gt;<i> Subject: AUR Comment for aspcud-svn
</I>&gt;<i> Date: Tue,  9 Sep 2014 18:10:17 +0000 (UTC)
</I>&gt;<i> From: <A HREF="http://lists.ocaml.org/listinfo/opam-devel">notify at aur.archlinux.org</A>
</I>&gt;<i> Reply-To: <A HREF="http://lists.ocaml.org/listinfo/opam-devel">noreply at aur.archlinux.org</A>
</I>&gt;<i> To: undisclosed-recipients: ;
</I>&gt;<i> 
</I>&gt;<i> from <A HREF="https://aur.archlinux.org/pkgbase/aspcud-svn/">https://aur.archlinux.org/pkgbase/aspcud-svn/</A>
</I>&gt;<i> zhenya1007 wrote:
</I>&gt;<i> 
</I>&gt;<i> From af83aff2dae812bdcf8086b5ef642c52186abd86 Mon Sep 17 00:00:00
</I>&gt;<i> 2001
</I>&gt;<i> From: Evgeny Roubinchtein &lt;<A HREF="http://lists.ocaml.org/listinfo/opam-devel">zhenya1007 at gmail.com</A>&gt;
</I>&gt;<i> Date: Tue, 9 Sep 2014 10:53:36 -0700
</I>&gt;<i> Subject: [PATCH] A compilation fix.
</I>&gt;<i> 
</I>&gt;<i> Needed this patch to get the source to compile with.
</I>&gt;<i> boost 1.56.0-1
</I>&gt;<i> gcc 4.9.1-1
</I>&gt;<i> ---
</I>&gt;<i>  aspcud-svn/PKGBUILD             | 13 ++++++++++---
</I>&gt;<i>  aspcud-svn/dependency.cpp.patch | 11 +++++++++++
</I>&gt;<i>  2 files changed, 21 insertions(+), 3 deletions(-)
</I>&gt;<i>  create mode 100644 aspcud-svn/dependency.cpp.patch
</I>&gt;<i> 
</I>&gt;<i> diff --git a/aspcud-svn/PKGBUILD b/aspcud-svn/PKGBUILD
</I>&gt;<i> index 5929cb1..a29e97d 100644
</I>&gt;<i> --- a/aspcud-svn/PKGBUILD
</I>&gt;<i> +++ b/aspcud-svn/PKGBUILD
</I>&gt;<i> @@ -2,7 +2,7 @@
</I>&gt;<i> 
</I>&gt;<i>  pkgname=aspcud-svn
</I>&gt;<i>  groups=('potassco')
</I>&gt;<i> -pkgver=r8385
</I>&gt;<i> +pkgver=r8738
</I>&gt;<i>  pkgrel=1
</I>&gt;<i>  pkgdesc=&quot;Solver for package dependencies&quot;
</I>&gt;<i>  arch=('x86_64' 'i686' 'armv6h' 'armv7h')
</I>&gt;<i> @@ -12,8 +12,10 @@ depends=('clasp&gt;=2.1.3' 'gringo&gt;=4.2.1')
</I>&gt;<i>  conflicts=('aspcud')
</I>&gt;<i>  provides=('aspcud')
</I>&gt;<i>  makedepends=('boost' 'cmake' 're2c')
</I>&gt;<i> -source=(&quot;$pkgname&quot;::'svn+<A HREF="svn://svn.code.sf.net/p/potassco/code/trunk/aspcud">svn://svn.code.sf.net/p/potassco/code/trunk/aspcud</A>
</I>&gt;<i> ') -md5sums=('SKIP')
</I>&gt;<i> +source=(&quot;$pkgname&quot;::'svn+<A HREF="svn://svn.code.sf.net/p/potassco/code/trunk/aspcud">svn://svn.code.sf.net/p/potassco/code/trunk/aspcud</A>
</I>&gt;<i> ' +	dependency.cpp.patch)
</I>&gt;<i> +md5sums=('SKIP'
</I>&gt;<i> +	'c417b8aff0c290e07e6be27d68efe48a')
</I>&gt;<i> 
</I>&gt;<i>  pkgver() {
</I>&gt;<i>      cd &quot;$srcdir/$pkgname&quot;
</I>&gt;<i> @@ -21,6 +23,11 @@ pkgver() {
</I>&gt;<i>      printf &quot;r%s&quot; &quot;${ver//[[:alpha:]]}&quot;
</I>&gt;<i>  }
</I>&gt;<i> 
</I>&gt;<i> +prepare() {
</I>&gt;<i> +    cd &quot;$srcdir/$pkgname&quot;
</I>&gt;<i> +    patch -p3 -i $srcdir/dependency.cpp.patch
</I>&gt;<i> +}
</I>&gt;<i> +
</I>&gt;<i>  build() {
</I>&gt;<i>      cd &quot;$srcdir/$pkgname&quot;
</I>&gt;<i>      mkdir -p build/release
</I>&gt;<i> diff --git a/aspcud-svn/dependency.cpp.patch
</I>&gt;<i> b/aspcud-svn/dependency.cpp.patch
</I>&gt;<i> new file mode 100644
</I>&gt;<i> index 0000000..15b05b8
</I>&gt;<i> --- /dev/null
</I>&gt;<i> +++ b/aspcud-svn/dependency.cpp.patch
</I>&gt;<i> @@ -0,0 +1,11 @@
</I>&gt;<i> +--- ./src/aspcud-svn/libcudf/src/dependency.cpp.orig	2014-09-08
</I>&gt;<i> 17:35:55.375674302 -0700
</I>&gt;<i> ++++ ./src/aspcud-svn/libcudf/src/dependency.cpp	2014-09-08
</I>&gt;<i> 18:09:00.832366212 -0700
</I>&gt;<i> +@@ -49,7 +49,7 @@
</I>&gt;<i> +
</I>&gt;<i> +     struct CudfPackageRefFilter {
</I>&gt;<i> +         CudfPackageRefFilter(const Cudf::PackageRef &amp;ref) :
</I>&gt;<i> ref(&amp;ref) { }
</I>&gt;<i> +-        bool operator()(const Entity *entity) {
</I>&gt;<i> ++        bool operator()(const Entity *entity) const {
</I>&gt;<i> +             switch (ref-&gt;op) {
</I>&gt;<i> +                 case Cudf::PackageRef::EQ:
</I>&gt;<i> +                     return (entity-&gt;version == ref-&gt;version ||
</I>&gt;<i> entity-&gt;allVersions()) &amp;&amp; ref-&gt;version != 0;
</I>-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 213 bytes
Desc: This is a digitally signed message part.
URL: &lt;<A HREF="http://lists.ocaml.org/pipermail/opam-devel/attachments/20140910/14500621/attachment.sig">http://lists.ocaml.org/pipermail/opam-devel/attachments/20140910/14500621/attachment.sig</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000645.html">[opam-devel] Fwd: AUR Comment for aspcud-svn
</A></li>
	<LI>Next message: <A HREF="000648.html">[opam-devel] bulk testing now includes CentOS 6/7
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#647">[ date ]</a>
              <a href="thread.html#647">[ thread ]</a>
              <a href="subject.html#647">[ subject ]</a>
              <a href="author.html#647">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
