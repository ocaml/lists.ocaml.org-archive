<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] ows reports
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20ows%20reports&In-Reply-To=%3C20140930204017.GA14738%40traveler%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000692.html">
   <LINK REL="Next"  HREF="000697.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] ows reports</H1>
    <B>Roberto Di Cosmo</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20ows%20reports&In-Reply-To=%3C20140930204017.GA14738%40traveler%3E"
       TITLE="[opam-devel] ows reports">roberto at dicosmo.org
       </A><BR>
    <I>Tue Sep 30 21:40:17 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="000692.html">[opam-devel] ows reports
</A></li>
        <LI>Next message: <A HREF="000697.html">[opam-devel] ows reports
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#696">[ date ]</a>
              <a href="thread.html#696">[ thread ]</a>
              <a href="subject.html#696">[ subject ]</a>
              <a href="author.html#696">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Anil,
   I think I mentioned it earlier, but just in case it ended up in some lost
closed ticket somewhere on github, let me recall this here: OWS does a nice
web-like presentation of the results that you can obtain by just running
*distcheck*, a standard tool from the Dose tool suite, which is distributed
under a free software licence, and uses the Cudf library, also distributed under
a free software licence.

Anybody can do the same locally, it's as simple as

 opam config cudf-universe &gt; <A HREF="cudf:///universe.cudf">cudf:///universe.cudf</A>
 distcheck -f -e <A HREF="cudf:///tmp/universe.cudf">cudf:///tmp/universe.cudf</A> 

So you can test everything already, right away! This has been possible since
the very beginning: there is nothing hidden, the manpage for distcheck is quite
detailed and there is even a full 20 pages primer in the documentation directory.


All this being said, things are not as well as I would like.

On one side, the existence of zillions of versions of the same package in
opam-repository made the original explanation algorithm produce correct, but
unreadable reports; over the past years different experiments with the
simplification of the explanations led to different pieces of code trying to do
differently similar, but not quite identical things in different places,
including opam and OWS, instead of in the Dose library, where all this really
belongs.

Also, distcheck produces by default a report referring to the CUDF file, so it
outputs a version number that needs to be matched back with the original package
version; there are incarnations of distcheck for debian, rpm and eclipse that do this
properly, but not yet for opam, that has not even a formally specified version
comparison algorithm, as AFAIK it justs currently piggybacks on the dose implementation
of the debian one, that may change in the future, as it has changed in the past.

To try and get back in a sane state, there has been work ongoing here over the
summer to design a general explanation simplification algorithm that covers most
cases, not just for opam, and various experiments on how to make distcheck
handle source versions generically, all in the public Dose git repo, but we are
far from finished yet, as it's pretty tricky work.

Now I really want to see everything converge back into a single code base again,
which *is* free software: Dose and Cudf, to which everybody is welcome to
contribute, even if I know that the learning curve is steep, despite all this
being OCaml code.

Hope this clarifies my stance here.

--
Roberto
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000692.html">[opam-devel] ows reports
</A></li>
	<LI>Next message: <A HREF="000697.html">[opam-devel] ows reports
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#696">[ date ]</a>
              <a href="thread.html#696">[ thread ]</a>
              <a href="subject.html#696">[ subject ]</a>
              <a href="author.html#696">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
