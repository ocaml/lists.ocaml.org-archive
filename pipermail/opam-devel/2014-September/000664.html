<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] Travis CI failures
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20Travis%20CI%20failures&In-Reply-To=%3C30BC94CD-2132-42F0-8B21-49EC59760F54%40recoil.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000663.html">
   <LINK REL="Next"  HREF="000666.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] Travis CI failures</H1>
    <B>Anil Madhavapeddy</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20Travis%20CI%20failures&In-Reply-To=%3C30BC94CD-2132-42F0-8B21-49EC59760F54%40recoil.org%3E"
       TITLE="[opam-devel] Travis CI failures">anil at recoil.org
       </A><BR>
    <I>Mon Sep 29 14:24:26 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="000663.html">[opam-devel] Travis CI failures
</A></li>
        <LI>Next message: <A HREF="000666.html">[opam-devel] Travis CI failures
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#664">[ date ]</a>
              <a href="thread.html#664">[ thread ]</a>
              <a href="subject.html#664">[ subject ]</a>
              <a href="author.html#664">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>None of the time is spent installing OCaml on the basic Linux install, since I've been compiling up a set of binary Debs/RPMs of the matrix of OCaml and OPAM versions (e.g. see <A HREF="https://launchpad.net/~avsm">https://launchpad.net/~avsm</A>).  We only compile from source on the Mac, which is optional.

If someone is interested in proposing official OCaml support, a good template for anyone wishing to OCaml support in Travis is the pull request to add Rust support here:
<A HREF="https://github.com/travis-ci/travis-build/pull/264/files">https://github.com/travis-ci/travis-build/pull/264/files</A>

-anil

On 29 Sep 2014, at 14:20, Ashish Agarwal &lt;<A HREF="http://lists.ocaml.org/listinfo/opam-devel">agarwal1975 at gmail.com</A>&gt; wrote:

&gt;<i> About 10 - 20 minutes out of the 50 get used up installing OCaml and basic libraries every time. Has anyone looked into getting OCaml as one of the natively supported languages by Travis? I'm not sure how it works, but ideally we could have preinstalled images with various versions of OCaml, opam, and several of the main libraries pre-installed.
</I>&gt;<i> 
</I>&gt;<i> On Sun, Sep 28, 2014 at 4:03 PM, Anil Madhavapeddy &lt;<A HREF="http://lists.ocaml.org/listinfo/opam-devel">anil at recoil.org</A>&gt; wrote:
</I>&gt;<i> On 28 Sep 2014, at 16:38, Thomas Gazagnaire &lt;<A HREF="http://lists.ocaml.org/listinfo/opam-devel">thomas at gazagnaire.org</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; Hi all,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Recently I saw Travis CI to be quite unreliable. It took sometimes hours to start and very often I need to manually re-lauch some tests because of connectivity errors. I don't complain too loudly because it's a free (and very useful) service, but I am wondering if we should not upgrade to something a bit more reliable.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Looking at <A HREF="https://travis-ci.com/plans">https://travis-ci.com/plans</A> they seem to have few paying offer which might be interesting, although I am not sure to understand if this will solve the current issues. And it looks a little bit expensive, but we rely on the free service a lot already.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Also, ideally we should use Travis CI to only coordinate the build on the Rackspace VMs but we don't have that infrastructure in place yet, so  maybe we should switch to a paying service for few months.
</I>&gt;<i> 
</I>&gt;<i> My understanding is that the paid Travis service doesn't entirely help with the existing issues, which are infrastructure overload on their part.  The paid service increases the number of parallel builds, but still (e.g.) enforces the per-job 50 minute limit.
</I>&gt;<i> 
</I>&gt;<i> I'll prioritise the Rackspace VM work to let us unlock more builds.  We're seeing an increasing number of repository failures due to the lack of reverse-transitive checking of builds, and that should be very easy to do in parallel on VM infrastructure.
</I>&gt;<i> 
</I>&gt;<i> (I may be wrong about the latest in paid Travis -- if anyone wants to enquire with them, please do let me know.  I'm happy to pay for the service if it would solve any problems.)
</I>&gt;<i> 
</I>&gt;<i> -anil
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> opam-devel mailing list
</I>&gt;<i> <A HREF="http://lists.ocaml.org/listinfo/opam-devel">opam-devel at lists.ocaml.org</A>
</I>&gt;<i> <A HREF="http://lists.ocaml.org/listinfo/opam-devel">http://lists.ocaml.org/listinfo/opam-devel</A>
</I>&gt;<i> 
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ocaml.org/pipermail/opam-devel/attachments/20140929/077e1bae/attachment.html">http://lists.ocaml.org/pipermail/opam-devel/attachments/20140929/077e1bae/attachment.html</A>&gt;
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000663.html">[opam-devel] Travis CI failures
</A></li>
	<LI>Next message: <A HREF="000666.html">[opam-devel] Travis CI failures
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#664">[ date ]</a>
              <a href="thread.html#664">[ thread ]</a>
              <a href="subject.html#664">[ subject ]</a>
              <a href="author.html#664">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
