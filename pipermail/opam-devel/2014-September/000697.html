<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] ows reports
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20ows%20reports&In-Reply-To=%3CFCDB52EE-36DB-4EAB-90A9-E59AB269AAAD%40recoil.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000696.html">
   <LINK REL="Next"  HREF="000661.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] ows reports</H1>
    <B>Anil Madhavapeddy</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20ows%20reports&In-Reply-To=%3CFCDB52EE-36DB-4EAB-90A9-E59AB269AAAD%40recoil.org%3E"
       TITLE="[opam-devel] ows reports">anil at recoil.org
       </A><BR>
    <I>Tue Sep 30 21:56:00 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="000696.html">[opam-devel] ows reports
</A></li>
        <LI>Next message: <A HREF="000661.html">[opam-devel] Travis CI failures
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#697">[ date ]</a>
              <a href="thread.html#697">[ thread ]</a>
              <a href="subject.html#697">[ subject ]</a>
              <a href="author.html#697">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I did not know that it's just a layer over dose-distcheck, so that sounds like
exactly the right way for us to experiment with it (albeit in a raw form, but
that's fine).

David Sheets points me to the version of Dose packaged up in OPAM as the
right version to use here (it has various patches applied to it for
compatibility with opamLib, I believe).

Thanks for the pointer,
Anil

On 30 Sep 2014, at 21:40, Roberto Di Cosmo &lt;<A HREF="http://lists.ocaml.org/listinfo/opam-devel">roberto at dicosmo.org</A>&gt; wrote:

&gt;<i> Hi Anil,
</I>&gt;<i>   I think I mentioned it earlier, but just in case it ended up in some lost
</I>&gt;<i> closed ticket somewhere on github, let me recall this here: OWS does a nice
</I>&gt;<i> web-like presentation of the results that you can obtain by just running
</I>&gt;<i> *distcheck*, a standard tool from the Dose tool suite, which is distributed
</I>&gt;<i> under a free software licence, and uses the Cudf library, also distributed under
</I>&gt;<i> a free software licence.
</I>&gt;<i> 
</I>&gt;<i> Anybody can do the same locally, it's as simple as
</I>&gt;<i> 
</I>&gt;<i> opam config cudf-universe &gt; <A HREF="cudf:///universe.cudf">cudf:///universe.cudf</A>
</I>&gt;<i> distcheck -f -e <A HREF="cudf:///tmp/universe.cudf">cudf:///tmp/universe.cudf</A> 
</I>&gt;<i> 
</I>&gt;<i> So you can test everything already, right away! This has been possible since
</I>&gt;<i> the very beginning: there is nothing hidden, the manpage for distcheck is quite
</I>&gt;<i> detailed and there is even a full 20 pages primer in the documentation directory.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> All this being said, things are not as well as I would like.
</I>&gt;<i> 
</I>&gt;<i> On one side, the existence of zillions of versions of the same package in
</I>&gt;<i> opam-repository made the original explanation algorithm produce correct, but
</I>&gt;<i> unreadable reports; over the past years different experiments with the
</I>&gt;<i> simplification of the explanations led to different pieces of code trying to do
</I>&gt;<i> differently similar, but not quite identical things in different places,
</I>&gt;<i> including opam and OWS, instead of in the Dose library, where all this really
</I>&gt;<i> belongs.
</I>&gt;<i> 
</I>&gt;<i> Also, distcheck produces by default a report referring to the CUDF file, so it
</I>&gt;<i> outputs a version number that needs to be matched back with the original package
</I>&gt;<i> version; there are incarnations of distcheck for debian, rpm and eclipse that do this
</I>&gt;<i> properly, but not yet for opam, that has not even a formally specified version
</I>&gt;<i> comparison algorithm, as AFAIK it justs currently piggybacks on the dose implementation
</I>&gt;<i> of the debian one, that may change in the future, as it has changed in the past.
</I>&gt;<i> 
</I>&gt;<i> To try and get back in a sane state, there has been work ongoing here over the
</I>&gt;<i> summer to design a general explanation simplification algorithm that covers most
</I>&gt;<i> cases, not just for opam, and various experiments on how to make distcheck
</I>&gt;<i> handle source versions generically, all in the public Dose git repo, but we are
</I>&gt;<i> far from finished yet, as it's pretty tricky work.
</I>&gt;<i> 
</I>&gt;<i> Now I really want to see everything converge back into a single code base again,
</I>&gt;<i> which *is* free software: Dose and Cudf, to which everybody is welcome to
</I>&gt;<i> contribute, even if I know that the learning curve is steep, despite all this
</I>&gt;<i> being OCaml code.
</I>&gt;<i> 
</I>&gt;<i> Hope this clarifies my stance here.
</I>&gt;<i> 
</I>&gt;<i> --
</I>&gt;<i> Roberto
</I>&gt;<i> 
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000696.html">[opam-devel] ows reports
</A></li>
	<LI>Next message: <A HREF="000661.html">[opam-devel] Travis CI failures
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#697">[ date ]</a>
              <a href="thread.html#697">[ thread ]</a>
              <a href="subject.html#697">[ subject ]</a>
              <a href="author.html#697">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
