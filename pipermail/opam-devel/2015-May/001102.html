<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] On the new mixed mode pins
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20On%20the%20new%20mixed%20mode%20pins&In-Reply-To=%3CCAG4opy_hPJ82Urp%3Dh40RQVr52CokgqNBF-ajwFHKE7JzL32qGA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001101.html">
   <LINK REL="Next"  HREF="001103.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] On the new mixed mode pins</H1>
    <B>Thomas Leonard</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20On%20the%20new%20mixed%20mode%20pins&In-Reply-To=%3CCAG4opy_hPJ82Urp%3Dh40RQVr52CokgqNBF-ajwFHKE7JzL32qGA%40mail.gmail.com%3E"
       TITLE="[opam-devel] On the new mixed mode pins">talex5 at gmail.com
       </A><BR>
    <I>Wed May 20 13:40:17 BST 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="001101.html">[opam-devel] On the new mixed mode pins
</A></li>
        <LI>Next message: <A HREF="001103.html">[opam-devel] On the new mixed mode pins
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1102">[ date ]</a>
              <a href="thread.html#1102">[ thread ]</a>
              <a href="subject.html#1102">[ subject ]</a>
              <a href="author.html#1102">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 20 May 2015 at 13:02, Daniel B&#252;nzli &lt;<A HREF="http://lists.ocaml.org/listinfo/opam-devel">daniel.buenzli at erratique.ch</A>&gt; wrote:
&gt;<i> Sending Louis' answer to the list about the reinstall problem (I made an unwanted off-list glitch).
</I>&gt;<i>
</I>&gt;<i> Message transmis :
</I>&gt;&gt;<i> De : Louis Gesbert &lt;<A HREF="http://lists.ocaml.org/listinfo/opam-devel">louis.gesbert at ocamlpro.com</A>&gt;
</I>&gt;&gt;<i> &#192; : Daniel B&#252;nzli &lt;<A HREF="http://lists.ocaml.org/listinfo/opam-devel">daniel.buenzli at erratique.ch</A>&gt;
</I>&gt;&gt;<i> Date : mercredi, 20 mai 2015 13:53:58
</I>&gt;&gt;<i> Sujet : Re: [opam-devel] On the new mixed mode pins
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &gt; - Daniel B&#252;nzli, 20/05/2015 12:42 -
</I>&gt;&gt;<i> &gt; Le mercredi, 20 mai 2015 &#224; 04:18, Louis Gesbert a &#233;crit :
</I>&gt;&gt;<i> &gt; &gt; Indeed, not how it worked, but that sounds fair enough. Shouldn't be too disruptive to current user if we print clearly &quot;OPAM will track the xxx branch of ...&quot; in the pinning message.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; I also think that the `pin list` dashboard should be more explicit, # at the end of the repo url are hard to parse. I would rather like to have that printed as
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; $PKG git $BRANCH $REPO (instead of $PKG git $REPO#$BRANCH).
</I>&gt;&gt;<i> &gt; &gt; Or more importantly on an explicit install/reinstall/upgrade (which triggers update automatically).
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Aaah I think I now understand, this idea of forgetting to commit ThomasL was mentioning. If you `reinstall` then you may effectively not *see* that you forgot to commit since this *forces* the installation regardless. Are we missing a command that says &quot;reinstall if there is a new commit&quot; or is this simply `update -u PIN` ?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Yes, `opam upgrade` does it. Also, due to some magic, `opam upgrade PIN` is sufficient, as it will first force an update of PIN. It's convenient, and harmless enough since it would generally make little sense otherwise.
</I>
Ah, this is useful! I had indeed been using &quot;reinstall&quot; to test out
changes. I'll try using &quot;upgrade&quot; now, since that also covers the case
where you forgot to pin the directory at all (or unpinned it, or
pinned it on a different switch).

&gt;&gt;<i> &gt; &gt; True enough. Well none of these changes seem too disruptive to not add in 1.3.
</I>&gt;&gt;<i> &gt; I have opened an issue for this here <A HREF="https://github.com/ocaml/opam/issues/2156">https://github.com/ocaml/opam/issues/2156</A>
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; If you want me to make the issue more precise please tell. Also if you need help with the documentation bits update once the changes have been made (man page, general opam documentation) I can give a hand.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks! Your help in such matters is valuable.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> opam-devel mailing list
</I>&gt;<i> <A HREF="http://lists.ocaml.org/listinfo/opam-devel">opam-devel at lists.ocaml.org</A>
</I>&gt;<i> <A HREF="http://lists.ocaml.org/listinfo/opam-devel">http://lists.ocaml.org/listinfo/opam-devel</A>
</I>


-- 
Dr Thomas Leonard        <A HREF="http://roscidus.com/blog/">http://roscidus.com/blog/</A>
GPG: DA98 25AE CAD0 8975 7CDA  BD8E 0713 3F96 CA74 D8BA
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001101.html">[opam-devel] On the new mixed mode pins
</A></li>
	<LI>Next message: <A HREF="001103.html">[opam-devel] On the new mixed mode pins
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1102">[ date ]</a>
              <a href="thread.html#1102">[ thread ]</a>
              <a href="subject.html#1102">[ subject ]</a>
              <a href="author.html#1102">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
