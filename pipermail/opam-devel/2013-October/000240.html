<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] opam binary snapshot
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20opam%20binary%20snapshot&In-Reply-To=%3C63CD3615-20DC-4109-BBFD-4CBE2259C4AD%40recoil.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000239.html">
   <LINK REL="Next"  HREF="000242.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] opam binary snapshot</H1>
    <B>Anil Madhavapeddy</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20opam%20binary%20snapshot&In-Reply-To=%3C63CD3615-20DC-4109-BBFD-4CBE2259C4AD%40recoil.org%3E"
       TITLE="[opam-devel] opam binary snapshot">anil at recoil.org
       </A><BR>
    <I>Thu Oct 31 12:40:42 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000239.html">[opam-devel] Official OPAM source repository moved
</A></li>
        <LI>Next message: <A HREF="000242.html">[opam-devel] opam binary snapshot
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#240">[ date ]</a>
              <a href="thread.html#240">[ thread ]</a>
              <a href="subject.html#240">[ subject ]</a>
              <a href="author.html#240">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 15 Oct 2013, at 00:36, Mika Illouz &lt;<A HREF="http://lists.ocaml.org/listinfo/opam-devel">mika at illouz.net</A>&gt; wrote:

&gt;<i> Our current system involves packaging up OCaml stuff as
</I>&gt;<i> debian packages, and distributing them to ubuntu clients in binary
</I>&gt;<i> form via a internal debian repo.  This gets the ocaml dependencies
</I>&gt;<i> necessary to build stuff, even to those don't develop in ocaml, with
</I>&gt;<i> minimal cognitive overload.  
</I>&gt;<i> 
</I>&gt;<i> Some of my colleagues think that distributing ocaml dependencies in
</I>&gt;<i> binary form is ultimately more stable.  I am wondering whether I can
</I>&gt;<i> satisfy them, with a solution that somehow exports as binary snapshot
</I>&gt;<i> of everything under ~/.opam/4.01/  .  One idea is to define a debian
</I>&gt;<i> package for a blessed ~/.opam/4.01/ , and export it via our internal
</I>&gt;<i> debian repo.  Another idea is just export it to clients via rsync, or
</I>&gt;<i> some other shared global storage. 
</I>
[Ccing opam-devel and also Citrix/Rackspace folk, as this came up
last week in XenSummit).

In general, I'd like to figure out how to use OPAM to build RPMs and
Debs just as easily as it can currently do ocamlfind installations.
In the short-term, I suspect that if you use a system compiler and
have enough external dependency information in the OPAM repository,
we could get away with quite a lot by tarring up the .opam directory.

This has also been a frequent request for teaching purposes, so I'd
like to experiment with version controlling .opam -- this would just
require hooks when adding/creating files in the subdirectory hierarchy,
although it would probably be too slow to shell out every time
(Thomas' cagit OCaml library may come in useful here).

Dave/Jon/John, any thoughts on this?

-anil
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000239.html">[opam-devel] Official OPAM source repository moved
</A></li>
	<LI>Next message: <A HREF="000242.html">[opam-devel] opam binary snapshot
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#240">[ date ]</a>
              <a href="thread.html#240">[ thread ]</a>
              <a href="subject.html#240">[ subject ]</a>
              <a href="author.html#240">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
