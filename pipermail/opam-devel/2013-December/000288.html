<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] opam repository problems
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20opam%20repository%20problems&In-Reply-To=%3C0315AFDF-1C7D-4A20-AF81-A21E1408199B%40recoil.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000293.html">
   <LINK REL="Next"  HREF="000290.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] opam repository problems</H1>
    <B>Anil Madhavapeddy</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20opam%20repository%20problems&In-Reply-To=%3C0315AFDF-1C7D-4A20-AF81-A21E1408199B%40recoil.org%3E"
       TITLE="[opam-devel] opam repository problems">anil at recoil.org
       </A><BR>
    <I>Sun Dec  8 14:02:11 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000293.html">[opam-devel] redirect in 1.1 opam-repository should be removd?
</A></li>
        <LI>Next message: <A HREF="000290.html">[opam-devel] opam repository problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#288">[ date ]</a>
              <a href="thread.html#288">[ thread ]</a>
              <a href="subject.html#288">[ subject ]</a>
              <a href="author.html#288">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 8 Dec 2013, at 13:31, Richard Mortier &lt;<A HREF="http://lists.ocaml.org/listinfo/opam-devel">Richard.Mortier at nottingham.ac.uk</A>&gt; wrote:

&gt;<i> is anyone else noticing anything?  from what i can currently observe, 
</I>&gt;<i> 
</I>&gt;<i> + opam.ocamlpro.org is quite out of date (seems to still give me omd.0.6.0 rather than omd.0.8.2 for example)
</I>&gt;<i> 
</I>&gt;<i> + opam.ocaml.org is fine for opam.1.1.0 but has a broken repository for opam.1.0.0
</I>
[CCing opam-devel]

OPAM 1.1 changed the repository format sufficiently that an OPAM 1.0 client can no longer read a 1.1-format repository.

Therefore, the transition to OPAM 1.1 also involved setting up a new 1.1-only repository, which we put at <A HREF="https://opam.ocaml.org.">https://opam.ocaml.org.</A>

In order to migrate people from the old repo to the new one, we also added a 'repo' file that can issue a redirect when a 1.1 client connects to the old 1.0 repositories.

So the summary of all this is that you should be using OPAM 1.1, and only with opam.ocaml.org.  OPAM 1.0 is now deprecated.  I don't think we've done a particularly good job of communicating this on the OPAM website though, so I'd quite like to clarify that.  In particular, if someone was using opam.ocamlpro.com via a non-HTTP remote (e.g. git), then the repo redirect will not kick in.

Which packages are you blocked on atm?  Sylvain just fixed forge.ocamlcore.org, which also went down last night and broke some packages.

cheers,
Anil


</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000293.html">[opam-devel] redirect in 1.1 opam-repository should be removd?
</A></li>
	<LI>Next message: <A HREF="000290.html">[opam-devel] opam repository problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#288">[ date ]</a>
              <a href="thread.html#288">[ thread ]</a>
              <a href="subject.html#288">[ subject ]</a>
              <a href="author.html#288">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
