<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] re. local roots/switches: Documentation for the &quot;nix-style&quot; new-build approach in Cabal
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20re.%20local%20roots/switches%3A%20Documentation%20for%20the%0A%20%22nix-style%22%20new-build%20approach%20in%20Cabal&In-Reply-To=%3CCAPFanBGN4_2nCuOALM3OgG1mpzu9258zFkR8zCctyT5OrBSUwA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001488.html">
   <LINK REL="Next"  HREF="001490.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] re. local roots/switches: Documentation for the &quot;nix-style&quot; new-build approach in Cabal</H1>
    <B>Gabriel Scherer</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20re.%20local%20roots/switches%3A%20Documentation%20for%20the%0A%20%22nix-style%22%20new-build%20approach%20in%20Cabal&In-Reply-To=%3CCAPFanBGN4_2nCuOALM3OgG1mpzu9258zFkR8zCctyT5OrBSUwA%40mail.gmail.com%3E"
       TITLE="[opam-devel] re. local roots/switches: Documentation for the &quot;nix-style&quot; new-build approach in Cabal">gabriel.scherer at gmail.com
       </A><BR>
    <I>Fri Sep  2 13:17:37 BST 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="001488.html">[opam-devel] re. local roots/switches: Documentation for the &quot;nix-style&quot; new-build approach in Cabal
</A></li>
        <LI>Next message: <A HREF="001490.html">[opam-devel] re. local roots/switches: Documentation for the &quot;nix-style&quot; new-build approach in Cabal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1489">[ date ]</a>
              <a href="thread.html#1489">[ thread ]</a>
              <a href="subject.html#1489">[ subject ]</a>
              <a href="author.html#1489">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>One aspect of the tool exhibited in this document that I found
interesting is that the design and user experience is not concentrated
on a &quot;local root to develop a new package&quot; workflow, but &quot;local root
to develop a set of related packages together&quot; workflow :
multi-package. There is a conceptual difference between the &quot;local
packages&quot; in this set and the &quot;external packages&quot; that are expected to
remain stable during development (in general).

To my knowledge there is no such established multi-package concept in
related OCaml tooling these days, and there are cases where we don't
do very well on this workflow. For example, Thomas Gazagnaire and
J&#233;r&#233;mie Dimino have ocamlbuild plugins to rebuild the project when
ocamlfind dependencies changed that are very important in this
workflow, but currently not part of the default tool (
<A HREF="https://github.com/ocaml/ocamlbuild/issues/91">https://github.com/ocaml/ocamlbuild/issues/91</A> ). It mostly affect
aspects of the user experience that are outside of opam's domain, but
I think it may still be a relevant distinction for opam.

On Fri, Sep 2, 2016 at 2:08 PM, Gabriel Scherer
&lt;<A HREF="http://lists.ocaml.org/listinfo/opam-devel">gabriel.scherer at gmail.com</A>&gt; wrote:
&gt;<i> Hi opam-devel,
</I>&gt;<i>
</I>&gt;<i> You may be interested in this document being elaborated by Edward Yang
</I>&gt;<i> as part of his work &quot;cabal new-build&quot; that is described as a
</I>&gt;<i> &quot;nix-style local build&quot; for cabal (a core Haskell tool that is on the
</I>&gt;<i> crossroad between opam and oasis and ocamlbuild, and as you could
</I>&gt;<i> guess has unsatisfied users on all three of these fronts). It could be
</I>&gt;<i> interesting and inspirational with respect to the discussion on
</I>&gt;<i> workflows for local roots or local switches in opam.
</I>&gt;<i>
</I>&gt;<i>   Cabal User Guide: Nix-style local builds
</I>&gt;<i>   <A HREF="http://ezyang.com/nix-local-build.html">http://ezyang.com/nix-local-build.html</A>
</I>&gt;<i>
</I>&gt;<i> (Other tools of interest from other communities would be Haskell's
</I>&gt;<i> &quot;stack&quot; and Rust's &quot;cargo&quot;, but they differ and are interesting in
</I>&gt;<i> many broader, less well-defined aspects of the user experience, and I
</I>&gt;<i> have no personal experience with them.)
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001488.html">[opam-devel] re. local roots/switches: Documentation for the &quot;nix-style&quot; new-build approach in Cabal
</A></li>
	<LI>Next message: <A HREF="001490.html">[opam-devel] re. local roots/switches: Documentation for the &quot;nix-style&quot; new-build approach in Cabal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1489">[ date ]</a>
              <a href="thread.html#1489">[ thread ]</a>
              <a href="subject.html#1489">[ subject ]</a>
              <a href="author.html#1489">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
