<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] Package signing (was Re:  OPAM 1.3 roadmap)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20Package%20signing%20%28was%20Re%3A%20%20OPAM%201.3%20roadmap%29&In-Reply-To=%3C5703A309-5079-4046-A36E-4FDD3CB1464F%40recoil.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000995.html">
   <LINK REL="Next"  HREF="001002.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] Package signing (was Re:  OPAM 1.3 roadmap)</H1>
    <B>Anil Madhavapeddy</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20Package%20signing%20%28was%20Re%3A%20%20OPAM%201.3%20roadmap%29&In-Reply-To=%3C5703A309-5079-4046-A36E-4FDD3CB1464F%40recoil.org%3E"
       TITLE="[opam-devel] Package signing (was Re:  OPAM 1.3 roadmap)">anil at recoil.org
       </A><BR>
    <I>Wed Mar 11 11:57:51 GMT 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000995.html">[opam-devel] Package signing (was Re:  OPAM 1.3 roadmap)
</A></li>
        <LI>Next message: <A HREF="001002.html">[opam-devel] OPAM 1.2.1 / 1.3.0 status update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#997">[ date ]</a>
              <a href="thread.html#997">[ thread ]</a>
              <a href="subject.html#997">[ subject ]</a>
              <a href="author.html#997">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11 Mar 2015, at 02:39, Louis Gesbert &lt;<A HREF="http://lists.ocaml.org/listinfo/opam-devel">louis.gesbert at ocamlpro.com</A>&gt; wrote:
&gt;<i> 
</I>&gt;<i> * Allowing non-maintainer updates: I have been wondering about this as well. It's not easy, and modification of dependency constraints can be an attack vector already (adding a dep to a compromised package, or even an unsafe older package version). Sometimes, there is also a trivial packaging bug, and the repository maintainers should be able to fix it if the package maintainer is not responsive enough. We could try and detect 'innocuous' changes, but that sounds like something that can get too complex very quickly and will open more weaknesses. No better solution than letting the modified package get signed by a general repository maintainer, maybe with a time window for the rightful owner to sign it ? I'll think some more about it.
</I>
I do think it's important that we retain the ability to do packaging updates without the maintainer signing it.   Most obviously, this would let the tools do mechanised rewrites, as we did for several migrations in the past.

Any such updates would have to be signed with the correct maintainer key, of course.

&gt;<i> 
</I>&gt;<i> * opam-publish: I'd like to see it get more widely used. Maybe I should make it more clear that the first step (`opam publish prepare`) only gathers metadata locally and is very generic, while the second (`opam publish submit`) is github specific and bound to opam-repository by default. Anyway, the signing process will be open and should be reproducible by hand, with minimum hassle. But having opam-publish generate, and manage keys would be a definite gain in usability IMO.
</I>&gt;<i> 
</I>
Agreed.  The only reason I'm not using opam-publish right now is that it conflicts with ctypes (due to Dose).  That's fixed in the upcoming Ctypes 0.4...


&gt;<i> * We should require maintainers to sign their packages -&gt; the clients shouldn't accept unsigned packages by default, but there could be &quot;unclaimed&quot; (repository maintainer handled) signatures on the repo to begin with.
</I>
Right -- that would be all of them to start with, and the moral equivalent of &quot;<A HREF="http://lists.ocaml.org/listinfo/opam-devel">contact at ocamlpro.com</A>&quot; :-)

&gt;<i> 
</I>&gt;<i> * dependencies to command-line utilities: OPAM's parallel command engine relies on parallelism at the sub-process level (we don't want to embed lwt into OPAM); but having our own download handling would certainly help with several issues, also including portability.
</I>
I have a nice little way to do mirroring of distfiles btw.  An `opam-fetch-url` that checks to see if it has a copy of the distfile URL+checksum in opam-repository/distfiles and just returns that if so, rather than going to the Internet.  It just works with OPAMFETCH in OPAM 1.2.1 without requiring any further modifications.  Yay!

-anil

</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000995.html">[opam-devel] Package signing (was Re:  OPAM 1.3 roadmap)
</A></li>
	<LI>Next message: <A HREF="001002.html">[opam-devel] OPAM 1.2.1 / 1.3.0 status update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#997">[ date ]</a>
              <a href="thread.html#997">[ thread ]</a>
              <a href="subject.html#997">[ subject ]</a>
              <a href="author.html#997">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
