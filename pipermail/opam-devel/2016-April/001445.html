<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] [RFC] OPAM files as *the* OCaml package metadata format
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20%5BRFC%5D%20OPAM%20files%20as%20%2Athe%2A%20OCaml%20package%20metadata%0A%20format&In-Reply-To=%3C5E26E5954DC648B195C958E6800E0011%40erratique.ch%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001444.html">
   <LINK REL="Next"  HREF="001447.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] [RFC] OPAM files as *the* OCaml package metadata format</H1>
    <B>Daniel B&#252;nzli</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20%5BRFC%5D%20OPAM%20files%20as%20%2Athe%2A%20OCaml%20package%20metadata%0A%20format&In-Reply-To=%3C5E26E5954DC648B195C958E6800E0011%40erratique.ch%3E"
       TITLE="[opam-devel] [RFC] OPAM files as *the* OCaml package metadata format">daniel.buenzli at erratique.ch
       </A><BR>
    <I>Fri Apr 15 12:49:34 BST 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="001444.html">[opam-devel] [RFC] OPAM files as *the* OCaml package metadata format
</A></li>
        <LI>Next message: <A HREF="001447.html">[opam-devel] [RFC] OPAM files as *the* OCaml package metadata	format
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1445">[ date ]</a>
              <a href="thread.html#1445">[ thread ]</a>
              <a href="subject.html#1445">[ subject ]</a>
              <a href="author.html#1445">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Le vendredi, 15 avril 2016 &#224; 04:28, Louis Gesbert a &#233;crit :
&gt;<i> As for the final version, it's hard to predict, but I'd say it should be ready by the summer.
</I>Mmmh. I want to move on quicker I think. I'd rather improve the topkg tool later (which is different from topkg the library). Now that I thought a little bit more about it, the x-fields should in fact have little impact on the API except changing some default values. I still need to know the name of the standard file (change log, readme, etc.) in the description without using opam or opam-lib so that I can automatically mention them in the OPAM install file.
  

&gt;<i> The main problem may actually be that there is no separate opam package ?
</I>
I guess so.
  
&gt;<i> I see. There is not much required from opam then,  
</I>
Only a var-lib section in OPAM install files if we take Michael's suggestion. I opened  

<A HREF="https://github.com/ocaml/opam/issues/2517">https://github.com/ocaml/opam/issues/2517</A>
  
&gt;<i> maybe just automatic  
</I>&gt;<i> installation (or linking) of the opam files to a standard location.
</I>
No. It should be the package's duty to do so, so that the install procedure is uniform whether you operate in an opam managed context or not. Otherwise we'll have packages that work in a context and not in the other and resulting annoying package fixing noise.

&gt;<i> That might be more explicit indeed, but makes descr-file and opam-included
</I>&gt;<i> descr further apart (both are still supported at the moment, with a logged  
</I>&gt;<i> warning if both are present).
</I>
I'd still argue for it, simply warn by consulting two fields... It's a &quot;natural&quot; value you often want to access, for example to generate package listings. The less data massaging the easier, e.g. `opam query -f synopsis` vs `opam query -f descr | head -n 1` and you are now windows incompatible.
  
&gt;<i>  
</I>&gt;<i> Sorry, I was speaking about the `x-*` fields in the package definition
</I>&gt;<i> (&quot;opam&quot;) files.
</I>
Ah, I don't think it should be the business of the OCaml OPAM repository maintainers to have a say about what these fields hold as long as they do not influence OPAM itself or are directly related to the resulting experience they expect from the repository (e.g. if some of the fields are used by build system link helpers).  

Best,  

Daniel



</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001444.html">[opam-devel] [RFC] OPAM files as *the* OCaml package metadata format
</A></li>
	<LI>Next message: <A HREF="001447.html">[opam-devel] [RFC] OPAM files as *the* OCaml package metadata	format
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1445">[ date ]</a>
              <a href="thread.html#1445">[ thread ]</a>
              <a href="subject.html#1445">[ subject ]</a>
              <a href="author.html#1445">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
