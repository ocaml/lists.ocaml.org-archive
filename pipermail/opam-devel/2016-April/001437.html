<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] [RFC] OPAM files as *the* OCaml package metadata	format
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20%5BRFC%5D%20OPAM%20files%20as%20%2Athe%2A%20OCaml%20package%20metadata%0A%09format&In-Reply-To=%3CD0B60082-1051-458B-8C2C-01E4C3223CD2%40recoil.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001436.html">
   <LINK REL="Next"  HREF="001439.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] [RFC] OPAM files as *the* OCaml package metadata	format</H1>
    <B>Anil Madhavapeddy</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20%5BRFC%5D%20OPAM%20files%20as%20%2Athe%2A%20OCaml%20package%20metadata%0A%09format&In-Reply-To=%3CD0B60082-1051-458B-8C2C-01E4C3223CD2%40recoil.org%3E"
       TITLE="[opam-devel] [RFC] OPAM files as *the* OCaml package metadata	format">anil at recoil.org
       </A><BR>
    <I>Wed Apr 13 15:31:42 BST 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="001436.html">[opam-devel] [RFC] OPAM files as *the* OCaml package metadata format
</A></li>
        <LI>Next message: <A HREF="001439.html">[opam-devel] [RFC] OPAM files as *the* OCaml package metadata format
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1437">[ date ]</a>
              <a href="thread.html#1437">[ thread ]</a>
              <a href="subject.html#1437">[ subject ]</a>
              <a href="author.html#1437">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 13 Apr 2016, at 15:27, Daniel B&#252;nzli &lt;<A HREF="http://lists.ocaml.org/listinfo/opam-devel">daniel.buenzli at erratique.ch</A>&gt; wrote:
&gt;<i> 
</I>&gt;<i> Hello,   
</I>&gt;<i> 
</I>&gt;<i> A lot of the things I envision for the gradual simplification of the OCaml build and package eco-system involves using OPAM files as the pivotal package metadata file format (Louis, I really need these x- fields for playing with ideas&#8230;)
</I>&gt;<i> 
</I>&gt;<i> Since OCaml packages may also get used outside OPAM itself (e.g. in an os package manager), this means that I need to install opam files so that they can be made available to hypothetical tools that consume them, independently from an OPAM install. The upcoming topkg packager overhaul will do this automatically, unless prevented.  
</I>&gt;<i> 
</I>&gt;<i> However the following questions remain:
</I>&gt;<i> 
</I>&gt;<i> 1. Where should those be installed in `lib:` (like METAs) or `etc:` (seems more logical) or &#8230; ?  
</I>&gt;<i> 2. Has this any chance to confuse OPAM itself  ? My guess is no, it treats its install directories elements as sequence of bytes.  
</I>
Interesting idea. Do you have any specific consumers in mind for these files?  For example, HomeBrew and MacPorts may both want to run post-upgrade hooks to recompile OPAM packages for depexts that got upgraded.

Comments:
-  The biggest problem I can see is that an individual OPAM file isn't much use without the surrounding repository in which it is evaluated. Where does that sit?
- I think it would be good to encourage the use of an `opam/` directory so that `descr` files can also be tracked with the development version.  We could even assemble useful information in there such as example code fragments that would appear in the OPAM homepage for that package when published. 

-anil
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001436.html">[opam-devel] [RFC] OPAM files as *the* OCaml package metadata format
</A></li>
	<LI>Next message: <A HREF="001439.html">[opam-devel] [RFC] OPAM files as *the* OCaml package metadata format
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1437">[ date ]</a>
              <a href="thread.html#1437">[ thread ]</a>
              <a href="subject.html#1437">[ subject ]</a>
              <a href="author.html#1437">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
