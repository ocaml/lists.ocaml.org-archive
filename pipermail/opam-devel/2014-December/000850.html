<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] OPAM Roadmap -- what next ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20%3D%3Futf-8%3Fq%3FOPAM_Roadmap_--_what_next_%3D3F%3F%3D&In-Reply-To=%3C7820742feb9a45c1d141ca2125ed4508%40whitequark.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000849.html">
   <LINK REL="Next"  HREF="000851.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] OPAM Roadmap -- what next ?</H1>
    <B>Peter Zotov</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20%3D%3Futf-8%3Fq%3FOPAM_Roadmap_--_what_next_%3D3F%3F%3D&In-Reply-To=%3C7820742feb9a45c1d141ca2125ed4508%40whitequark.org%3E"
       TITLE="[opam-devel] OPAM Roadmap -- what next ?">whitequark at whitequark.org
       </A><BR>
    <I>Sun Dec 21 11:39:00 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="000849.html">[opam-devel] OPAM Roadmap -- what next ?
</A></li>
        <LI>Next message: <A HREF="000851.html">[opam-devel] OPAM Roadmap -- what next ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#850">[ date ]</a>
              <a href="thread.html#850">[ thread ]</a>
              <a href="subject.html#850">[ subject ]</a>
              <a href="author.html#850">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 2014-12-21 14:28, Thomas Gazagnaire wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;&gt;<i> - Allow **direct use of more solvers** or solver servers.
</I>&gt;<i> 
</I>&gt;<i> If we go this route I really would like to have a proper `opam solver`
</I>&gt;<i> command (similar to `opam repo` or `opam pin`).
</I>&gt;<i> 
</I>&gt;&gt;<i> - **Support cross-compilation**
</I>&gt;&gt;<i> This is quite an open issue at the moment.
</I>&gt;<i> 
</I>&gt;<i> This needs support on the build system side, so I'm not sure it's a
</I>&gt;<i> high priority for now on (although it would be *very* nice to have at
</I>&gt;<i> one point).
</I>&gt;<i> 
</I>&gt;<i> Something which would be a bit simpler but very still very useful is
</I>&gt;<i> to share things between switches: ie. you want to use install things
</I>&gt;<i> in one switch while using things installed in other ones. Could be
</I>&gt;<i> used to cross-compile (host / target) but also to have a base ocaml
</I>&gt;<i> installation with &quot;layers&quot; of different packages (so need to recompile
</I>&gt;<i> the compiler every-time). Don't have a clear spec of that yet, though.
</I>
I completely agree; this is how opam-android essentially works now.
<A HREF="https://github.com/whitequark/opam-android/">https://github.com/whitequark/opam-android/</A>

It still needs per-package tweaks, so I'm not sure it could be 
automated.

&gt;<i> 
</I>&gt;<i> An other idea related to that: better support for global installation
</I>&gt;<i> where it would be cool to have some (OCaml) packages installed on the
</I>&gt;<i> system which are &quot;external&quot; i.e. not managed by opam (so a fixed
</I>&gt;<i> package version which is not removable). Think mixing both `apt-get
</I>&gt;<i> install` and `opam install foo`. I guess that's also related to the
</I>&gt;<i> 'compiler-as-a-package&quot; stuff ...
</I>
That would only work for binaries. I'm not sure how useful would it be.

&gt;<i> Having a way to have
</I>&gt;<i> multiple versions of the same library installed in the same switch
</I>&gt;<i> could be very cool as well, although again it requires support in
</I>&gt;<i> ocamlfind/build systems and it will break quite a few assumptions in
</I>&gt;<i> opam so it won't be very easy to add properly.
</I>
This is an extremely bad idea. It has been tried in RubyGems;
the conclusion of both users and maintainers is that it should have
never been added. The main problem is what happens when there are
many disjoint ranges of possible versions for some package:
the behavior gets very unexpected.

-- 
Peter Zotov
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000849.html">[opam-devel] OPAM Roadmap -- what next ?
</A></li>
	<LI>Next message: <A HREF="000851.html">[opam-devel] OPAM Roadmap -- what next ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#850">[ date ]</a>
              <a href="thread.html#850">[ thread ]</a>
              <a href="subject.html#850">[ subject ]</a>
              <a href="author.html#850">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
