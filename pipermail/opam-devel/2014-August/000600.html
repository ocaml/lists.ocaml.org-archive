<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] We have binary OPAM RPMs!
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20We%20have%20binary%20OPAM%20RPMs%21&In-Reply-To=%3CC53B2B96-B735-4EB4-8524-2CEAADCC3619%40recoil.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000592.html">
   <LINK REL="Next"  HREF="000601.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] We have binary OPAM RPMs!</H1>
    <B>Anil Madhavapeddy</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20We%20have%20binary%20OPAM%20RPMs%21&In-Reply-To=%3CC53B2B96-B735-4EB4-8524-2CEAADCC3619%40recoil.org%3E"
       TITLE="[opam-devel] We have binary OPAM RPMs!">anil at recoil.org
       </A><BR>
    <I>Thu Aug 14 17:27:36 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="000592.html">[opam-devel] We have binary OPAM RPMs!
</A></li>
        <LI>Next message: <A HREF="000601.html">[opam-devel] We have binary OPAM RPMs!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#600">[ date ]</a>
              <a href="thread.html#600">[ thread ]</a>
              <a href="subject.html#600">[ subject ]</a>
              <a href="author.html#600">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've unfortunately had to give up on getting Aspcud compiling, as the dependency chain got to 10 custom spec files for CentOS 6 and the time ran out :-(

The issue is that several of the transitive dependencies (tbb-devel, bison) are relatively new bits of software that aren't widely ported yet.

It's possibly time to start thinking about an OCaml implementation of Aspcud once the OPAM 1.2 release is done.  It would massively reduce the porting burden in the future.

-anil

On 13 Aug 2014, at 16:41, Louis Gesbert &lt;<A HREF="http://lists.ocaml.org/listinfo/opam-devel">louis.gesbert at ocamlpro.com</A>&gt; wrote:

&gt;<i> That's great ! Thanks for diving into this.
</I>&gt;<i> Seems the manpages got missing though (at least in the debian package). Other than that lintian only complains about hardening_no_relro which, IIRC, is normal with OCaml.
</I>&gt;<i>  
</I>&gt;<i> Le mercredi 13 ao&#251;t 2014, 13:37:54 Thomas Gazagnaire a &#233;crit :
</I>&gt;<i> &gt; Yay! That's an achievement!
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; What's the story with aspcud?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Thomas
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; On 13 Aug 2014, at 00:54, Anil Madhavapeddy &lt;<A HREF="http://lists.ocaml.org/listinfo/opam-devel">anil at recoil.org</A>&gt; wrote:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &gt; I also got some more distributions working (Fedora), as well as Debian Wheezy.  Any tests appreciated before we include them in the 1.2beta announcement...
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; <A HREF="http://software.opensuse.org/download.html?project=home%3Aocaml&amp;package=opam">http://software.opensuse.org/download.html?project=home%3Aocaml&amp;package=opam</A>
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; -anil
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; On 11 Aug 2014, at 09:49, Louis Gesbert &lt;<A HREF="http://lists.ocaml.org/listinfo/opam-devel">gesbert at antislash.info</A>&gt; wrote:
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt;&gt; That's great news, thanks !
</I>&gt;<i> &gt; &gt;&gt;  
</I>&gt;<i> &gt; &gt;&gt; Le dimanche 10 ao&#251;t 2014, 20:33:23 Anil Madhavapeddy a &#233;crit :
</I>&gt;<i> &gt; &gt;&gt; &gt; Thanks to help from Euan Harris and Jon Ludlam at the recent OCaml Compiler Hackathon at Citrix, I've managed to coax the OpenSUSE Build Service into generating binary RPMs for Fedora 19/20, CentOS 6/7 and RHEL7!
</I>&gt;<i> &gt; &gt;&gt; &gt; 
</I>&gt;<i> &gt; &gt;&gt; &gt; WWW: <A HREF="https://build.opensuse.org/package/show/home:ocaml/opam#">https://build.opensuse.org/package/show/home:ocaml/opam#</A>
</I>&gt;<i> &gt; &gt;&gt; &gt; Download: <A HREF="http://software.opensuse.org/download.html?project=home%3Aocaml&amp;package=opam">http://software.opensuse.org/download.html?project=home%3Aocaml&amp;package=opam</A>
</I>&gt;<i> &gt; &gt;&gt; &gt; 
</I>&gt;<i> &gt; &gt;&gt; &gt; I've only tried this on a CentOS 6 VM so far, and it's working great.  Since the version of OCaml packaged there is 3.11.2, our RPMs bootstrap themselves by using a local copy of OCaml to build OPAM.  The resulting yum installation is working successfully via &quot;opam init --comp=4.01.0&quot; on CentOS 6.
</I>&gt;<i> &gt; &gt;&gt; &gt; 
</I>&gt;<i> &gt; &gt;&gt; &gt; Note that only OPAM 1.2.0beta3 is packaged up like this.  I haven't gone back to the 1.1.x series as I don't think it's worth the maintenance burden at this stage.
</I>&gt;<i> &gt; &gt;&gt; &gt; 
</I>&gt;<i> &gt; &gt;&gt; &gt; For the curious, here's the OpenSUSE Build Service instructions that combine what Jon/I have been doing:
</I>&gt;<i> &gt; &gt;&gt; &gt; <A HREF="https://gist.github.com/avsm/09fd0f3944fecd8a8ee3">https://gist.github.com/avsm/09fd0f3944fecd8a8ee3</A>
</I>&gt;<i> &gt; &gt;&gt; &gt; In theory, the build service should do non-x86 builds (ARM, PPC, etc), but in practise the infrastructure seems completely broken and fail in interesting ways.  Has anyone ever successfully had this working?
</I>&gt;<i> &gt; &gt;&gt; &gt; 
</I>&gt;<i> &gt; &gt;&gt; &gt; CCing xen-api as well, since this is probably of use to the xapi packaging efforts on CentOS.
</I>&gt;<i> &gt; &gt;&gt; &gt; 
</I>&gt;<i> &gt; &gt;&gt; &gt; cheers,
</I>&gt;<i> &gt; &gt;&gt; &gt; Anil
</I>&gt;<i> &gt; &gt;&gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt;&gt; &gt; opam-devel mailing list
</I>&gt;<i> &gt; &gt;&gt; &gt; <A HREF="http://lists.ocaml.org/listinfo/opam-devel">opam-devel at lists.ocaml.org</A>
</I>&gt;<i> &gt; &gt;&gt; &gt; <A HREF="http://lists.ocaml.org/listinfo/opam-devel">http://lists.ocaml.org/listinfo/opam-devel</A>
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; opam-devel mailing list
</I>&gt;<i> &gt; &gt; <A HREF="http://lists.ocaml.org/listinfo/opam-devel">opam-devel at lists.ocaml.org</A>
</I>&gt;<i> &gt; &gt; <A HREF="http://lists.ocaml.org/listinfo/opam-devel">http://lists.ocaml.org/listinfo/opam-devel</A>
</I>&gt;<i> &gt; 
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000592.html">[opam-devel] We have binary OPAM RPMs!
</A></li>
	<LI>Next message: <A HREF="000601.html">[opam-devel] We have binary OPAM RPMs!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#600">[ date ]</a>
              <a href="thread.html#600">[ thread ]</a>
              <a href="subject.html#600">[ subject ]</a>
              <a href="author.html#600">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
