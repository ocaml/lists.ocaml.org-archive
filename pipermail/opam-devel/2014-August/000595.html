<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] Error installing ocamlfind using Ubuntu's OPAM	package
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20Error%20installing%20ocamlfind%20using%20Ubuntu%27s%20OPAM%0A%09package&In-Reply-To=%3CCACxdjHz0CbMChnqYUvKYyT%3DEFDp18dVje2hCkktxWysFT%2BJ5SA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000594.html">
   <LINK REL="Next"  HREF="000596.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] Error installing ocamlfind using Ubuntu's OPAM	package</H1>
    <B>Jon Loldrup</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20Error%20installing%20ocamlfind%20using%20Ubuntu%27s%20OPAM%0A%09package&In-Reply-To=%3CCACxdjHz0CbMChnqYUvKYyT%3DEFDp18dVje2hCkktxWysFT%2BJ5SA%40mail.gmail.com%3E"
       TITLE="[opam-devel] Error installing ocamlfind using Ubuntu's OPAM	package">loldrup at gmail.com
       </A><BR>
    <I>Wed Aug 13 23:32:23 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="000594.html">[opam-devel] Error installing ocamlfind using Ubuntu's OPAM	package
</A></li>
        <LI>Next message: <A HREF="000596.html">[opam-devel] Error installing ocamlfind using Ubuntu's OPAM	package
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#595">[ date ]</a>
              <a href="thread.html#595">[ thread ]</a>
              <a href="subject.html#595">[ subject ]</a>
              <a href="author.html#595">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thank you for your help :)
It almost worked. However, it's missing 'libssl', which has no installation
candidate either through apt-get nor through OPAM:

<A HREF="http://lists.ocaml.org/listinfo/opam-devel">jon at lemur</A>:~/Auchitect/code$ opam install libssl
[ERROR] libssl is not a valid versioned package name
'opam install libssl' failed.

<A HREF="http://lists.ocaml.org/listinfo/opam-devel">jon at lemur</A>:~/Auchitect/code$ sudo apt-get install libssl
[sudo] password for jon:
Reading package lists... Done
Building dependency tree
Reading state information... Done
Package libssl is not available, but is referred to by another package.
This may mean that the package is missing, has been obsoleted, or
is only available from another source

E: Package 'libssl' has no installation candidate
<A HREF="http://lists.ocaml.org/listinfo/opam-devel">jon at lemur</A>:~/Auchitect/code$

this is the error from OPAM when running 'opam install cohttp ssl async':

=-=-= Installing async.111.25.00 =-=-=
default    Downloadinghttps
&lt;<A HREF="https://opam.ocaml.org/archives/async.111.25.00+opam.tar.gz">https://opam.ocaml.org/archives/async.111.25.00+opam.tar.gz</A>&gt;://
&lt;<A HREF="https://opam.ocaml.org/archives/async.111.25.00+opam.tar.gz">https://opam.ocaml.org/archives/async.111.25.00+opam.tar.gz</A>&gt;opam.ocaml.org
&lt;<A HREF="https://opam.ocaml.org/archives/async.111.25.00+opam.tar.gz">https://opam.ocaml.org/archives/async.111.25.00+opam.tar.gz</A>&gt;/archives/
&lt;<A HREF="https://opam.ocaml.org/archives/async.111.25.00+opam.tar.gz">https://opam.ocaml.org/archives/async.111.25.00+opam.tar.gz</A>&gt;async
&lt;<A HREF="https://opam.ocaml.org/archives/async.111.25.00+opam.tar.gz">https://opam.ocaml.org/archives/async.111.25.00+opam.tar.gz</A>&gt;.111.25.00+
&lt;<A HREF="https://opam.ocaml.org/archives/async.111.25.00+opam.tar.gz">https://opam.ocaml.org/archives/async.111.25.00+opam.tar.gz</A>&gt;opam.tar.gz
&lt;<A HREF="https://opam.ocaml.org/archives/async.111.25.00+opam.tar.gz">https://opam.ocaml.org/archives/async.111.25.00+opam.tar.gz</A>&gt;
Downloadinghttps
&lt;<A HREF="https://opam.ocaml.org/archives/async.111.25.00+opam.tar.gz">https://opam.ocaml.org/archives/async.111.25.00+opam.tar.gz</A>&gt;://
&lt;<A HREF="https://opam.ocaml.org/archives/async.111.25.00+opam.tar.gz">https://opam.ocaml.org/archives/async.111.25.00+opam.tar.gz</A>&gt;opam.ocaml.org
&lt;<A HREF="https://opam.ocaml.org/archives/async.111.25.00+opam.tar.gz">https://opam.ocaml.org/archives/async.111.25.00+opam.tar.gz</A>&gt;/archives/
&lt;<A HREF="https://opam.ocaml.org/archives/async.111.25.00+opam.tar.gz">https://opam.ocaml.org/archives/async.111.25.00+opam.tar.gz</A>&gt;async
&lt;<A HREF="https://opam.ocaml.org/archives/async.111.25.00+opam.tar.gz">https://opam.ocaml.org/archives/async.111.25.00+opam.tar.gz</A>&gt;.111.25.00+
&lt;<A HREF="https://opam.ocaml.org/archives/async.111.25.00+opam.tar.gz">https://opam.ocaml.org/archives/async.111.25.00+opam.tar.gz</A>&gt;opam.tar.gz
&lt;<A HREF="https://opam.ocaml.org/archives/async.111.25.00+opam.tar.gz">https://opam.ocaml.org/archives/async.111.25.00+opam.tar.gz</A>&gt;
Building async.111.25.00:
  make
  make install
Installing async.111.25.00.

[ERROR] Due to some errors while processing ssl.0.4.7, the following
actions will NOT proceed:
 - install cohttp.0.11.2
 - install conduit.0.5.1

===== ERROR while installing ssl.0.4.7 =====
# opam-version 1.1.1
# os           linux
# command      ./configure --prefix /home/jon/.opam/system
# path         /home/jon/.opam/system/build/ssl.0.4.7
# compiler     system (4.01.0)
# exit-code    1
# env-file     /home/jon/.opam/system/build/ssl.0.4.7/ssl-5767-c743ac.env
# stdout-file  /home/jon/.opam/system/build/ssl.0.4.7/ssl-5767-c743ac.out
# stderr-file  /home/jon/.opam/system/build/ssl.0.4.7/ssl-5767-c743ac.err
### stdout ###
# ...[truncated]
# checking for ocamldep... /usr/bin/ocamldep
# checking for ocamllex... /usr/bin/ocamllex
# checking for ocamlyacc... /usr/bin/ocamlyacc
# checking for ocamldoc... /usr/bin/ocamldoc
# checking for ocamlmktop... /usr/bin/ocamlmktop
# checking for gcc... (cached) gcc
# checking whether we are using the GNU C compiler... (cached) yes
# checking whether gcc accepts -g... (cached) yes
# checking for gcc option to accept ISO C89... (cached) none needed
# checking for SSL_new in -lssl... no
### stderr ###
# configure: error: Cannot find libssl.

The former state can be restored with opam switch import -f
&quot;/home/jon/.opam/system/backup/state-20140713220132.export&quot;
'opam install cohttp ssl async' failed.

Is SSL mandatory for running cohttp? The stuff I need to transfer via json
to my Ocaml-program isn't privacy sensitive at all.

/Jon
Hi Jon,

You're missing just one system package required to build ocamlfind called
'm4'.  Just add

sudo apt-get install m4

to your command set below and you should be fine.  For installing Cohttp
with the Core backend, do:

opam install cohttp ssl async

Let us know if this doesn't work out.

best,
Anil

On 13 Aug 2014, at 20:30, Jon Loldrup &lt;<A HREF="http://lists.ocaml.org/listinfo/opam-devel">loldrup at gmail.com</A>&gt; wrote:

Hi

I'm trying to install cohttp on Ubuntu 14.04. However it is not working so
well, as can be seen from this screenshot:

<A HREF="http://i58.tinypic.com/euk9e1.png">http://i58.tinypic.com/euk9e1.png</A>

I started from a pretty much unaltered installation of Ubuntu 14.04. Then I
executed the following commands in order. The last command led to the error.

sudo apt-get update &amp;&amp; sudo apt-get upgrade
sudo apt-get install ocaml-nox ocaml-native-compilers ocaml-doc tuareg-mode
ocaml-findlib oasis libpcre-ocaml-dev
sudo apt-get update
sudo apt-get install ocaml ocaml-native-compilers camlp4-extra opam
opam
opam list
opam init
eval `opam config env`
opam search cohttp
opam search core
opam update
opam list
opam install cohttp

So, how do I approach figuring out what went wrong? I'm an Ocaml newbie..
Also, where should I report errors like this if it is indeed a bug instead
of a user error?

regards Jon Loldrup
Denmark
 _______________________________________________
opam-devel mailing list
<A HREF="http://lists.ocaml.org/listinfo/opam-devel">opam-devel at lists.ocaml.org</A>
<A HREF="http://lists.ocaml.org/listinfo/opam-devel">http://lists.ocaml.org/listinfo/opam-devel</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ocaml.org/pipermail/opam-devel/attachments/20140814/77164923/attachment.html">http://lists.ocaml.org/pipermail/opam-devel/attachments/20140814/77164923/attachment.html</A>&gt;
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000594.html">[opam-devel] Error installing ocamlfind using Ubuntu's OPAM	package
</A></li>
	<LI>Next message: <A HREF="000596.html">[opam-devel] Error installing ocamlfind using Ubuntu's OPAM	package
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#595">[ date ]</a>
              <a href="thread.html#595">[ thread ]</a>
              <a href="subject.html#595">[ subject ]</a>
              <a href="author.html#595">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
