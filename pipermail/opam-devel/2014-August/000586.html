<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] We have binary OPAM RPMs!
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20We%20have%20binary%20OPAM%20RPMs%21&In-Reply-To=%3C1B51829C-343C-4F0E-90CF-C9B5F4596226%40recoil.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000585.html">
   <LINK REL="Next"  HREF="000587.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] We have binary OPAM RPMs!</H1>
    <B>Anil Madhavapeddy</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20We%20have%20binary%20OPAM%20RPMs%21&In-Reply-To=%3C1B51829C-343C-4F0E-90CF-C9B5F4596226%40recoil.org%3E"
       TITLE="[opam-devel] We have binary OPAM RPMs!">anil at recoil.org
       </A><BR>
    <I>Sun Aug 10 20:33:23 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="000585.html">[opam-devel] Fwd: [opam-commits] Cron job update-opam2web	failed on opam.ocaml.org
</A></li>
        <LI>Next message: <A HREF="000587.html">[opam-devel] We have binary OPAM RPMs!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#586">[ date ]</a>
              <a href="thread.html#586">[ thread ]</a>
              <a href="subject.html#586">[ subject ]</a>
              <a href="author.html#586">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks to help from Euan Harris and Jon Ludlam at the recent OCaml Compiler Hackathon at Citrix, I've managed to coax the OpenSUSE Build Service into generating binary RPMs for Fedora 19/20, CentOS 6/7 and RHEL7!

WWW: <A HREF="https://build.opensuse.org/package/show/home:ocaml/opam#">https://build.opensuse.org/package/show/home:ocaml/opam#</A>
Download: <A HREF="http://software.opensuse.org/download.html?project=home%3Aocaml&amp;package=opam">http://software.opensuse.org/download.html?project=home%3Aocaml&amp;package=opam</A>

I've only tried this on a CentOS 6 VM so far, and it's working great.  Since the version of OCaml packaged there is 3.11.2, our RPMs bootstrap themselves by using a local copy of OCaml to build OPAM.  The resulting yum installation is working successfully via &quot;opam init --comp=4.01.0&quot; on CentOS 6.

Note that only OPAM 1.2.0beta3 is packaged up like this.  I haven't gone back to the 1.1.x series as I don't think it's worth the maintenance burden at this stage.

For the curious, here's the OpenSUSE Build Service instructions that combine what Jon/I have been doing:
<A HREF="https://gist.github.com/avsm/09fd0f3944fecd8a8ee3">https://gist.github.com/avsm/09fd0f3944fecd8a8ee3</A>
In theory, the build service should do non-x86 builds (ARM, PPC, etc), but in practise the infrastructure seems completely broken and fail in interesting ways.  Has anyone ever successfully had this working?

CCing xen-api as well, since this is probably of use to the xapi packaging efforts on CentOS.

cheers,
Anil
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000585.html">[opam-devel] Fwd: [opam-commits] Cron job update-opam2web	failed on opam.ocaml.org
</A></li>
	<LI>Next message: <A HREF="000587.html">[opam-devel] We have binary OPAM RPMs!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#586">[ date ]</a>
              <a href="thread.html#586">[ thread ]</a>
              <a href="subject.html#586">[ subject ]</a>
              <a href="author.html#586">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
