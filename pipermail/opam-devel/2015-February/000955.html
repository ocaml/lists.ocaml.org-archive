<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] OPAM 1.3 roadmap
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20OPAM%201.3%20roadmap&In-Reply-To=%3C3cc7fc8aca8b1af4720aab969765e486%40whitequark.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000953.html">
   <LINK REL="Next"  HREF="000960.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] OPAM 1.3 roadmap</H1>
    <B>Peter Zotov</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20OPAM%201.3%20roadmap&In-Reply-To=%3C3cc7fc8aca8b1af4720aab969765e486%40whitequark.org%3E"
       TITLE="[opam-devel] OPAM 1.3 roadmap">whitequark at whitequark.org
       </A><BR>
    <I>Mon Feb 23 09:54:22 GMT 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000953.html">[opam-devel] OPAM 1.3 roadmap
</A></li>
        <LI>Next message: <A HREF="000960.html">[opam-devel] OPAM 1.3 roadmap
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#955">[ date ]</a>
              <a href="thread.html#955">[ thread ]</a>
              <a href="subject.html#955">[ subject ]</a>
              <a href="author.html#955">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Roberto Di Cosmo wrote:
&gt;<i> What I do not know is whether something similar is available for *BSD, 
</I>&gt;<i> and
</I>&gt;<i> even less for Windows.
</I>
I have spent an extended amount of time on this issue in OS X.
Plain and simple, it is not possible to intercept syscalls on XNU.
The ptrace API does not implement PTRACE_SYSCALL, and the equivalent
Mach API, task_set_emulation, has not ever been implemented.
I've looked into the XNU sources too and there is simply no codepath
that performs what you need.

Forget about this kind of user-space sandboxing on OS X.

However, OS X provides an explicit sandboxing mechanism since 10.5.
I don't think it will work for opam either:

The app sandbox container directory has the following characteristics:
It is located at a system-defined path, within the user&#8217;s home 
directory.
The container is in a hidden location, and so users do not interact with 
it directly.

(from 
<A HREF="https://developer.apple.com/library/mac/documentation/Security/Conceptual/AppSandboxDesignGuide/AppSandboxInDepth/AppSandboxInDepth.html#//apple_ref/doc/uid/TP40011183-CH3-SW6">https://developer.apple.com/library/mac/documentation/Security/Conceptual/AppSandboxDesignGuide/AppSandboxInDepth/AppSandboxInDepth.html#//apple_ref/doc/uid/TP40011183-CH3-SW6</A>)

-- 
Peter Zotov
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000953.html">[opam-devel] OPAM 1.3 roadmap
</A></li>
	<LI>Next message: <A HREF="000960.html">[opam-devel] OPAM 1.3 roadmap
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#955">[ date ]</a>
              <a href="thread.html#955">[ thread ]</a>
              <a href="subject.html#955">[ subject ]</a>
              <a href="author.html#955">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
