<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] Multiple names for the same switch (aliases that are really aliases)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20Multiple%20names%20for%20the%20same%20switch%20%28aliases%20that%0A%20are%20really%20aliases%29&In-Reply-To=%3Cb1c409eab57a47f85d5f1db36f13feb4%40mail.antislash.info%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="001526.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] Multiple names for the same switch (aliases that are really aliases)</H1>
    <B>Louis Gesbert</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20Multiple%20names%20for%20the%20same%20switch%20%28aliases%20that%0A%20are%20really%20aliases%29&In-Reply-To=%3Cb1c409eab57a47f85d5f1db36f13feb4%40mail.antislash.info%3E"
       TITLE="[opam-devel] Multiple names for the same switch (aliases that are really aliases)">meta at antislash.info
       </A><BR>
    <I>Thu Jan  5 08:01:06 GMT 2017</I>
    <P><UL>
        
        <LI>Next message: <A HREF="001526.html">[opam-devel] ocamlbuild 0.10.1 missing from opam-repo?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1533">[ date ]</a>
              <a href="thread.html#1533">[ thread ]</a>
              <a href="subject.html#1533">[ subject ]</a>
              <a href="author.html#1533">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Well, the thing is, switch names in 1.2 where loosely bound to the 
compiler names (unless you used --alias-of, that is); in 2.0, the switch 
name is just its handle, and, as far as opam is concerned, has no 
relationship with what is actually within the switch. This is reflected 
in the new syntax:

     opam switch create &lt;name&gt; &lt;compiler&gt;

You can abbreviate to have &lt;name&gt; and &lt;compiler&gt; be the same, but that's 
it. So it seems difficult to me to add semantics on top of this naming. 
It could be possible to index existing switches based on their installed 
compiler-packages and have a way to select based on that, though, but I 
am not sure that would add more convenience than confusion.

As pointed out by David, though, you can be much more flexible in the 
compilers that can be selected at switch creation.

Something that what requested but didn't make it is the ability to 
rename switches. A bit trivial, but this is due to both the naming of 
the switch directory being based on its name, and ocaml not being 
relocatable.

Best,
Louis

Le 2016-12-30 18:06, Gabriel Scherer a &#233;crit&#160;:
&gt;<i> Hi opam-devel,
</I>&gt;<i> 
</I>&gt;<i> A few weeks ago I discussed with Jeremy Yallop the idea of having
</I>&gt;<i> switches for major OCaml versions (4.01, 4.02, 4.03...) that would
</I>&gt;<i> point to the currently-best minor version of them (do you remember?
</I>&gt;<i> 4.01.0, 4.02.3, 4.03.1).
</I>&gt;<i> 
</I>&gt;<i> I would be willing to invest the effort of doing that and maintaining
</I>&gt;<i> this mapping, but I feel that just creating new switches is too
</I>&gt;<i> heavy-handed to be useful. If I already have a 4.02.3 switch, I would
</I>&gt;<i> like &quot;opam switch 4.02&quot; to bring me to that switch, not install a new,
</I>&gt;<i> distinct one with name 4.02 that would in fact install the same
</I>&gt;<i> compiler as 4.02.3.
</I>&gt;<i> 
</I>&gt;<i> Do I correctly understand that this feature is not possible in OPAM
</I>&gt;<i> 1.2.x? (If it is, I may do it.)
</I>&gt;<i> Is it possible in 2.x?
</I>&gt;<i> 
</I>&gt;<i> (Louis: I do distinctly remember your call to try out 2.x at ICFP and
</I>&gt;<i> I feel guilty about not having done much yet. Apologies.)
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> opam-devel mailing list
</I>&gt;<i> <A HREF="http://lists.ocaml.org/listinfo/opam-devel">opam-devel at lists.ocaml.org</A>
</I>&gt;<i> <A HREF="http://lists.ocaml.org/listinfo/opam-devel">http://lists.ocaml.org/listinfo/opam-devel</A>
</I></PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="001526.html">[opam-devel] ocamlbuild 0.10.1 missing from opam-repo?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1533">[ date ]</a>
              <a href="thread.html#1533">[ thread ]</a>
              <a href="subject.html#1533">[ subject ]</a>
              <a href="author.html#1533">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
