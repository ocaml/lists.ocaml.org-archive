<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] [MirageOS-devel] Managing $PKG_CONFIG_PATH in opam
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20%5BMirageOS-devel%5D%20Managing%20%24PKG_CONFIG_PATH%20in%20opam&In-Reply-To=%3CCAC-LLDg-UEFBu9EAE2EQTBXKAB%2BuyjhDokfhFbPwapA0t-Zrbw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001215.html">
   <LINK REL="Next"  HREF="001223.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] [MirageOS-devel] Managing $PKG_CONFIG_PATH in opam</H1>
    <B>Tim Cuthbertson</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20%5BMirageOS-devel%5D%20Managing%20%24PKG_CONFIG_PATH%20in%20opam&In-Reply-To=%3CCAC-LLDg-UEFBu9EAE2EQTBXKAB%2BuyjhDokfhFbPwapA0t-Zrbw%40mail.gmail.com%3E"
       TITLE="[opam-devel] [MirageOS-devel] Managing $PKG_CONFIG_PATH in opam">tim at gfxmonk.net
       </A><BR>
    <I>Tue Sep 15 12:50:11 BST 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="001215.html">[opam-devel] [MirageOS-devel] Managing $PKG_CONFIG_PATH in opam
</A></li>
        <LI>Next message: <A HREF="001223.html">[opam-devel] [MirageOS-devel] Managing $PKG_CONFIG_PATH in opam
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1220">[ date ]</a>
              <a href="thread.html#1220">[ thread ]</a>
              <a href="subject.html#1220">[ subject ]</a>
              <a href="author.html#1220">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Sep 15, 2015 at 12:08 PM, Louis Gesbert
&lt;<A HREF="http://lists.ocaml.org/listinfo/opam-devel">louis.gesbert at ocamlpro.com</A>&gt; wrote:
&gt;<i>
</I>&gt;&gt;<i> I think we could definitely use an answer to pkg-config management,
</I>&gt;&gt;<i> but not one that's entwined into the core of OPAM itself. If something
</I>&gt;&gt;<i> could be figured out that fits in with the compilers-as-packages
</I>&gt;&gt;<i> feature so that packages could extend the environment, this would
</I>&gt;&gt;<i> make cross-OS portability much easier.
</I>&gt;<i>
</I>&gt;<i> I don't want to promise too much, as the design is mostly unwritten yet, but that's part of my plans.
</I>&gt;<i> Note that compiler descriptions already have an `env:` field:
</I>&gt;<i>
</I>&gt;<i>     env: [[CAML_LD_LIBRARY_PATH = &quot;%{lib}%/stublibs&quot;]]
</I>&gt;<i>
</I>&gt;<i> that propagates to the user environment (i.e. `opam config env`)
</I>&gt;<i>
</I>&gt;<i> We also already have some specific operators to dictate environment variable updates, documented at <A HREF="http://opam.ocaml.org/doc/Manual.html#Environmentupdates">http://opam.ocaml.org/doc/Manual.html#Environmentupdates</A>
</I>
I'm not quite clear on what's done here and what remains - it sounds
like this already works for compilers, and you're considering adding
it for packages too? If that's true, then that sounds great, as then
all packages providing .pc files could depend on some `pkgconfig`
opampackage which defines:

env: [[PKG_CONFIG_PATH += &quot;%{lib}%&quot;]]

And hopefully some way of dealing with the default pkg-config, for
when $PKG_CONFIG_PATH is not set. It sounds like := will be able to
cover that, but the exact syntax is not obvious to me from those docs.

Cheers,
 - Tim.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001215.html">[opam-devel] [MirageOS-devel] Managing $PKG_CONFIG_PATH in opam
</A></li>
	<LI>Next message: <A HREF="001223.html">[opam-devel] [MirageOS-devel] Managing $PKG_CONFIG_PATH in opam
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1220">[ date ]</a>
              <a href="thread.html#1220">[ thread ]</a>
              <a href="subject.html#1220">[ subject ]</a>
              <a href="author.html#1220">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
