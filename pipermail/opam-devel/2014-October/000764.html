<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] Travis is broken
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20Travis%20is%20broken&In-Reply-To=%3C6DB2A990-9C8F-4211-A788-4E17FB23A98D%40recoil.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000761.html">
   <LINK REL="Next"  HREF="000766.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] Travis is broken</H1>
    <B>Anil Madhavapeddy</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20Travis%20is%20broken&In-Reply-To=%3C6DB2A990-9C8F-4211-A788-4E17FB23A98D%40recoil.org%3E"
       TITLE="[opam-devel] Travis is broken">anil at recoil.org
       </A><BR>
    <I>Fri Oct 24 11:20:42 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="000761.html">[opam-devel] Travis is broken
</A></li>
        <LI>Next message: <A HREF="000766.html">[opam-devel] Travis is broken
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#764">[ date ]</a>
              <a href="thread.html#764">[ thread ]</a>
              <a href="subject.html#764">[ subject ]</a>
              <a href="author.html#764">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>One reason I haven't spent too much time on buildbot and bors is that they
all need some level of customisation to the specific deployment.

The OCamlot work that David Sheets did last year is ripe for a refresh with
all the new infrastructure that's been built in the last year.  For example:

- opamLib is now much easier to use as a library than it was in opam 1.0
- the ocaml-git bindings work, so all the shelling out to the cmdline disappear
- David has almost finished GitHub webhooks integration to ease that callback process
- Irmin or Arakoon could be used as the k/v store for the logs now

Al in all, I'd be inclined to put time into putting together a self-hosted
one using this infrastructure.  The only real missing major piece is the web
UI.  I wonder if there is some js_of_ocaml-friendly UI layer that we could drop
in for log viewing purposes...

-anil

&gt;<i> On 24 Oct 2014, at 01:07, Thomas Gazagnaire &lt;<A HREF="http://lists.ocaml.org/listinfo/opam-devel">thomas at gazagnaire.org</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> I agree this is a problem and I just sent a message to Travis CI support to tell them about the issue. If you come up with a nice solution I'm sure we can find a way to host it. Would be worth looking at docker images (see <A HREF="https://github.com/avsm/docker-opam">https://github.com/avsm/docker-opam</A>).
</I>&gt;<i> 
</I>&gt;<i> Thomas
</I>&gt;<i> 
</I>&gt;<i> On 24 Oct 2014, at 01:11, Peter Zotov &lt;<A HREF="http://lists.ocaml.org/listinfo/opam-devel">whitequark at whitequark.org</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I'll be brief: Travis can't keep up with load on opam-repository.
</I>&gt;&gt;<i> See <A HREF="https://github.com/ocaml/opam-repository/pull/2883#issuecomment-60322073">https://github.com/ocaml/opam-repository/pull/2883#issuecomment-60322073</A>
</I>&gt;&gt;<i> and <A HREF="https://github.com/ocaml/opam-repository/issues/2880">https://github.com/ocaml/opam-repository/issues/2880</A>
</I>&gt;&gt;<i> for more details.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I'll hack together a buildbot+bors config this weekend.
</I>&gt;&gt;<i> I can run it off my own infrastructure for some time, but in the long
</I>&gt;&gt;<i> run, of course, it's better if some &quot;official&quot; team owns (and guarantees
</I>&gt;&gt;<i> that it's up) the infra. I also don't have headless OS X, and
</I>&gt;&gt;<i> I don't want my laptop to be the buildslave for long :p
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> -- 
</I>&gt;&gt;<i> Peter Zotov
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> opam-devel mailing list
</I>&gt;&gt;<i> <A HREF="http://lists.ocaml.org/listinfo/opam-devel">opam-devel at lists.ocaml.org</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ocaml.org/listinfo/opam-devel">http://lists.ocaml.org/listinfo/opam-devel</A>
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> opam-devel mailing list
</I>&gt;<i> <A HREF="http://lists.ocaml.org/listinfo/opam-devel">opam-devel at lists.ocaml.org</A>
</I>&gt;<i> <A HREF="http://lists.ocaml.org/listinfo/opam-devel">http://lists.ocaml.org/listinfo/opam-devel</A>
</I>&gt;<i> 
</I>
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000761.html">[opam-devel] Travis is broken
</A></li>
	<LI>Next message: <A HREF="000766.html">[opam-devel] Travis is broken
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#764">[ date ]</a>
              <a href="thread.html#764">[ thread ]</a>
              <a href="subject.html#764">[ subject ]</a>
              <a href="author.html#764">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
