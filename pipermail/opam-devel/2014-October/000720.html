<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] ows reports
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20ows%20reports&In-Reply-To=%3C2A5C29C2-D556-42DA-A7D1-A0D61AD9FDB8%40gazagnaire.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000719.html">
   <LINK REL="Next"  HREF="000721.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] ows reports</H1>
    <B>Thomas Gazagnaire</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20ows%20reports&In-Reply-To=%3C2A5C29C2-D556-42DA-A7D1-A0D61AD9FDB8%40gazagnaire.org%3E"
       TITLE="[opam-devel] ows reports">thomas at gazagnaire.org
       </A><BR>
    <I>Thu Oct  2 17:40:22 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="000719.html">[opam-devel] ows reports
</A></li>
        <LI>Next message: <A HREF="000721.html">[opam-devel] ows reports
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#720">[ date ]</a>
              <a href="thread.html#720">[ thread ]</a>
              <a href="subject.html#720">[ subject ]</a>
              <a href="author.html#720">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> I think the choice is either:
</I>&gt;<i> 1/ to decide that are not going to fix old packages. In this case,
</I>&gt;<i> they should take OWS information as definitive, and mark as
</I>&gt;<i> unavailable for a given OCaml version any package that is red for that
</I>&gt;<i> version.
</I>
I have created <A HREF="https://github.com/ocaml/opam-repository/issues/2814">https://github.com/ocaml/opam-repository/issues/2814</A> to track that. I won't be able to work on that in the next few days, but I'll fix that before the end of the month unless anyone else wants to contribute. So we will have a full green table on ows and it will be easier to accept/reject new packages.

Best,
Thomas


&gt;<i> 2/ to fix dependencies to be compatible with all OCaml versions that
</I>&gt;<i> they want to support (i.e. that the package says it is available for).
</I>&gt;<i> For example, they could provide several implementations of the same
</I>&gt;<i> module for different versions of OCaml, if the module uses features of
</I>&gt;<i> specific OCaml versions.
</I>&gt;<i> 
</I>&gt;<i> In both case, the result is that the package is either advertised as
</I>&gt;<i> not being available for an OCaml version (an empty box in OWS), or it
</I>&gt;<i> is available with matching dependencies (a green box).
</I>&gt;<i> 
</I>&gt;&gt;&gt;&gt;<i> I guess the goal is to make some changes (the policy, the workflow, ...) to improve the metrics results or at least to propose or explain how it can be improved -- if not, I don't see the point. Currently, it is still unclear to me how we (the repo maintainers) can fix all the &quot;broken&quot; packages on the repo without requiring all packages to compile on all the versions of the compiler (which will never happen) or by duplicate metadata (the transitive closure of the available fields) which will get out-of-sync quickly.
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> Currently, the field &quot;ocaml-version&quot; is used to tell that the
</I>&gt;&gt;&gt;<i> &quot;content&quot; of the package is incompatible with a given OCaml version.
</I>&gt;&gt;&gt;<i> Maybe there should be another field to say that the package is known
</I>&gt;&gt;&gt;<i> to be incompatible with a given ocaml version, because of missing
</I>&gt;&gt;&gt;<i> dependencies. This way, it would not be printed in the list of
</I>&gt;&gt;&gt;<i> available packages for that version.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> opam removes the transitive closure of unavailable packages in `opam list --all`.  But yes, maybe we need more meta-data. Is that the solution you recommend?
</I>&gt;<i> 
</I>&gt;<i> Ideally, package maintainers would fix their dependencies to work on
</I>&gt;<i> all supported versions, but in the meantime, yes, such a meta-data
</I>&gt;<i> could help.
</I>&gt;<i> 
</I>&gt;<i> --Fabrice
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000719.html">[opam-devel] ows reports
</A></li>
	<LI>Next message: <A HREF="000721.html">[opam-devel] ows reports
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#720">[ date ]</a>
              <a href="thread.html#720">[ thread ]</a>
              <a href="subject.html#720">[ subject ]</a>
              <a href="author.html#720">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
