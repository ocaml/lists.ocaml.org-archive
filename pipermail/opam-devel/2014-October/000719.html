<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] ows reports
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20ows%20reports&In-Reply-To=%3CCAHvkLrPfmaLgXeLjNFpPEJf%3DYxPKSudvOFUp1Tc_CKq8bV5G_w%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000717.html">
   <LINK REL="Next"  HREF="000720.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] ows reports</H1>
    <B>Fabrice Le Fessant</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20ows%20reports&In-Reply-To=%3CCAHvkLrPfmaLgXeLjNFpPEJf%3DYxPKSudvOFUp1Tc_CKq8bV5G_w%40mail.gmail.com%3E"
       TITLE="[opam-devel] ows reports">Fabrice.Le_fessant at inria.fr
       </A><BR>
    <I>Thu Oct  2 13:58:06 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="000717.html">[opam-devel] ows reports
</A></li>
        <LI>Next message: <A HREF="000720.html">[opam-devel] ows reports
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#719">[ date ]</a>
              <a href="thread.html#719">[ thread ]</a>
              <a href="subject.html#719">[ subject ]</a>
              <a href="author.html#719">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Oct 2, 2014 at 12:53 PM, Thomas Gazagnaire
&lt;<A HREF="http://lists.ocaml.org/listinfo/opam-devel">thomas at gazagnaire.org</A>&gt; wrote:
&gt;<i> Anil and I are &quot;responsible&quot; for fixing the policies to accept or not packages. We try to advise people on how to improve. For instance, it is not clear to me what to say to jane-street to improve the quality of their packages in ows. They follow they workflow we have defined initially.
</I>
I think the choice is either:
1/ to decide that are not going to fix old packages. In this case,
they should take OWS information as definitive, and mark as
unavailable for a given OCaml version any package that is red for that
version.
2/ to fix dependencies to be compatible with all OCaml versions that
they want to support (i.e. that the package says it is available for).
For example, they could provide several implementations of the same
module for different versions of OCaml, if the module uses features of
specific OCaml versions.

In both case, the result is that the package is either advertised as
not being available for an OCaml version (an empty box in OWS), or it
is available with matching dependencies (a green box).

&gt;&gt;&gt;<i> I guess the goal is to make some changes (the policy, the workflow, ...) to improve the metrics results or at least to propose or explain how it can be improved -- if not, I don't see the point. Currently, it is still unclear to me how we (the repo maintainers) can fix all the &quot;broken&quot; packages on the repo without requiring all packages to compile on all the versions of the compiler (which will never happen) or by duplicate metadata (the transitive closure of the available fields) which will get out-of-sync quickly.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Currently, the field &quot;ocaml-version&quot; is used to tell that the
</I>&gt;&gt;<i> &quot;content&quot; of the package is incompatible with a given OCaml version.
</I>&gt;&gt;<i> Maybe there should be another field to say that the package is known
</I>&gt;&gt;<i> to be incompatible with a given ocaml version, because of missing
</I>&gt;&gt;<i> dependencies. This way, it would not be printed in the list of
</I>&gt;&gt;<i> available packages for that version.
</I>&gt;<i>
</I>&gt;<i> opam removes the transitive closure of unavailable packages in `opam list --all`.  But yes, maybe we need more meta-data. Is that the solution you recommend?
</I>
Ideally, package maintainers would fix their dependencies to work on
all supported versions, but in the meantime, yes, such a meta-data
could help.

--Fabrice
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000717.html">[opam-devel] ows reports
</A></li>
	<LI>Next message: <A HREF="000720.html">[opam-devel] ows reports
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#719">[ date ]</a>
              <a href="thread.html#719">[ thread ]</a>
              <a href="subject.html#719">[ subject ]</a>
              <a href="author.html#719">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
