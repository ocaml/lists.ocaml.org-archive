<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] OPAM Dockerfiles set OPAMSWITCH
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20OPAM%20Dockerfiles%20set%20OPAMSWITCH&In-Reply-To=%3CCAAWM5TyKFP11iV4JTtFjAh8zO31xy%3DU0cZ1dkwnb7M0LS8U-4w%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001392.html">
   <LINK REL="Next"  HREF="001394.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] OPAM Dockerfiles set OPAMSWITCH</H1>
    <B>David Sheets</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20OPAM%20Dockerfiles%20set%20OPAMSWITCH&In-Reply-To=%3CCAAWM5TyKFP11iV4JTtFjAh8zO31xy%3DU0cZ1dkwnb7M0LS8U-4w%40mail.gmail.com%3E"
       TITLE="[opam-devel] OPAM Dockerfiles set OPAMSWITCH">sheets at alum.mit.edu
       </A><BR>
    <I>Tue Feb 23 12:28:39 GMT 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="001392.html">[opam-devel] Please don't DoS the opam-repository
</A></li>
        <LI>Next message: <A HREF="001394.html">[opam-devel] OPAM Dockerfiles set OPAMSWITCH
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1393">[ date ]</a>
              <a href="thread.html#1393">[ thread ]</a>
              <a href="subject.html#1393">[ subject ]</a>
              <a href="author.html#1393">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The Docker containers described by
<A HREF="https://github.com/ocaml/opam-dockerfiles">https://github.com/ocaml/opam-dockerfiles</A> somehow set the OPAMSWITCH
environment variable. I haven't been able to find where or why this
variable has been set and it causes many opam commands to be more
heavyweight than necessary which makes interactive use annoying. For
instance, after switching compilers, you must run something like

```
eval `opam config env --switch=system`
```

if OPAMSWITCH is set. When is OPAMSWITCH necessary? Why? What sets it?

I'm really enjoying using the opam Docker containers because it means
that a fresh, minimal, throwaway OPAM install is just a `docker run
-it --rm -v ~/Code:/Code:rw ocaml/opam:alpine-3.3_ocaml-4.02.3 ash`
away. Thanks, avsm!
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001392.html">[opam-devel] Please don't DoS the opam-repository
</A></li>
	<LI>Next message: <A HREF="001394.html">[opam-devel] OPAM Dockerfiles set OPAMSWITCH
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1393">[ date ]</a>
              <a href="thread.html#1393">[ thread ]</a>
              <a href="subject.html#1393">[ subject ]</a>
              <a href="author.html#1393">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
