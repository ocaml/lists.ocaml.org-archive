<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] Does pin git:// really make sense ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20Does%20pin%20git%3A//%20really%20make%20sense%20%3F&In-Reply-To=%3C7D5957D92AA74204846420873FD94A72%40erratique.ch%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000132.html">
   <LINK REL="Next"  HREF="000134.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] Does pin git:// really make sense ?</H1>
    <B>Daniel B&#252;nzli</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20Does%20pin%20git%3A//%20really%20make%20sense%20%3F&In-Reply-To=%3C7D5957D92AA74204846420873FD94A72%40erratique.ch%3E"
       TITLE="[opam-devel] Does pin git:// really make sense ?">daniel.buenzli at erratique.ch
       </A><BR>
    <I>Mon Jun  3 10:38:17 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000132.html">[opam-devel] Does pin git:// really make sense ?
</A></li>
        <LI>Next message: <A HREF="000134.html">[opam-devel] Does pin git:// really make sense ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#133">[ date ]</a>
              <a href="thread.html#133">[ thread ]</a>
              <a href="subject.html#133">[ subject ]</a>
              <a href="author.html#133">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Le lundi, 3 juin 2013 &#224; 09:38, Anil Madhavapeddy a &#233;crit :
&gt;<i> &gt; Actually what I want at the moment is an easy way to install the repo version of ocp-indent. I guess since it doesn't install at the moment with pin the package description will have to be updated anyway. The idea is to avoid these things of becoming desynchronized.
</I>&gt;<i>  
</I>&gt;<i> I wonder if an upstream opam-repository-unstable makes sense here, which always points to the bleeding-edge version of a package. This would also be useful for OCamlot to test, although very prone to breakage. @dsheets, any thoughts on this?
</I>
I don't think that would really help as long as there is no mechanism by which a package can somehow auto-update its own description when it changes. That's the problem, not accessing the bleeding edge source, opam pin handles that very well.

I think there's a use case that is not well covered here, which is pre-release/blocking bug in a package. What you really want is pin a package to the git repo but maybe only for a few days (like I wanted with ocp-indent), but of course the repos may not have the correct build instructions, so you want a lightweight way of being able to specify the new ones. For me it seems natural to try to lookup that in the repo itself.  

Best,

Daniel

P.S. Just for the record that's the way I handled the ocp-indent problem, I'm sure it could be simpler:

1. opam pin ocp-indent <A HREF="git://">git://</A>
2. edit description in ./opam/repo/opam-repository to remove useless patch that was making the build fail.
3. rm ~/.opam/state.cache
4. opam install ocp-indent
5. opam update, will tell you that ocp-indent updated (a new (the old) description was detected)
6. opam upgrade --fake






</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000132.html">[opam-devel] Does pin git:// really make sense ?
</A></li>
	<LI>Next message: <A HREF="000134.html">[opam-devel] Does pin git:// really make sense ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#133">[ date ]</a>
              <a href="thread.html#133">[ thread ]</a>
              <a href="subject.html#133">[ subject ]</a>
              <a href="author.html#133">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
