<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] [MirageOS-devel] regular bulk builds: now with	HTML output!
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20%5BMirageOS-devel%5D%20regular%20bulk%20builds%3A%20now%20with%0A%09HTML%20output%21&In-Reply-To=%3C6969DEA9-E36E-4A98-9982-5AF808DCE54C%40recoil.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000891.html">
   <LINK REL="Next"  HREF="000893.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] [MirageOS-devel] regular bulk builds: now with	HTML output!</H1>
    <B>Anil Madhavapeddy</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20%5BMirageOS-devel%5D%20regular%20bulk%20builds%3A%20now%20with%0A%09HTML%20output%21&In-Reply-To=%3C6969DEA9-E36E-4A98-9982-5AF808DCE54C%40recoil.org%3E"
       TITLE="[opam-devel] [MirageOS-devel] regular bulk builds: now with	HTML output!">anil at recoil.org
       </A><BR>
    <I>Fri Jan  9 14:11:21 GMT 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000891.html">[opam-devel] regular bulk builds: now with HTML output!
</A></li>
        <LI>Next message: <A HREF="000893.html">[opam-devel] [MirageOS-devel] regular bulk builds: now with	HTML output!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#892">[ date ]</a>
              <a href="thread.html#892">[ thread ]</a>
              <a href="subject.html#892">[ subject ]</a>
              <a href="author.html#892">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 8 Jan 2015, at 23:30, Jeremy Yallop &lt;<A HREF="http://lists.ocaml.org/listinfo/opam-devel">yallop at gmail.com</A>&gt; wrote:
&gt;<i> 
</I>&gt;<i> On 8 January 2015 at 18:52, Anil Madhavapeddy &lt;<A HREF="http://lists.ocaml.org/listinfo/opam-devel">anil at recoil.org</A>&gt; wrote:
</I>&gt;&gt;<i> Greetings! I've been cleaning up the bulk build infrastructure for OPAM and will have a blog post about it in a few days, but in the meanwhile I thought you might like to see the output:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> <A HREF="http://www.recoil.org/~avsm/opam-bulk/">http://www.recoil.org/~avsm/opam-bulk/</A> (temporary URL)
</I>&gt;<i> 
</I>&gt;<i> Very nice indeed!  It's quite a leap in usability from the raw logs.
</I>&gt;<i> 
</I>&gt;<i> A few thoughts:
</I>&gt;<i> 
</I>&gt;<i> * displaying the &quot;Sort by OS&quot; / &quot;Sort by Version&quot; as tabs rather than
</I>&gt;<i> columns if possible would avoid showing everything twice.
</I>
Absolutely.  Rather than continue to hack on this &quot;rapidly put together&quot;
HTML page, the next iteration will be based on the Zurb Foundation framework
and so use all the UI components from there (including tabs, pagination
and filtering by tags).  Volunteers for this are very welcome -- I can
document how the (rather simple) filesystem metadata works if anyone wants
to pull together a nicer frontend.

&gt;<i> 
</I>&gt;<i> * occasionally there's a failure due to what look like infrastructure
</I>&gt;<i> errors, e.g.
</I>&gt;<i>      <A HREF="http://www.recoil.org/~avsm/opam-bulk/logs/local-ubuntu-14.04-ocaml-4.01.0/raw/blahcaml.html">http://www.recoil.org/~avsm/opam-bulk/logs/local-ubuntu-14.04-ocaml-4.01.0/raw/blahcaml.html</A>
</I>&gt;<i>      <A HREF="http://www.recoil.org/~avsm/opam-bulk/logs/local-ubuntu-14.04-ocaml-4.01.0/raw/cmdliner.html">http://www.recoil.org/~avsm/opam-bulk/logs/local-ubuntu-14.04-ocaml-4.01.0/raw/cmdliner.html</A>
</I>&gt;<i>  it'd be good to distinguish these from actual build failures if possible.
</I>
Getting Docker to work reliably has been challenging, even on a 
single host :-(  There doesn't seem to be a predictable error code from these
invocations, retrying is tricky.  I'm switching the scripts to BTRFS in case
that works out better.

&gt;<i> * it might be useful to display the revision (perhaps the repository
</I>&gt;<i> commit id) somewhere --  perhaps in the URL, If there's a possibility
</I>&gt;<i> of keeping multiple log sets around.
</I>
Yes agreed.  I'll put that into the next round of builds.  I also notice that
sometimes on Debian older revisions of packages are installed (and this happened
on the TLS stack a few times on is-mirage-broken as well).  Recording which
concrete versions got installed per OS would be a good step.

-anil
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000891.html">[opam-devel] regular bulk builds: now with HTML output!
</A></li>
	<LI>Next message: <A HREF="000893.html">[opam-devel] [MirageOS-devel] regular bulk builds: now with	HTML output!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#892">[ date ]</a>
              <a href="thread.html#892">[ thread ]</a>
              <a href="subject.html#892">[ subject ]</a>
              <a href="author.html#892">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
