<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-devel] Repository format tools
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20Repository%20format%20tools&In-Reply-To=%3C3517D216-4E0A-48E3-9168-08503A02DCD1%40recoil.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000074.html">
   <LINK REL="Next"  HREF="000067.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-devel] Repository format tools</H1>
    <B>Anil Madhavapeddy</B> 
    <A HREF="mailto:opam-devel%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-devel%5D%20Repository%20format%20tools&In-Reply-To=%3C3517D216-4E0A-48E3-9168-08503A02DCD1%40recoil.org%3E"
       TITLE="[opam-devel] Repository format tools">anil at recoil.org
       </A><BR>
    <I>Sat Mar 30 19:05:21 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000074.html">[opam-devel] Repository format tools
</A></li>
        <LI>Next message: <A HREF="000067.html">[opam-devel] [ANN] imagemagick.0.34
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#85">[ date ]</a>
              <a href="thread.html#85">[ thread ]</a>
              <a href="subject.html#85">[ subject ]</a>
              <a href="author.html#85">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 30 Mar 2013, at 15:08, Daniel B&#252;nzli &lt;<A HREF="http://lists.ocaml.org/listinfo/opam-devel">daniel.buenzli at erratique.ch</A>&gt; wrote:
&gt;<i> 
</I>&gt;<i> Le jeudi, 28 mars 2013 &#224; 17:42, Anil Madhavapeddy a &#233;crit :
</I>&gt;<i> 
</I>&gt;&gt;<i> I wanted to find out what else people want. I'd like to know:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> * README: What a repository is for
</I>&gt;&gt;<i> * TODO: &quot;There be dragons here&quot;
</I>&gt;&gt;<i> * CONTRIBUTING: Guidelines for sending pull requests, see <A HREF="https://github.com/blog/1184-contributing-guidelines">https://github.com/blog/1184-contributing-guidelines</A>
</I>&gt;&gt;<i> * CHANGES: See above -- this would be particularly useful to display after an OPAM update, for example.
</I>&gt;<i> 
</I>&gt;<i> I also sometimes add a DEVEL file for developer instructions (e.g. <A HREF="https://github.com/dbuenzli/uunf/blob/master/DEVEL">https://github.com/dbuenzli/uunf/blob/master/DEVEL</A>). Do you think this should go in CONTRIBUTING ? (I'd still prefer DEVEL it's less intrusive when you `ls`).
</I>
CONTRIBUTING is used by Github to add help to a pull request, so it's not quite the same as DEVEL.  I like the idea of a file that tells you how to build and hack on a repository -- for instance, which the recommended build system is, what autogenerated files will present (e.g. from ATDgen) and so forth.

I'll add DEVEL to the skeleton repository...

&gt;&gt;<i> Some of these are subsumed by various metadata files such as _oasis, but not all the repositories use OASIS, so I'd prefer simple text files in Markdown where possible.
</I>&gt;<i> Seems a good idea to me. I currently use the metadata of _oasis to generate my READMEs, but it is suboptimal on github. The thing is that I don't want to repeat myself. Maybe the extraction should be done the other way round.
</I>
Unfortunately, not all projects can use OASIS for various reasons, usually because they are large repositories that use OMake and need the faster build speed, or have special compilation requirements (some of the Mirage ones).

I agree this all needs to converge, but it'll take some time...

&gt;&gt;<i> So, does anyone have any strong opinions on this? I'm inclined to go for the simple CHANGES format that OPAM currently uses (and several Mirage libraries).
</I>&gt;<i> 
</I>&gt;<i> I think it should be tweaked to at least:
</I>&gt;<i> 
</I>&gt;<i> 1) Be fully markdown renderable. That means I'd use proper sections (#) for releases.
</I>&gt;<i> 
</I>&gt;<i> 2) Use the yyyy-mm-dd time stamp format (rfc 3339). This format has a lot of good properties (e.g. ascii order gives you time order, clear month vs day order, etc.).  
</I>&gt;<i> 
</I>
Yeah, this is easily parseable too. Thomas, any objections to using something like this for OPAM and friends?  We'd need to call the file 'CHANGES.md' so that Github will render it as a Markdown file.


&gt;<i> 3) (That's really a pointless obsession of mine) I like to give the physical location I'm in when I release. For me it gives a little human touch to all these virtual bits.
</I>
Heh, I once correlated the GPS traces from my phone to my Git commit times to figure out where I was most productive writing code (answer: Ray's Jazz Cafe at Foyles).

Anything after the version and header would ben fine to leave as user-defined metadata in our format then.  I agree that having a Markdown format is probably better than the Debian metadata.

-anil
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000074.html">[opam-devel] Repository format tools
</A></li>
	<LI>Next message: <A HREF="000067.html">[opam-devel] [ANN] imagemagick.0.34
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#85">[ date ]</a>
              <a href="thread.html#85">[ thread ]</a>
              <a href="subject.html#85">[ subject ]</a>
              <a href="author.html#85">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-devel">More information about the opam-devel
mailing list</a><br>
</body></html>
