From daniel.buenzli at erratique.ch  Sat Oct  1 03:05:16 2016
From: daniel.buenzli at erratique.ch (=?utf-8?Q?Daniel_B=C3=BCnzli?=)
Date: Sat, 1 Oct 2016 04:05:16 +0200
Subject: [ocaml-platform] Maintainer notifications for opam-builder --
 and other opam-builder enhancements
In-Reply-To: <CAHvkLrMNNfcozFfpYNYKurOOgHg377_sPmO1b2unW8KaUtyxtA@mail.gmail.com>
References: <CAPFanBG4D5QPpJ+_6tTxOApCQtNdCoh7jso8AY_Xbi2sH-ZGsw@mail.gmail.com>
 <08CB5F26-50EC-45EC-BC50-2DB2B5EE94C5@gazagnaire.org>
 <CAPFanBGnjqEVbgPX879+mZUYJQDBd1ND9OtZj2wFrjoF3mExig@mail.gmail.com>
 <4636744F-0939-4D20-8581-AE5707DABB96@recoil.org>
 <CAPFanBFmn2gJeHJW6p4zu=0jUqpf_hbc7WvCftPciG8o8D8xdw@mail.gmail.com>
 <CAHvkLrNp+QFXPsQs+6Ui0sR2wVWhudHdYue5DC-38bpd3S0+wQ@mail.gmail.com>
 <4C6AE492-62EC-4215-863C-4EECC53C4C15@recoil.org>
 <CAHvkLrN6qB4PhWBmxtcPmYO4EOxjRToSiejwQ9Jr43a8270yFg@mail.gmail.com>
 <544E8ED0C7634FBD9A8F681BE5BB62D2@erratique.ch>
 <CAHvkLrMNNfcozFfpYNYKurOOgHg377_sPmO1b2unW8KaUtyxtA@mail.gmail.com>
Message-ID: <0C0BC17BCC9F4616BAC9BAD542DE7EBD@erratique.ch>


On Friday 30 September 2016 at 21:20, Fabrice Le Fessant wrote: 
> > (which tend to be quite unfair toward contributors)...
> 
> Most of the CLAs I have seen recently (probably copied from the same original one) are actually not so unfair, as they don't ask for the ownership of the code, but just a license to use and relicense the code. 

While not granting the same rights to the contributor if you don't have a liberal (in the sense non GPL) license... What you say is a gross misrepresentation of the actual implications of the terms. Please stop thinking we are idiots. We already had this discussion when you tried to introduce a CLA on OPAM, so I won't discuss this further. 

Daniel

From fabrice.le_fessant at ocamlpro.com  Sat Oct  1 13:11:45 2016
From: fabrice.le_fessant at ocamlpro.com (Fabrice Le Fessant)
Date: Sat, 01 Oct 2016 12:11:45 +0000
Subject: [ocaml-platform] Maintainer notifications for opam-builder --
 and other opam-builder enhancements
In-Reply-To: <0C0BC17BCC9F4616BAC9BAD542DE7EBD@erratique.ch>
References: <CAPFanBG4D5QPpJ+_6tTxOApCQtNdCoh7jso8AY_Xbi2sH-ZGsw@mail.gmail.com>
 <08CB5F26-50EC-45EC-BC50-2DB2B5EE94C5@gazagnaire.org>
 <CAPFanBGnjqEVbgPX879+mZUYJQDBd1ND9OtZj2wFrjoF3mExig@mail.gmail.com>
 <4636744F-0939-4D20-8581-AE5707DABB96@recoil.org>
 <CAPFanBFmn2gJeHJW6p4zu=0jUqpf_hbc7WvCftPciG8o8D8xdw@mail.gmail.com>
 <CAHvkLrNp+QFXPsQs+6Ui0sR2wVWhudHdYue5DC-38bpd3S0+wQ@mail.gmail.com>
 <4C6AE492-62EC-4215-863C-4EECC53C4C15@recoil.org>
 <CAHvkLrN6qB4PhWBmxtcPmYO4EOxjRToSiejwQ9Jr43a8270yFg@mail.gmail.com>
 <544E8ED0C7634FBD9A8F681BE5BB62D2@erratique.ch>
 <CAHvkLrMNNfcozFfpYNYKurOOgHg377_sPmO1b2unW8KaUtyxtA@mail.gmail.com>
 <0C0BC17BCC9F4616BAC9BAD542DE7EBD@erratique.ch>
Message-ID: <CAHvkLrOd6LncePCWL5wbYmJo4OW6Cx9EE7gMGFfqH3V2FsAJLQ@mail.gmail.com>

On Sat, Oct 1, 2016 at 4:05 AM Daniel B?nzli <daniel.buenzli at erratique.ch>
wrote:

> While not granting the same rights to the contributor if you don't have a
> liberal (in the sense non GPL) license... What you say is a gross
> misrepresentation of the actual implications of the terms.


Yes, the rights are not equal, but often, the contributions are not equal
either.  I have written 100% of the code of opam-builder, so why shall I
give you the same rights on my code, just because you might eventually
contribute 10 lines ? Are you the one who will maintain the full code over
time, fix bugs in the lines you added, make them evolve, and so on ? You
want the same rights, but without the same duties.


> Please stop thinking we are idiots.


These are your own thoughts, not mine.


> We already had this discussion when you tried to introduce a CLA on OPAM,
> so I won't discuss this further.


We changed the license in your sense instead of introducing a CLA because
you convinced everybody it was needed to  increase the number of
contributions. Looking at the git logs in github.com/ocaml/opam, the number
of contributions have actually decreased since the license went more
liberal...

--Fabrice
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.ocaml.org/pipermail/platform/attachments/20161001/f3e44c95/attachment.html>

From daniel.buenzli at erratique.ch  Sat Oct  1 14:16:06 2016
From: daniel.buenzli at erratique.ch (=?utf-8?Q?Daniel_B=C3=BCnzli?=)
Date: Sat, 1 Oct 2016 15:16:06 +0200
Subject: [ocaml-platform] Maintainer notifications for opam-builder --
 and other opam-builder enhancements
In-Reply-To: <CAHvkLrOd6LncePCWL5wbYmJo4OW6Cx9EE7gMGFfqH3V2FsAJLQ@mail.gmail.com>
References: <CAPFanBG4D5QPpJ+_6tTxOApCQtNdCoh7jso8AY_Xbi2sH-ZGsw@mail.gmail.com>
 <08CB5F26-50EC-45EC-BC50-2DB2B5EE94C5@gazagnaire.org>
 <CAPFanBGnjqEVbgPX879+mZUYJQDBd1ND9OtZj2wFrjoF3mExig@mail.gmail.com>
 <4636744F-0939-4D20-8581-AE5707DABB96@recoil.org>
 <CAPFanBFmn2gJeHJW6p4zu=0jUqpf_hbc7WvCftPciG8o8D8xdw@mail.gmail.com>
 <CAHvkLrNp+QFXPsQs+6Ui0sR2wVWhudHdYue5DC-38bpd3S0+wQ@mail.gmail.com>
 <4C6AE492-62EC-4215-863C-4EECC53C4C15@recoil.org>
 <CAHvkLrN6qB4PhWBmxtcPmYO4EOxjRToSiejwQ9Jr43a8270yFg@mail.gmail.com>
 <544E8ED0C7634FBD9A8F681BE5BB62D2@erratique.ch>
 <CAHvkLrMNNfcozFfpYNYKurOOgHg377_sPmO1b2unW8KaUtyxtA@mail.gmail.com>
 <0C0BC17BCC9F4616BAC9BAD542DE7EBD@erratique.ch>
 <CAHvkLrOd6LncePCWL5wbYmJo4OW6Cx9EE7gMGFfqH3V2FsAJLQ@mail.gmail.com>
Message-ID: <5F734E15273F40718A66198A6C68F56E@erratique.ch>

On Saturday 1 October 2016 at 14:11, Fabrice Le Fessant wrote:
> On Sat, Oct 1, 2016 at 4:05 AM Daniel B?nzli <daniel.buenzli at erratique.ch (mailto:daniel.buenzli at erratique.ch)> wrote:
> > While not granting the same rights to the contributor if you don't have a liberal (in the sense non GPL) license... What you say is a gross misrepresentation of the actual implications of the terms.
>  
> Yes, the rights are not equal, but often, the contributions are not equal either. I have written 100% of the code of opam-builder, so why shall I give you the same rights on my code, just because you might eventually contribute 10 lines ? Are you the one who will maintain the full code over time, fix bugs in the lines you added, make them evolve, and so on ? You want the same rights, but without the same duties.


Frankly I don't give a shit about what you do with your code or how you license it. Just notice that the system you setup will precisely *not* entice people to make large contributions or take over these duties.  

> We changed the license in your sense instead of introducing a CLA because you convinced everybody it was needed to increase the number of contributions.

1) The OPAM license wasn't changed in my sense, the bug of the license was fixed.
2) I never said it would increase the number of contributions. I said that CLAs were barriers to contribution [1].

> Looking at the git logs in github.com/ocaml/opam (http://github.com/ocaml/opam), the number of contributions have actually decreased since the license went more liberal...

The license didn't go more liberal, the license had a bug which was fixed so that it would correspond to the original intent.  

And about that decrease in contributions, my sincere apologies to the community, that is certainly because we didn't introduce a CLA, I'll take the blame for this.

Daniel

[1] http://lists.ocaml.org/pipermail/opam-devel/2016-January/001291.html

From yminsky at janestreet.com  Sun Oct  2 22:00:25 2016
From: yminsky at janestreet.com (Yaron Minsky)
Date: Sun, 2 Oct 2016 17:00:25 -0400
Subject: [ocaml-platform] Maintainer notifications for opam-builder --
 and other opam-builder enhancements
In-Reply-To: <5F734E15273F40718A66198A6C68F56E@erratique.ch>
References: <CAPFanBG4D5QPpJ+_6tTxOApCQtNdCoh7jso8AY_Xbi2sH-ZGsw@mail.gmail.com>
 <08CB5F26-50EC-45EC-BC50-2DB2B5EE94C5@gazagnaire.org>
 <CAPFanBGnjqEVbgPX879+mZUYJQDBd1ND9OtZj2wFrjoF3mExig@mail.gmail.com>
 <4636744F-0939-4D20-8581-AE5707DABB96@recoil.org>
 <CAPFanBFmn2gJeHJW6p4zu=0jUqpf_hbc7WvCftPciG8o8D8xdw@mail.gmail.com>
 <CAHvkLrNp+QFXPsQs+6Ui0sR2wVWhudHdYue5DC-38bpd3S0+wQ@mail.gmail.com>
 <4C6AE492-62EC-4215-863C-4EECC53C4C15@recoil.org>
 <CAHvkLrN6qB4PhWBmxtcPmYO4EOxjRToSiejwQ9Jr43a8270yFg@mail.gmail.com>
 <544E8ED0C7634FBD9A8F681BE5BB62D2@erratique.ch>
 <CAHvkLrMNNfcozFfpYNYKurOOgHg377_sPmO1b2unW8KaUtyxtA@mail.gmail.com>
 <0C0BC17BCC9F4616BAC9BAD542DE7EBD@erratique.ch>
 <CAHvkLrOd6LncePCWL5wbYmJo4OW6Cx9EE7gMGFfqH3V2FsAJLQ@mail.gmail.com>
 <5F734E15273F40718A66198A6C68F56E@erratique.ch>
Message-ID: <CACLX4jRPYGUFyfe_xKaAfsTNCi4ho+n_gV8tvkeRP3_hOhQgLw@mail.gmail.com>

Perhaps at this point a pointer to Simon Peyton Jones' recent post on
respectful discourse is in order.

https://mail.haskell.org/pipermail/haskell/2016-September/024995.html

I understand that people care deeply about these issues, but that doesn't
mean we shouldn't address them in a calm and respectful way. Discussing
these issues is hard enough without mixing harsh language into the debate.

y

On Sat, Oct 1, 2016 at 9:16 AM, Daniel B?nzli <daniel.buenzli at erratique.ch>
wrote:

> On Saturday 1 October 2016 at 14:11, Fabrice Le Fessant wrote:
> > On Sat, Oct 1, 2016 at 4:05 AM Daniel B?nzli <
> daniel.buenzli at erratique.ch (mailto:daniel.buenzli at erratique.ch)> wrote:
> > > While not granting the same rights to the contributor if you don't
> have a liberal (in the sense non GPL) license... What you say is a gross
> misrepresentation of the actual implications of the terms.
> >
> > Yes, the rights are not equal, but often, the contributions are not
> equal either. I have written 100% of the code of opam-builder, so why shall
> I give you the same rights on my code, just because you might eventually
> contribute 10 lines ? Are you the one who will maintain the full code over
> time, fix bugs in the lines you added, make them evolve, and so on ? You
> want the same rights, but without the same duties.
>
>
> Frankly I don't give a shit about what you do with your code or how you
> license it. Just notice that the system you setup will precisely *not*
> entice people to make large contributions or take over these duties.
>
> > We changed the license in your sense instead of introducing a CLA
> because you convinced everybody it was needed to increase the number of
> contributions.
>
> 1) The OPAM license wasn't changed in my sense, the bug of the license was
> fixed.
> 2) I never said it would increase the number of contributions. I said that
> CLAs were barriers to contribution [1].
>
> > Looking at the git logs in github.com/ocaml/opam (
> http://github.com/ocaml/opam), the number of contributions have actually
> decreased since the license went more liberal...
>
> The license didn't go more liberal, the license had a bug which was fixed
> so that it would correspond to the original intent.
>
> And about that decrease in contributions, my sincere apologies to the
> community, that is certainly because we didn't introduce a CLA, I'll take
> the blame for this.
>
> Daniel
>
> [1] http://lists.ocaml.org/pipermail/opam-devel/2016-January/001291.html
> _______________________________________________
> Platform mailing list
> Platform at lists.ocaml.org
> http://lists.ocaml.org/listinfo/platform
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.ocaml.org/pipermail/platform/attachments/20161002/9c1345c4/attachment.html>

From anil at recoil.org  Mon Oct  3 09:57:11 2016
From: anil at recoil.org (Anil Madhavapeddy)
Date: Mon, 3 Oct 2016 09:57:11 +0100
Subject: [ocaml-platform] Maintainer notifications for opam-builder --
	and other opam-builder enhancements
In-Reply-To: <CACLX4jRPYGUFyfe_xKaAfsTNCi4ho+n_gV8tvkeRP3_hOhQgLw@mail.gmail.com>
References: <CAPFanBG4D5QPpJ+_6tTxOApCQtNdCoh7jso8AY_Xbi2sH-ZGsw@mail.gmail.com>
 <08CB5F26-50EC-45EC-BC50-2DB2B5EE94C5@gazagnaire.org>
 <CAPFanBGnjqEVbgPX879+mZUYJQDBd1ND9OtZj2wFrjoF3mExig@mail.gmail.com>
 <4636744F-0939-4D20-8581-AE5707DABB96@recoil.org>
 <CAPFanBFmn2gJeHJW6p4zu=0jUqpf_hbc7WvCftPciG8o8D8xdw@mail.gmail.com>
 <CAHvkLrNp+QFXPsQs+6Ui0sR2wVWhudHdYue5DC-38bpd3S0+wQ@mail.gmail.com>
 <4C6AE492-62EC-4215-863C-4EECC53C4C15@recoil.org>
 <CAHvkLrN6qB4PhWBmxtcPmYO4EOxjRToSiejwQ9Jr43a8270yFg@mail.gmail.com>
 <544E8ED0C7634FBD9A8F681BE5BB62D2@erratique.ch>
 <CAHvkLrMNNfcozFfpYNYKurOOgHg377_sPmO1b2unW8KaUtyxtA@mail.gmail.com>
 <0C0BC17BCC9F4616BAC9BAD542DE7EBD@erratique.ch>
 <CAHvkLrOd6LncePCWL5wbYmJo4OW6Cx9EE7gMGFfqH3V2FsAJLQ@mail.gmail.com>
 <5F734E15273F40718A66198A6C68F56E@erratique.ch>
 <CACLX4jRPYGUFyfe_xKaAfsTNCi4ho+n_gV8tvkeRP3_hOhQgLw@mail.gmail.com>
Message-ID: <3497AB5D-61F2-481E-8AEA-701BE745B9E4@recoil.org>

I'll second this. All of us in this conversation have done a huge amount of work towards advancing the state of OCaml, and care deeply about the future of OPAM and its ecosystem. It is my hope that there is room for everyone to grow and flourish their particular visions of OPAM tooling, and discourse such as this licensing thread is important to establish a common understanding for everyone to work together under an open-source umbrella.

However, there is absolutely no room for disrespectful discourse in this community. Let's lay our arguments out rationally, and attempt to reach a consensus.  It's normal for complex issues such as CLAs and licenses to take some time to work through, and also for there to be stepping stones where we do not all agree on the right solutions.

I would like to curate this list as a place where such matters can be discussed and understood, so we are all aware of each other's efforts towards our ultimate goal of an awesome OCaml developer experience.

regards,
Anil

> On 2 Oct 2016, at 22:00, Yaron Minsky <yminsky at janestreet.com> wrote:
> 
> Perhaps at this point a pointer to Simon Peyton Jones' recent post on respectful discourse is in order.
> 
> https://mail.haskell.org/pipermail/haskell/2016-September/024995.html
> 
> I understand that people care deeply about these issues, but that doesn't mean we shouldn't address them in a calm and respectful way. Discussing these issues is hard enough without mixing harsh language into the debate.
> 
> y
> 
> On Sat, Oct 1, 2016 at 9:16 AM, Daniel B?nzli <daniel.buenzli at erratique.ch> wrote:
> On Saturday 1 October 2016 at 14:11, Fabrice Le Fessant wrote:
> > On Sat, Oct 1, 2016 at 4:05 AM Daniel B?nzli <daniel.buenzli at erratique.ch (mailto:daniel.buenzli at erratique.ch)> wrote:
> > > While not granting the same rights to the contributor if you don't have a liberal (in the sense non GPL) license... What you say is a gross misrepresentation of the actual implications of the terms.
> >
> > Yes, the rights are not equal, but often, the contributions are not equal either. I have written 100% of the code of opam-builder, so why shall I give you the same rights on my code, just because you might eventually contribute 10 lines ? Are you the one who will maintain the full code over time, fix bugs in the lines you added, make them evolve, and so on ? You want the same rights, but without the same duties.
> 
> 
> Frankly I don't give a shit about what you do with your code or how you license it. Just notice that the system you setup will precisely *not* entice people to make large contributions or take over these duties.
> 
> > We changed the license in your sense instead of introducing a CLA because you convinced everybody it was needed to increase the number of contributions.
> 
> 1) The OPAM license wasn't changed in my sense, the bug of the license was fixed.
> 2) I never said it would increase the number of contributions. I said that CLAs were barriers to contribution [1].
> 
> > Looking at the git logs in github.com/ocaml/opam (http://github.com/ocaml/opam), the number of contributions have actually decreased since the license went more liberal...
> 
> The license didn't go more liberal, the license had a bug which was fixed so that it would correspond to the original intent.
> 
> And about that decrease in contributions, my sincere apologies to the community, that is certainly because we didn't introduce a CLA, I'll take the blame for this.
> 
> Daniel
> 
> [1] http://lists.ocaml.org/pipermail/opam-devel/2016-January/001291.html
> _______________________________________________
> Platform mailing list
> Platform at lists.ocaml.org
> http://lists.ocaml.org/listinfo/platform
> 
> _______________________________________________
> Platform mailing list
> Platform at lists.ocaml.org
> http://lists.ocaml.org/listinfo/platform


From anil at recoil.org  Mon Oct  3 10:07:15 2016
From: anil at recoil.org (Anil Madhavapeddy)
Date: Mon, 3 Oct 2016 10:07:15 +0100
Subject: [ocaml-platform] new repo proposal: ocaml/ocaml-docker-infra
Message-ID: <CD689176-5D91-46C0-93A1-8D5DF038F899@recoil.org>

Dear all,

I've been maintaining Docker OCaml/OPAM images for the past year, and they are accruing an increasing numbers of users, primarily via Travis CI tests. I am therefore preparing to document and release the Docker container images and scripts to build them regularly off the ocaml.org infrastructure. The image repositories consist of:

- OCaml base images: https://hub.docker.com/r/ocaml/ocaml/
- OPAM: https://hub.docker.com/r/ocaml/opam/ (a matrix of distributions and OCaml versions)
- OPAMdev: https://hub.docker.com/r/ocaml/opam-dev/ (a snapshot of OPAM development versions, with the same distribution matrix as above).

There is currently quite a bit of infrastructure around this; each refresh of the repository will trigger off builds to construct binary images of all the distributions above, which in turn can be used by CI infrastructure such as Travis to do multi-distro builds.  The same scripts can be used against your own registries to build custom images.

The scripts to do this are all open source but currently in my personal GitHub at
https://github.com/avsm/ocaml-docker-infra/wiki

I'm proposing to move the ocaml-docker-infra repository under the ocaml/ GitHub organisation, so that it can sit alongside https://github.com/ocaml/ocaml-ci-scripts.  The license of the scripts is ISC. Please let me know if anyone has any questions or concerns.

regards,
Anil

From yminsky at janestreet.com  Mon Oct  3 10:52:14 2016
From: yminsky at janestreet.com (Yaron Minsky)
Date: Mon, 3 Oct 2016 10:52:14 +0100
Subject: [ocaml-platform] Maintainer notifications for opam-builder --
 and other opam-builder enhancements
In-Reply-To: <3497AB5D-61F2-481E-8AEA-701BE745B9E4@recoil.org>
References: <CAPFanBG4D5QPpJ+_6tTxOApCQtNdCoh7jso8AY_Xbi2sH-ZGsw@mail.gmail.com>
 <08CB5F26-50EC-45EC-BC50-2DB2B5EE94C5@gazagnaire.org>
 <CAPFanBGnjqEVbgPX879+mZUYJQDBd1ND9OtZj2wFrjoF3mExig@mail.gmail.com>
 <4636744F-0939-4D20-8581-AE5707DABB96@recoil.org>
 <CAPFanBFmn2gJeHJW6p4zu=0jUqpf_hbc7WvCftPciG8o8D8xdw@mail.gmail.com>
 <CAHvkLrNp+QFXPsQs+6Ui0sR2wVWhudHdYue5DC-38bpd3S0+wQ@mail.gmail.com>
 <4C6AE492-62EC-4215-863C-4EECC53C4C15@recoil.org>
 <CAHvkLrN6qB4PhWBmxtcPmYO4EOxjRToSiejwQ9Jr43a8270yFg@mail.gmail.com>
 <544E8ED0C7634FBD9A8F681BE5BB62D2@erratique.ch>
 <CAHvkLrMNNfcozFfpYNYKurOOgHg377_sPmO1b2unW8KaUtyxtA@mail.gmail.com>
 <0C0BC17BCC9F4616BAC9BAD542DE7EBD@erratique.ch>
 <CAHvkLrOd6LncePCWL5wbYmJo4OW6Cx9EE7gMGFfqH3V2FsAJLQ@mail.gmail.com>
 <5F734E15273F40718A66198A6C68F56E@erratique.ch>
 <CACLX4jRPYGUFyfe_xKaAfsTNCi4ho+n_gV8tvkeRP3_hOhQgLw@mail.gmail.com>
 <3497AB5D-61F2-481E-8AEA-701BE745B9E4@recoil.org>
Message-ID: <CACLX4jS6BxYyKyRoqLJgdbFLJ12CGX8kKbQ4gwO0mMuC7gBmiQ@mail.gmail.com>

As to the substance, I also have some concerns about the AGPL-variant being
used here. It combines the requirement of the AGPL to make all source code
of modifications available, along with an OCamlPro/INRIA/IRILL advertising
requirement on all web pages published. The problems I see are:

   - It's incompatible with opam and other OCaml infrastructure in terms of
   license, which makes sharing more arduous.
   - The advertising and source code obligations seem painful to manage.
   I'd personally rather just not host such a thing, rather than be exposed to
   breaking the rules by so much as trying out a patch before making it public.

OCamlPro of course has the right to license its source code however it
wants. But it's also reasonable for other contributors to refrain from
contributing and using infrastructure whose licenses they find problematic.

Personally, I believe that we should avoid having to talk about licenses by
sticking to liberal licenses for the core infrastructure, which has
informed both how Jane Street has released its own code, and the licenses
it has required for infrastructure it funds.

y

On Mon, Oct 3, 2016 at 9:57 AM, Anil Madhavapeddy <anil at recoil.org> wrote:

> I'll second this. All of us in this conversation have done a huge amount
> of work towards advancing the state of OCaml, and care deeply about the
> future of OPAM and its ecosystem. It is my hope that there is room for
> everyone to grow and flourish their particular visions of OPAM tooling, and
> discourse such as this licensing thread is important to establish a common
> understanding for everyone to work together under an open-source umbrella.
>
> However, there is absolutely no room for disrespectful discourse in this
> community. Let's lay our arguments out rationally, and attempt to reach a
> consensus.  It's normal for complex issues such as CLAs and licenses to
> take some time to work through, and also for there to be stepping stones
> where we do not all agree on the right solutions.
>
> I would like to curate this list as a place where such matters can be
> discussed and understood, so we are all aware of each other's efforts
> towards our ultimate goal of an awesome OCaml developer experience.
>
> regards,
> Anil
>
> > On 2 Oct 2016, at 22:00, Yaron Minsky <yminsky at janestreet.com> wrote:
> >
> > Perhaps at this point a pointer to Simon Peyton Jones' recent post on
> respectful discourse is in order.
> >
> > https://mail.haskell.org/pipermail/haskell/2016-September/024995.html
> >
> > I understand that people care deeply about these issues, but that
> doesn't mean we shouldn't address them in a calm and respectful way.
> Discussing these issues is hard enough without mixing harsh language into
> the debate.
> >
> > y
> >
> > On Sat, Oct 1, 2016 at 9:16 AM, Daniel B?nzli <
> daniel.buenzli at erratique.ch> wrote:
> > On Saturday 1 October 2016 at 14:11, Fabrice Le Fessant wrote:
> > > On Sat, Oct 1, 2016 at 4:05 AM Daniel B?nzli <
> daniel.buenzli at erratique.ch (mailto:daniel.buenzli at erratique.ch)> wrote:
> > > > While not granting the same rights to the contributor if you don't
> have a liberal (in the sense non GPL) license... What you say is a gross
> misrepresentation of the actual implications of the terms.
> > >
> > > Yes, the rights are not equal, but often, the contributions are not
> equal either. I have written 100% of the code of opam-builder, so why shall
> I give you the same rights on my code, just because you might eventually
> contribute 10 lines ? Are you the one who will maintain the full code over
> time, fix bugs in the lines you added, make them evolve, and so on ? You
> want the same rights, but without the same duties.
> >
> >
> > Frankly I don't give a shit about what you do with your code or how you
> license it. Just notice that the system you setup will precisely *not*
> entice people to make large contributions or take over these duties.
> >
> > > We changed the license in your sense instead of introducing a CLA
> because you convinced everybody it was needed to increase the number of
> contributions.
> >
> > 1) The OPAM license wasn't changed in my sense, the bug of the license
> was fixed.
> > 2) I never said it would increase the number of contributions. I said
> that CLAs were barriers to contribution [1].
> >
> > > Looking at the git logs in github.com/ocaml/opam (
> http://github.com/ocaml/opam), the number of contributions have actually
> decreased since the license went more liberal...
> >
> > The license didn't go more liberal, the license had a bug which was
> fixed so that it would correspond to the original intent.
> >
> > And about that decrease in contributions, my sincere apologies to the
> community, that is certainly because we didn't introduce a CLA, I'll take
> the blame for this.
> >
> > Daniel
> >
> > [1] http://lists.ocaml.org/pipermail/opam-devel/2016-January/001291.html
> > _______________________________________________
> > Platform mailing list
> > Platform at lists.ocaml.org
> > http://lists.ocaml.org/listinfo/platform
> >
> > _______________________________________________
> > Platform mailing list
> > Platform at lists.ocaml.org
> > http://lists.ocaml.org/listinfo/platform
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.ocaml.org/pipermail/platform/attachments/20161003/96288001/attachment-0001.html>

From anil at recoil.org  Mon Oct  3 11:33:43 2016
From: anil at recoil.org (Anil Madhavapeddy)
Date: Mon, 3 Oct 2016 11:33:43 +0100
Subject: [ocaml-platform] list of opam-lib users
Message-ID: <B36E3692-FB6A-4BD4-AACA-7B07D651779B@recoil.org>

Dear all,

As we move into OPAM2 release mode, there are a number of plugins and opam-lib libraries that it would be good to refresh, to ensure compatibility between both releases.  This is also a good time to update the opam web pages to make it easier to find this set of libraries.

I've created an issue at:
https://github.com/ocaml/opam/issues/2701

I'd be grateful for any comments on libraries I've missed in my search. Also, if you have developed something that isn't in OPAM, tagging and releasing it soon would make maintenance easier so that we can add upper bounds on uses of opam-lib.

regards
Anil


From anil at recoil.org  Mon Oct  3 11:48:31 2016
From: anil at recoil.org (Anil Madhavapeddy)
Date: Mon, 3 Oct 2016 11:48:31 +0100
Subject: [ocaml-platform] Improving the opam-repository issue tracker
In-Reply-To: <CAHvkLrNVx2FYGW+L_hQsqvyL8mef+kVgfBVNkW5+x-TPgvko5A@mail.gmail.com>
References: <413B2BB52EF840C39310439E3232BA2C@erratique.ch>
 <E51C5B015DBD1348A1D85763337FB6D9013520DA75@Remus.metastack.local>
 <F7EA6F2B-3C5C-4E5B-8E60-E8A580EBA135@gazagnaire.org>
 <CAPFanBFcbTnmZ9sak-CRTe-6rTpFfmjMdo9kDVnbPXiPn2CUAw@mail.gmail.com>
 <BB1A2255-52F4-4352-8309-F9A84CF61955@recoil.org>
 <CAHvkLrOXMNX9NPNOUmO9cSpJHUt8PFx++LsR4WeCkX4pzeNSsg@mail.gmail.com>
 <81F57877-33D9-4828-B71F-A05598137979@recoil.org>
 <CAHvkLrPxr5LcSe6qgmGWYx8Zo52kubQLCKzVzAmdAdectZG5tQ@mail.gmail.com>
 <14C8D0CB-E949-4BFA-A1A4-148694D32439@recoil.org>
 <CAHvkLrNVx2FYGW+L_hQsqvyL8mef+kVgfBVNkW5+x-TPgvko5A@mail.gmail.com>
Message-ID: <2F8D5554-2998-41CA-8C52-1B730ADAD93A@recoil.org>

On 30 Sep 2016, at 20:01, Fabrice Le Fessant <Fabrice.Le_fessant at inria.fr> wrote:
> 
> I feel like you are attacking me about the AGPL license of opam-builder. There are many people who have no problem contributing to free software. AGPL may scare lawyers away, in company building their business on proprietary software, as GPL used to scare Microsoft lawyers in the 90s, until they understood there was finally no problem.
> <...> 
> I think you misunderstood the difference between AGPL/GPL and BSD-like licenses: BSD-like licenses are used by companies that want you to contribute code that they will steal and use in their proprietary products, in which they hope you will be locked-in, whereas AGPL protects developers and users, by forcing companies to release their modifications, allowing users to install the software themselves and not be dependent on the companies.
> <...>
> Having opam-builder under AGPL means that anybody can run it, modify it, and benefit from the modifications done by other users... which does not sound like vender lockin to me.

I've really got no objection to OCamlPro releasing tools under the AGPL if they choose to, since their existence is a valuable contribution to the overall OPAM tooling ecosystem (opam-builder really is rather useful!)

However, we do need to be open and clear about the precise terms under which they expect contributions will to be accepted, and how it interacts with the rest of the ecosystem that is currently mostly LGPLv2 (OCaml and OPAM) and ISC/BSD/Apache2 (Mirage, Core, Bunzli's libraries) licensed . My specific request for clarifications are:

- The AGPL is a variant of the GPL, which brings in questions of static linkage to infrastructure software. Can any non GPL libraries actually be linked to opam-builder if it's full GPL?

- The license isn't actually the AGPL, since it includes further restrictions on usage of the code. To quote the license:

> All the files in this project are distributed under the terms of the
> GNU Affero General Public License (copied below), with a special
> OCamlPro-Inria-Irill attribution exception: as part of this exception,
> any webpage generated to display the results of running the tools
> distributed in this project must display the OCamlPro-Inria-Irill logo
> (http://opam.ocamlpro.com/images/opam-builder-ocamlpro-inria-irill.png)
> in its default size, linking to http://www.ocamlpro.com/.

So this leads me to ask the following questions:

- What is a "webpage generated": does it means the specific rendering of a particular URL, or does every single HTML file need to embed a logo. What if the logo is hidden due to some CSS artefact?
- Does the logo restriction apply to JSON results (are those a webpage?) if we want to use opam-builder to mechanically build and analyse results?
- What happens if ocamlpro.com goes down?  Do we lose the ability to ever run this tool again since we will be in violation of the license and be unable to display the logo as required?
- What is the license under which the logo has been released?

In general, modifying licenses to add additional restrictions always opens up these sorts of questions, since they have not been peer-reviewed by lawyers.

A glance at https://www.gnu.org/licenses/license-list.html reveals that many licenses that include an advertising clause are not classed as Free Software by the FSF, which now includes the modified AGPL used here.  It also indicates that the AGPLv3 is not compatible with the GPLv2 for some reason, but may be compatible with the LGPLv2.

regards,
Anil


From jonathan.ludlam at citrix.com  Tue Oct  4 15:10:38 2016
From: jonathan.ludlam at citrix.com (Jon Ludlam)
Date: Tue, 4 Oct 2016 15:10:38 +0100
Subject: [ocaml-platform] new repo proposal: ocaml/ocaml-docker-infra
In-Reply-To: <CD689176-5D91-46C0-93A1-8D5DF038F899@recoil.org>
References: <CD689176-5D91-46C0-93A1-8D5DF038F899@recoil.org>
Message-ID: <147559023867.14516.5927102157973402343@vivacious>

Quoting Anil Madhavapeddy (2016-10-03 10:07:15)
> Dear all,
> 
> I've been maintaining Docker OCaml/OPAM images for the past year, and they are accruing an increasing numbers of users, primarily via Travis CI tests. I am therefore preparing to document and release the Docker container images and scripts to build them regularly off the ocaml.org infrastructure. The image repositories consist of:
> 
> - OCaml base images: https://hub.docker.com/r/ocaml/ocaml/
> - OPAM: https://hub.docker.com/r/ocaml/opam/ (a matrix of distributions and OCaml versions)
> - OPAMdev: https://hub.docker.com/r/ocaml/opam-dev/ (a snapshot of OPAM development versions, with the same distribution matrix as above).
> 
> There is currently quite a bit of infrastructure around this; each refresh of the repository will trigger off builds to construct binary images of all the distributions above, which in turn can be used by CI infrastructure such as Travis to do multi-distro builds.  The same scripts can be used against your own registries to build custom images.
> 
> The scripts to do this are all open source but currently in my personal GitHub at
> https://github.com/avsm/ocaml-docker-infra/wiki
> 
> I'm proposing to move the ocaml-docker-infra repository under the ocaml/ GitHub organisation, so that it can sit alongside https://github.com/ocaml/ocaml-ci-scripts.  The license of the scripts is ISC. Please let me know if anyone has any questions or concerns.
>

This will certainly be of use to the xapi project - we're currently using a mixture of our own docker images and the ocaml-ci-scripts for our testing on Travis, but I'd feel more comfortable moving towards a more standardised set of images. There are probably some minor adaptions we'd need to make, as for a few of our repos the tests involve building RPMs, but this is mainly for our daemons. The more generic libraries we're working on should be testable just using opam, and a larger set of distros/ocaml versions to test with would be quite reassuring.

Jon  

> regards,
> Anil
> _______________________________________________
> Platform mailing list
> Platform at lists.ocaml.org
> http://lists.ocaml.org/listinfo/platform

From David.Chemouil at onera.fr  Mon Oct 17 10:50:29 2016
From: David.Chemouil at onera.fr (David CHEMOUIL)
Date: Mon, 17 Oct 2016 11:50:29 +0200
Subject: [ocaml-platform] ocp-index in user-setup
Message-ID: <5f968ee6-ebbd-73fd-94a3-a7915956bbee@onera.fr>

Dear all

I have recently switched to relying on user-setup for Emacs and I' m 
very pleased about it. However, I realized that it does not install 
ocp-index keymap as defined in 
<https://github.com/OCamlPro/ocp-index/blob/master/tools/ocp-index.el#L398>. 
Is it planned to update user-setup to deal with this?

More globally, the merlin and ocp-*  tools experience is really a huge 
improvement over the past (event though Tuareg was already very nice) 
but I think things may be misleading for newcomers or casual users:
- installing merlin and ocp-* tools directly through opam ends up with 
configuration instructions being displayed on the console by opam
- but these are different from the corresponding documentation for these 
packages (available on their respective web pages)
- and user-setup uses yet another Elisp code to setup the environment.

I guess it is quite tedious to do but getting all the standard setup 
made through user-setup would be great; both other ways could for 
instance be described explicitly on their respective web pages (and opam 
installation messages) as reserved for experts who don't want to rely on 
user-setup.

Thanks again for the good work,

dc

-- 
David Chemouil
ONERA/DTIM, Universit? de Toulouse
tel:+33-5-6225-2936
<http://www.onera.fr/staff/david-chemouil>

From David.Chemouil at onera.fr  Mon Oct 17 10:57:52 2016
From: David.Chemouil at onera.fr (David CHEMOUIL)
Date: Mon, 17 Oct 2016 11:57:52 +0200
Subject: [ocaml-platform] ocp-index in user-setup
In-Reply-To: <5f968ee6-ebbd-73fd-94a3-a7915956bbee@onera.fr>
References: <5f968ee6-ebbd-73fd-94a3-a7915956bbee@onera.fr>
Message-ID: <2a66371b-8ce4-51c6-740f-c19c6a910704@onera.fr>

Le 17/10/2016 ? 11:50, David CHEMOUIL a ?crit :
> I have recently switched to relying on user-setup for Emacs and I' m
> very pleased about it. However, I realized that it does not install
> ocp-index keymap as defined in
> <https://github.com/OCamlPro/ocp-index/blob/master/tools/ocp-index.el#L398>.
> Is it planned to update user-setup to deal with this?

Oops sorry ignore this part, it's ok :)



-- 
David Chemouil
ONERA/DTIM, Universit? de Toulouse
tel:+33-5-6225-2936
<http://www.onera.fr/staff/david-chemouil>

From louis.gesbert at ocamlpro.com  Mon Oct 17 11:12:53 2016
From: louis.gesbert at ocamlpro.com (Louis Gesbert)
Date: Mon, 17 Oct 2016 12:12:53 +0200
Subject: [ocaml-platform] ocp-index in user-setup
In-Reply-To: <5f968ee6-ebbd-73fd-94a3-a7915956bbee@onera.fr>
References: <5f968ee6-ebbd-73fd-94a3-a7915956bbee@onera.fr>
Message-ID: <2936525.MQ0jquZo0G@maitake>

Thanks! I'm glad user-setup is being useful.

About the multiple, conflicting instructions: it may not be up-to-date, but 
there is a tweak in the opam files to make them not display the instructions 
when they detect user-setup has been installed as well.

For example, ocp-index has:

    post-messages: "...instructions..." {success & !user-setup:installed}

I think it was put in merlin's definition as well, but didn't get upstream and 
was lost in the updates.

To complete this, the helper packages should mention in their doc "either 
install opam-user-setup, or follow these manual instructions". If they find 
any limitations in user-setup, I invite the maintainers of these packages to 
contribute!

Put together, these two should be enough to ease the confusion ?

Thanks for the feedback!

Louis Gesbert -- OCamlPro


PS: another option that was mentionned in the past was to provide a "starter-
kit" metapackage that would install all these tools with a simpler command.


On lundi 17 octobre 2016 11:50:29 CEST David CHEMOUIL wrote:
> Dear all
> 
> I have recently switched to relying on user-setup for Emacs and I' m
> very pleased about it. However, I realized that it does not install
> ocp-index keymap as defined in
> <https://github.com/OCamlPro/ocp-index/blob/master/tools/ocp-index.el#L398>.
> Is it planned to update user-setup to deal with this?
> 
> More globally, the merlin and ocp-*  tools experience is really a huge
> improvement over the past (event though Tuareg was already very nice)
> but I think things may be misleading for newcomers or casual users:
> - installing merlin and ocp-* tools directly through opam ends up with
> configuration instructions being displayed on the console by opam
> - but these are different from the corresponding documentation for these
> packages (available on their respective web pages)
> - and user-setup uses yet another Elisp code to setup the environment.
> 
> I guess it is quite tedious to do but getting all the standard setup
> made through user-setup would be great; both other ways could for
> instance be described explicitly on their respective web pages (and opam
> installation messages) as reserved for experts who don't want to rely on
> user-setup.
> 
> Thanks again for the good work,
> 
> dc


