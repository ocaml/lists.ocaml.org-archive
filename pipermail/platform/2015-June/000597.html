<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ocaml-platform] OPAM: signing the repository
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:platform%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-platform%5D%20OPAM%3A%20signing%20the%20repository&In-Reply-To=%3C55717E49.6010709%40cam.ac.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000596.html">
   <LINK REL="Next"  HREF="000599.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ocaml-platform] OPAM: signing the repository</H1>
    <B>David Sheets</B> 
    <A HREF="mailto:platform%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-platform%5D%20OPAM%3A%20signing%20the%20repository&In-Reply-To=%3C55717E49.6010709%40cam.ac.uk%3E"
       TITLE="[ocaml-platform] OPAM: signing the repository">dwws2 at cam.ac.uk
       </A><BR>
    <I>Fri Jun  5 11:47:37 BST 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000596.html">[ocaml-platform] OPAM: signing the repository
</A></li>
        <LI>Next message: <A HREF="000599.html">[ocaml-platform] OPAM: signing the repository
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#597">[ date ]</a>
              <a href="thread.html#597">[ thread ]</a>
              <a href="subject.html#597">[ subject ]</a>
              <a href="author.html#597">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 06/05/2015 10:59 AM, Hannes Mehnert wrote:
&gt;<i> -----BEGIN PGP SIGNED MESSAGE-----
</I>&gt;<i> Hash: SHA384
</I>&gt;<i>
</I>&gt;<i> Hi all,
</I>&gt;<i>
</I>&gt;<i> After a couple months of research and discussions between Louis
</I>&gt;<i> Gesbert and myself, the proposal for a secured OPAM repository
</I>&gt;<i> (featuring both end-to-end signing, and repository signing), is ready
</I>&gt;<i> for a wider review.
</I>
Wow! This is really nice work.

I have a few questions:

1. In your linearity invariants, you say that no key may be removed (1) 
which seems sensible even if inviting a lot of cruft eventually. Then, 
you say that keys can only be modified with a signature (5) and, as a 
special exception, removal of a developer key (exception 2) is allowed. 
What happens when these events occur? Do things get re-signed? Do 
clients have to traverse the repo history to extract old keys to verify 
signatures?

2. Are the default opam root keys compiled into the binary or on-disk? I 
interpreted it both ways from a couple of mentions throughout the doc.

3. How will the uniqueness and time-limitedness of the initial-bootstrap 
key be enforced?

4. Where are RM keys stored in the repo? in keys/dev? keys/root seems to 
contain a list of the keyid/algo/key triples for RMs but there is a 
keyid uniqueness condition...? Could you clarify the distinction between 
a keyid and an author id (<A HREF="http://lists.ocaml.org/listinfo/platform">user at host</A>)?

5. Can the dev (and RM) identities be designed for extensibility? It 
reads like the key files will just contain a list of key triples right 
now. Could these files contain a single field, e.g. &quot;keys&quot;, so that 
others could be added later? Specifically, I would like to attest to my 
GitHub user id so the signatures in the repo can be used by bots to 
authorize simple actions performed by my GitHub user (e.g. rebuild this PR).

Overall, it looks very well thought out! Thanks for putting in so much 
effort to get us this far. I'm very optimistic about this system, now.

David

&gt;<i> The result has just been posted at
</I>&gt;<i> <A HREF="https://opam.ocaml.org/blog/Signing-the-opam-repository/">https://opam.ocaml.org/blog/Signing-the-opam-repository/</A>
</I>&gt;<i>
</I>&gt;<i> This thread is intended as the official channel for comments and
</I>&gt;<i> discussion on the proposal above.
</I>&gt;<i>
</I>&gt;<i> Thanks!
</I>&gt;<i>
</I>&gt;<i> Louis Gesbert and Hannes Mehnert
</I>&gt;<i> -----BEGIN PGP SIGNATURE-----
</I>&gt;<i> Version: GnuPG v2
</I>&gt;<i>
</I>&gt;<i> iQIcBAEBCQAGBQJVcXMKAAoJELyJZYjffCju+zYQAKJKhnjkVeya4TGgDNjDaVK4
</I>&gt;<i> sgSeZaiqpEwtx7wFIFBoCmDg2s7KfJXXNxI6XmVW93PBhU4mBNT+Xzykkpw5+DcF
</I>&gt;<i> cgtXe3nJqqEqTV/fPJ7FT+uXFJqCcj5CVIzUKAtdKqnKrjU1owdJiaHVIfSXcrEb
</I>&gt;<i> hHJ2Ij1qEWeey/oBXiJrunwQ5QkkxRBQAXdtK+7j9s71ZK7UCuRGi/g1GD/ZMxTL
</I>&gt;<i> 9rMAMSnYggGUMSIhDPOJlAHXd9nHSlv0ME6zt48mQgZ8a3T3+bq/SZrlteRsbHOH
</I>&gt;<i> wJQECa62pa/EpOn57SNEqSwU0rcPKi/6BXwZ/fG4+byZdHLjet8g2zxlO+WUb3PL
</I>&gt;<i> T4y1oeKatKu06f64SU5Ty0EZnG6uABoRj963BKVfQHs1R5VCL3rVXIsdaXiBmecP
</I>&gt;<i> uth3QOehFxHN91NSm0WhMbqd7OnPetIDzpMwjGxw3b9sOzHKOx4YJhpxakYdIpU9
</I>&gt;<i> Yxb61vclRAyTYPFMucXJDjwQSVcDvp9weN5QdFkRoLB+wIwfcyiaheZGvb27O/Ia
</I>&gt;<i> 9gPyVxyO0/S9Rf7sIna5IMoIFqJ4v3J7tfoTJdk3brNftfjZ0bg1ZuolshhnA93G
</I>&gt;<i> 4lgG179pVIsfYMCpmi6II1hV23FzWOFBn4jbgM9hTvVKG+y+Ag704lXVhzygz6Gh
</I>&gt;<i> gCx+wKh/LuI+phhcesw7
</I>&gt;<i> =wOT2
</I>&gt;<i> -----END PGP SIGNATURE-----
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Platform mailing list
</I>&gt;<i> <A HREF="http://lists.ocaml.org/listinfo/platform">Platform at lists.ocaml.org</A>
</I>&gt;<i> <A HREF="http://lists.ocaml.org/listinfo/platform">http://lists.ocaml.org/listinfo/platform</A>
</I>&gt;<i>
</I>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000596.html">[ocaml-platform] OPAM: signing the repository
</A></li>
	<LI>Next message: <A HREF="000599.html">[ocaml-platform] OPAM: signing the repository
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#597">[ date ]</a>
              <a href="thread.html#597">[ thread ]</a>
              <a href="subject.html#597">[ subject ]</a>
              <a href="author.html#597">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/platform">More information about the Platform
mailing list</a><br>
</body></html>
