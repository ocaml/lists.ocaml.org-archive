<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ocaml-platform] OCamlot
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:platform%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-platform%5D%20OCamlot&In-Reply-To=%3C44382AB3-6433-45D9-A7E0-A311BCEF7E05%40cl.cam.ac.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000026.html">
   <LINK REL="Next"  HREF="000028.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ocaml-platform] OCamlot</H1>
    <B>Anil Madhavapeddy</B> 
    <A HREF="mailto:platform%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-platform%5D%20OCamlot&In-Reply-To=%3C44382AB3-6433-45D9-A7E0-A311BCEF7E05%40cl.cam.ac.uk%3E"
       TITLE="[ocaml-platform] OCamlot">avsm2 at cl.cam.ac.uk
       </A><BR>
    <I>Thu Feb 14 11:22:03 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000026.html">[ocaml-platform] OCamlot
</A></li>
        <LI>Next message: <A HREF="000028.html">[ocaml-platform] OCamlot
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27">[ date ]</a>
              <a href="thread.html#27">[ thread ]</a>
              <a href="subject.html#27">[ subject ]</a>
              <a href="author.html#27">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 14 Feb 2013, at 11:15, Sylvain Le Gall &lt;<A HREF="http://lists.ocaml.org/listinfo/platform">sylvain+ocaml at le-gall.net</A>&gt; wrote:

&gt;<i> 2013/2/13 Anil Madhavapeddy &lt;<A HREF="http://lists.ocaml.org/listinfo/platform">avsm2 at cl.cam.ac.uk</A>&gt;:
</I>&gt;&gt;<i> On 13 Feb 2013, at 22:42, Anil Madhavapeddy &lt;<A HREF="http://lists.ocaml.org/listinfo/platform">avsm2 at cl.cam.ac.uk</A>&gt; wrote:
</I>&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> Opamalot is more of a coordination service.  It interfaces with OPAM to get the (non-trivial) package database, version constraints and compiler variants out of it, and comes up with a prioritised schedule of builds and tests that need to be run on different platforms.  Some of these could (and should) run on third-party hosted services such as Travis, just to get some diversity.  Others, however, really require a Xen pool so that more exotic stuff can be done.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> It's also worth noting the difference in execution speeds for adopting a copy-on-write approach.  We  need to test 300+ packages (which will grow) across 3.12.1/4.00.0/4.00.1/4.01.0dev and experimental compiler branches, ideally without recompiling the compiler for each package.  If a package fails to build on a fast architecture (x86), it should immediately be dropped from a slow one.
</I>&gt;<i> 
</I>&gt;<i> Humm, to be honest, I will:
</I>&gt;<i> 1. limit the number of compiler version (4.00.1 or 4.01.0 when it will be out)
</I>&gt;<i> 2. limit the number of packages
</I>
The whole point of this system is to test your code on systems that you wouldn't otherwise have access to.  It's much easier to fix breakage by testing continuously against trunk compiler versions, or ARM, or MIPS, on an ongoing basis.

&gt;<i> I think 300+ packages in OPAM term is the number of tarball. Let's
</I>&gt;<i> just take either the last one or the last one that we were to build on
</I>&gt;<i> all platform. I don't want to have OUnit 1.1.0 and 2.0.0...
</I>
That's the point of prioritising builds, but remember that older versions
are often depended on by packages, and don't just disappear from the
dependency chain.

-anil
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000026.html">[ocaml-platform] OCamlot
</A></li>
	<LI>Next message: <A HREF="000028.html">[ocaml-platform] OCamlot
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27">[ date ]</a>
              <a href="thread.html#27">[ thread ]</a>
              <a href="subject.html#27">[ subject ]</a>
              <a href="author.html#27">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/platform">More information about the Platform
mailing list</a><br>
</body></html>
