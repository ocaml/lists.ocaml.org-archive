<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ocaml-platform] OCamlot
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:platform%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-platform%5D%20OCamlot&In-Reply-To=%3C8D721B24-3E90-4A5F-8BC9-9DFB3FB18BED%40cl.cam.ac.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000021.html">
   <LINK REL="Next"  HREF="000023.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ocaml-platform] OCamlot</H1>
    <B>Anil Madhavapeddy</B> 
    <A HREF="mailto:platform%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-platform%5D%20OCamlot&In-Reply-To=%3C8D721B24-3E90-4A5F-8BC9-9DFB3FB18BED%40cl.cam.ac.uk%3E"
       TITLE="[ocaml-platform] OCamlot">avsm2 at cl.cam.ac.uk
       </A><BR>
    <I>Wed Feb 13 22:53:04 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000021.html">[ocaml-platform] OCamlot
</A></li>
        <LI>Next message: <A HREF="000023.html">[ocaml-platform] OCamlot
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22">[ date ]</a>
              <a href="thread.html#22">[ thread ]</a>
              <a href="subject.html#22">[ subject ]</a>
              <a href="author.html#22">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 13 Feb 2013, at 22:42, Anil Madhavapeddy &lt;<A HREF="http://lists.ocaml.org/listinfo/platform">avsm2 at cl.cam.ac.uk</A>&gt; wrote:

&gt;<i> Opamalot is more of a coordination service.  It interfaces with OPAM to get the (non-trivial) package database, version constraints and compiler variants out of it, and comes up with a prioritised schedule of builds and tests that need to be run on different platforms.  Some of these could (and should) run on third-party hosted services such as Travis, just to get some diversity.  Others, however, really require a Xen pool so that more exotic stuff can be done.
</I>
It's also worth noting the difference in execution speeds for adopting a copy-on-write approach.  We  need to test 300+ packages (which will grow) across 3.12.1/4.00.0/4.00.1/4.01.0dev and experimental compiler branches, ideally without recompiling the compiler for each package.  If a package fails to build on a fast architecture (x86), it should immediately be dropped from a slow one.

When Jane Street issues a pull request for a new version of Core [1] we need to run these tests quickly to avoid holding up the release and prioritise that over other pull requests, since it's a high risk patch that touches a lot of other packages.

It's certainly possible to code this up in Travis, but it's certainly not part of the standard continuous build service (unless one of these does offer this -- I would be delighted to be corrected).

I tried building it as a Jenkins plugin, but frankly, life's too short for that.  I can't even get the Jenkins port to install on FreeBSD 9.1/amd64 due to some OpenJDK/JIT compile error.  And the Raspberry Pi is in even worse shape with a big hunk of RAM taken up by a Jenkins worker.

-anil


[1] <A HREF="https://github.com/OCamlPro/opam-repository/pull/382">https://github.com/OCamlPro/opam-repository/pull/382</A>
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000021.html">[ocaml-platform] OCamlot
</A></li>
	<LI>Next message: <A HREF="000023.html">[ocaml-platform] OCamlot
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22">[ date ]</a>
              <a href="thread.html#22">[ thread ]</a>
              <a href="subject.html#22">[ subject ]</a>
              <a href="author.html#22">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/platform">More information about the Platform
mailing list</a><br>
</body></html>
