<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ocaml-platform] on the need and design of OCaml namespaces
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:platform%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-platform%5D%20on%20the%20need%20and%20design%20of%20OCaml%20namespaces&In-Reply-To=%3CCACLX4jSabPvq9y4GmuYGeY_6esVvjYnYoZO4sax2d2ezTysmWg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000158.html">
   <LINK REL="Next"  HREF="000165.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ocaml-platform] on the need and design of OCaml namespaces</H1>
    <B>Yaron Minsky</B> 
    <A HREF="mailto:platform%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-platform%5D%20on%20the%20need%20and%20design%20of%20OCaml%20namespaces&In-Reply-To=%3CCACLX4jSabPvq9y4GmuYGeY_6esVvjYnYoZO4sax2d2ezTysmWg%40mail.gmail.com%3E"
       TITLE="[ocaml-platform] on the need and design of OCaml namespaces">yminsky at janestreet.com
       </A><BR>
    <I>Tue Feb 26 22:29:05 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000158.html">[ocaml-platform] on the need and design of OCaml namespaces
</A></li>
        <LI>Next message: <A HREF="000165.html">[ocaml-platform] on the need and design of OCaml namespaces
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#159">[ date ]</a>
              <a href="thread.html#159">[ thread ]</a>
              <a href="subject.html#159">[ subject ]</a>
              <a href="author.html#159">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Feb 26, 2013 at 5:17 PM, Alain Frisch &lt;<A HREF="http://lists.ocaml.org/listinfo/platform">alain.frisch at lexifi.com</A>&gt; wrote:
&gt;<i> On 2/26/2013 8:48 PM, Yaron Minsky wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> In short, I'd like to keep the things that affect the meaning of my
</I>&gt;&gt;<i> program largely in the source.  I agree that for very pervasive
</I>&gt;&gt;<i> things, like Core.Std or sexplib within Jane Street, you may want to
</I>&gt;&gt;<i> make this silently present at the build-system level.  But most of the
</I>&gt;&gt;<i> time, you want to be explicit about this kind of change to the
</I>&gt;&gt;<i> semantics of your program.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Maybe the main difference between us is this: I want to use namespaces
</I>&gt;&gt;<i> for multiple libraries, not just highly pervasive ones like Core.  You
</I>&gt;&gt;<i> think of namespaces as a thing to solve the fairly narrow problem of
</I>&gt;&gt;<i> Core.  If I thought you were right about this, I would agree with the
</I>&gt;&gt;<i> rest.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I think we agree on why we disagree.  For me, the only problem which is
</I>&gt;<i> serious enough to justify changes to the language and toolchain is about
</I>&gt;<i> name clashes (not being able to use two libraries together because they
</I>&gt;<i> happen to use identical module names).  A simple non-technical solution
</I>&gt;<i> exists today: a policy to avoid such clashes (long names). The only cases
</I>&gt;<i> where this is problematic, I believe, is for big libraries used in a
</I>&gt;<i> pervasive way, for which (i) long names become really tedious for the users;
</I>&gt;<i> (ii) module aliasing is not enough because the library has many modules.
</I>
I think the reason we disagree ties to questions of scale.  We have a
number of projects that are big enough to want to build their own
&quot;pervasive&quot; library.  For example, we have a library whose purpose is
designing trading systems.  It has its own Std and its own set of
conventions, and many thousands of lines of code built within that
world.  We also have a separate library whose purpose is building user
interfaces for trading systems.  It too has its own Std and its own
conventions that it wants to standardize on.

Namespace control becomes a real issue in this world quite quickly.  A
solution designed for one hulking Stdlib replacement doesn't address
enough of the problem space.

And I don't think these scale issues are Jane Street only.  A big part
of the goal of the work we're putting in to OCamlLabs and Real World
OCaml and these working groups is to really grow the OCaml community,
and for that, OCaml needs to get good at programming-in-the-large.  I
think good namespace control is a key part of doing that right.

&gt;<i> I think this is fairly limited and can be solved by very light
</I>&gt;<i> additions to the toolchain, allowing basically to define &quot;user-land
</I>&gt;<i> stdlibs&quot; (with a context-dependent definition of what a stdlib is).
</I>&gt;<i> I consider other use cases and &quot;required&quot; features of namespaces as
</I>&gt;<i> nice to have (or not) but not important enough to justify any
</I>&gt;<i> serious addition to the language definition and adaptation of
</I>&gt;<i> existing tools, especially when we are talking about breaking some
</I>&gt;<i> current invariants and properties on which some existing users might
</I>&gt;<i> rely.
</I>
I understand where you're coming from, but I don't think it's the
right decision for the future of the language.  I think this is case
where OCaml can and should change.

y
</PRE>




























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000158.html">[ocaml-platform] on the need and design of OCaml namespaces
</A></li>
	<LI>Next message: <A HREF="000165.html">[ocaml-platform] on the need and design of OCaml namespaces
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#159">[ date ]</a>
              <a href="thread.html#159">[ thread ]</a>
              <a href="subject.html#159">[ subject ]</a>
              <a href="author.html#159">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/platform">More information about the Platform
mailing list</a><br>
</body></html>
