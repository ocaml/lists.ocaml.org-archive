<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ocaml-platform] on the need and design of OCaml namespaces
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:platform%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-platform%5D%20on%20the%20need%20and%20design%20of%20OCaml%20namespaces&In-Reply-To=%3CCAPFanBEidBch_3gjDhafDcMA%2BT5ubSU1bt2N6O4y8-hto5XsuQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000053.html">
   <LINK REL="Next"  HREF="000055.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ocaml-platform] on the need and design of OCaml namespaces</H1>
    <B>Gabriel Scherer</B> 
    <A HREF="mailto:platform%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-platform%5D%20on%20the%20need%20and%20design%20of%20OCaml%20namespaces&In-Reply-To=%3CCAPFanBEidBch_3gjDhafDcMA%2BT5ubSU1bt2N6O4y8-hto5XsuQ%40mail.gmail.com%3E"
       TITLE="[ocaml-platform] on the need and design of OCaml namespaces">gabriel.scherer at gmail.com
       </A><BR>
    <I>Thu Feb 21 16:12:16 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000053.html">[ocaml-platform] on the need and design of OCaml namespaces
</A></li>
        <LI>Next message: <A HREF="000055.html">[ocaml-platform] on the need and design of OCaml namespaces
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54">[ date ]</a>
              <a href="thread.html#54">[ thread ]</a>
              <a href="subject.html#54">[ subject ]</a>
              <a href="author.html#54">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>So in this case you would have to look for list.cmi, std.cmi then core.cmi
(if you don't know which are namespaces, and which are actual compilation
unit names).

One problem with this proposal is that the compiler has no knowledge of the
set of &quot;existing&quot; namespaces. This combines very badly with the
module/namespace syntactic ambiguity: when you write &quot;open Lsit&quot; (List,
with a typo), the compiler will silently accept the opening of the Lsit
namespace. I formalized this semantics in an earlier proposal, but Fabrice
noticed that this was quite bad from an user interface point of view, and
further proposals used a model with &quot;existing&quot; namespaces and
&quot;non-existing&quot; namespaces -- in the current proposal linked above, the
compiler consults an explicit hierarchical mapping.
(Removing the syntactic ambiguity makes this slightly less of a problem,
but it's still a pain to not be warned of namespace typos.)

On Thu, Feb 21, 2013 at 5:01 PM, Leo White &lt;<A HREF="http://lists.ocaml.org/listinfo/platform">lpw25 at cam.ac.uk</A>&gt; wrote:

&gt;<i> On Feb 21 2013, Gabriel Scherer wrote:
</I>&gt;<i>
</I>&gt;<i>  How would one specify which search path is associated to a given namespace
</I>&gt;&gt;<i> path (eg. Core.Std)? Is it easy to integrate into ocamlfind?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i> .cmi files would be looked up exactly as they are now, using the search
</I>&gt;<i> path specified with -I options. The only difference is that when it finds a
</I>&gt;<i> &quot;list.cmi&quot; file it checks if that file is attached to &quot;Core.Std&quot;. If the
</I>&gt;<i> file is attached to that namespace then it is used, otherwise the compiler
</I>&gt;<i> keeps looking in the search path for more &quot;list.cmi&quot; files.
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ocaml.org/pipermail/platform/attachments/20130221/74ec3e7e/attachment-0001.html">http://lists.ocaml.org/pipermail/platform/attachments/20130221/74ec3e7e/attachment-0001.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000053.html">[ocaml-platform] on the need and design of OCaml namespaces
</A></li>
	<LI>Next message: <A HREF="000055.html">[ocaml-platform] on the need and design of OCaml namespaces
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54">[ date ]</a>
              <a href="thread.html#54">[ thread ]</a>
              <a href="subject.html#54">[ subject ]</a>
              <a href="author.html#54">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/platform">More information about the Platform
mailing list</a><br>
</body></html>
