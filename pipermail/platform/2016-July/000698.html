<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ocaml-platform] Is it taking too long for OCaml software to become 4.03-compatible? Would release process changes help?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:platform%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-platform%5D%20Is%20it%20taking%20too%20long%20for%20OCaml%20software%20to%0A%20become%204.03-compatible%3F%20Would%20release%20process%20changes%20help%3F&In-Reply-To=%3Cd0d1ce39-1a2d-58eb-e50d-fa6516743a36%40frisch.fr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000697.html">
   <LINK REL="Next"  HREF="000699.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ocaml-platform] Is it taking too long for OCaml software to become 4.03-compatible? Would release process changes help?</H1>
    <B>Alain Frisch</B> 
    <A HREF="mailto:platform%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-platform%5D%20Is%20it%20taking%20too%20long%20for%20OCaml%20software%20to%0A%20become%204.03-compatible%3F%20Would%20release%20process%20changes%20help%3F&In-Reply-To=%3Cd0d1ce39-1a2d-58eb-e50d-fa6516743a36%40frisch.fr%3E"
       TITLE="[ocaml-platform] Is it taking too long for OCaml software to become 4.03-compatible? Would release process changes help?">alain at frisch.fr
       </A><BR>
    <I>Fri Jul  1 10:54:50 BST 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="000697.html">[ocaml-platform] Is it taking too long for OCaml software to become 4.03-compatible? Would release process changes help?
</A></li>
        <LI>Next message: <A HREF="000699.html">[ocaml-platform] Is it taking too long for OCaml software to become 4.03-compatible? Would release process changes help?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#698">[ date ]</a>
              <a href="thread.html#698">[ thread ]</a>
              <a href="subject.html#698">[ subject ]</a>
              <a href="author.html#698">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 01/07/2016 11:10, Fabrice Le Fessant wrote:
&gt;<i> About that part of the discussion, I am really against any additional
</I>&gt;<i> constraint that would delay a release of OCaml. We waited for years
</I>&gt;<i> before deciding to have a regular release schedule (every 6 months), and
</I>&gt;<i> now, everybody tries to delay releases for various reasons. So, yes to
</I>&gt;<i> more monitoring of the compatibility of platform packages with trunk and
</I>&gt;<i> beta-releases, but no to delaying the release because of platform
</I>&gt;<i> packages being late to meet compatibility.
</I>
I fully agree.  The responsibility of the core team is to ensure the 
quality of the core distribution and to provide some clear and reliable 
information about the release cycle.  Each package maintainer is then 
responsible for ensuring their package work correctly, in a timely 
manner.  Then, if some groups want to create more stable subsets (your 
idea of a stable opam repository, or the &quot;platform&quot;), they would be 
responsible for managing the life-cycle and the stability of their subsets.

&gt;<i>     Do you have a description of OPAM-builder current strategy?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> For the strategy, it is the same as OPAM's standard strategy, i.e. it
</I>&gt;<i> tries to match your query while minimizing the number of installed
</I>&gt;<i> packages. That's the reason why it prefers `ppx_deriving.3.3` to
</I>&gt;<i> `ppx_deriving.4.0` (that have an additional requirement to `result`).
</I>
Weird.  I tried again from an empty 4.03 switch and I get:

$ opam install ppx_type_conv

The following actions will be performed:
   &#8727;  install ocamlbuild    0.9.2              [required by ppx_type_conv]
   &#8727;  install ocamlfind     1.6.2              [required by ppx_type_conv]
   &#8727;  install result        1.2                [required by ppx_deriving]
   &#8727;  install ppx_tools     5.0+4.03.0         [required by ppx_type_conv]
   &#8727;  install cppo          1.3.2              [required by ppx_deriving]
   &#8727;  install ppx_core      113.33.01+4.03     [required by ppx_type_conv]
   &#8727;  install ppx_deriving  4.0                [required by ppx_type_conv]
   &#8727;  install ppx_optcomp   113.33.00+4.03     [required by ppx_driver]
   &#8727;  install ppx_driver    113.33.01+4.03     [required by ppx_type_conv]
   &#8727;  install ppx_type_conv 113.33.01+4.03

(which leads to a failure)

If I install ppx_deriving.3.3 manually, I get ocamlbuild, ocamlfind, 
cppo, ppx_tools, ppx_deriving, and then &quot;opam install ppx_type_conv&quot; 
suggests to install: ppx_core, ppx_optcomp, ppx_driver, ppx_type_conv. 
And this succeeds.  So the solver did not suggest in my case the path 
with fewer installed packages.  And I don't think that I ever tweaked 
the OPAM strategy.



Alain
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000697.html">[ocaml-platform] Is it taking too long for OCaml software to become 4.03-compatible? Would release process changes help?
</A></li>
	<LI>Next message: <A HREF="000699.html">[ocaml-platform] Is it taking too long for OCaml software to become 4.03-compatible? Would release process changes help?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#698">[ date ]</a>
              <a href="thread.html#698">[ thread ]</a>
              <a href="subject.html#698">[ subject ]</a>
              <a href="author.html#698">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/platform">More information about the Platform
mailing list</a><br>
</body></html>
