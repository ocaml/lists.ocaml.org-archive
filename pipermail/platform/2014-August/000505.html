<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ocaml-platform] Centos 6 OPAM Make Madness
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:platform%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-platform%5D%20Centos%206%20OPAM%20Make%20Madness&In-Reply-To=%3C2446D975-1798-435A-9A14-ECD883E36351%40recoil.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000504.html">
   <LINK REL="Next"  HREF="000511.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ocaml-platform] Centos 6 OPAM Make Madness</H1>
    <B>Anil Madhavapeddy</B> 
    <A HREF="mailto:platform%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-platform%5D%20Centos%206%20OPAM%20Make%20Madness&In-Reply-To=%3C2446D975-1798-435A-9A14-ECD883E36351%40recoil.org%3E"
       TITLE="[ocaml-platform] Centos 6 OPAM Make Madness">anil at recoil.org
       </A><BR>
    <I>Thu Aug 14 14:02:57 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="000504.html">[ocaml-platform] Centos 6 OPAM Make Madness
</A></li>
        <LI>Next message: <A HREF="000511.html">[ocaml-platform] Centos 6 OPAM Make Madness
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#505">[ date ]</a>
              <a href="thread.html#505">[ thread ]</a>
              <a href="subject.html#505">[ subject ]</a>
              <a href="author.html#505">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Splendid timing.  We've just completed binary snapshots of OPAM 1.2beta on CentOS, so you should be able to try it out here:

<A HREF="http://software.opensuse.org/download.html?project=home%3Aocaml&amp;package=opam">http://software.opensuse.org/download.html?project=home%3Aocaml&amp;package=opam</A>

If that works for you, the OPAM 1.2 final release will be in a couple of weeks (assuming there are no blocking bugs).

-anil

On 14 Aug 2014, at 13:33, Michael Peters &lt;<A HREF="http://lists.ocaml.org/listinfo/platform">michael.peters at lazarusalliance.com</A>&gt; wrote:

&gt;<i> I am running: CentOS release 6.4 (Final) (x86_64) and attempting to install opam-full-1.1.1 without success. I first installed ocaml-4.01.0 which seems to have gone along fine.
</I>&gt;<i>  
</I>&gt;<i> Configure for opam-full-1.1.1 runs without complaint.
</I>&gt;<i>  
</I>&gt;<i> checking for gcc... gcc
</I>&gt;<i> checking whether the C compiler works... yes
</I>&gt;<i> checking for C compiler default output file name... a.out
</I>&gt;<i> checking for suffix of executables...
</I>&gt;<i> checking whether we are cross compiling... no
</I>&gt;<i> checking for suffix of object files... o
</I>&gt;<i> checking whether we are using the GNU C compiler... yes
</I>&gt;<i> checking whether gcc accepts -g... yes
</I>&gt;<i> checking for gcc option to accept ISO C89... none needed
</I>&gt;<i> checking for ocamlc... ocamlc
</I>&gt;<i> OCaml version is 4.01.0
</I>&gt;<i> OCaml library path is /usr/local/lib/ocaml
</I>&gt;<i> checking for ocamlopt... ocamlopt
</I>&gt;<i> checking for ocamlc.opt... ocamlc.opt
</I>&gt;<i> checking for ocamlopt.opt... ocamlopt.opt
</I>&gt;<i> checking for ocaml... ocaml
</I>&gt;<i> checking for ocamldep... ocamldep
</I>&gt;<i> checking for ocamlmktop... ocamlmktop
</I>&gt;<i> checking for ocamlmklib... ocamlmklib
</I>&gt;<i> checking for ocamldoc... ocamldoc
</I>&gt;<i> checking for ocamlbuild... ocamlbuild
</I>&gt;<i> checking for camlp4... camlp4
</I>&gt;<i> checking for camlp4o... camlp4o
</I>&gt;<i> checking for camlp4of... camlp4of
</I>&gt;<i> checking for camlp4oof... camlp4oof
</I>&gt;<i> checking for camlp4orf... camlp4orf
</I>&gt;<i> checking for camlp4prof... camlp4prof
</I>&gt;<i> checking for camlp4r... camlp4r
</I>&gt;<i> checking for camlp4rf... camlp4rf
</I>&gt;<i> checking for gawk... gawk
</I>&gt;<i> checking for curl... curl
</I>&gt;<i> configure: creating ./config.status
</I>&gt;<i> config.status: creating Makefile.config
</I>&gt;<i> config.status: creating src/core/opamVersion.ml
</I>&gt;<i> config.status: creating doc/man-ext/opam-check.md
</I>&gt;<i> Executables will be installed in /usr/local/bin
</I>&gt;<i> Manual pages will be installed in /usr/local/share/man
</I>&gt;<i>  
</I>&gt;<i> It&#8217;s when I run Make that I get:
</I>&gt;<i>  
</I>&gt;<i> make -C ocp-build
</I>&gt;<i> make[1]: Entering directory `/usr/local/src/opam-full-1.1.1/ocp-build'
</I>&gt;<i> awk '{ print &quot;external &quot;$1&quot;: unit -&gt; unit = \&quot;&quot; $1 &quot;\&quot;&quot; }' primitives &gt; primitives.ml
</I>&gt;<i> ocamlc -o ocp-build.run -custom -make-runtime win32_c.c primitives.ml unix.cma  -cclib -lunix
</I>&gt;<i> cat ocp-build.run ocp-build.boot &gt; ocp-build
</I>&gt;<i> chmod +x ocp-build
</I>&gt;<i> ./ocp-build -help &gt;/dev/null 2&gt;&amp;1
</I>&gt;<i> make[1]: Leaving directory `/usr/local/src/opam-full-1.1.1/ocp-build'
</I>&gt;<i> make -C ocp-build
</I>&gt;<i> make[1]: Entering directory `/usr/local/src/opam-full-1.1.1/ocp-build'
</I>&gt;<i> make[1]: `ocp-build' is up to date.
</I>&gt;<i> make[1]: Leaving directory `/usr/local/src/opam-full-1.1.1/ocp-build'
</I>&gt;<i> sed 's/@VERSION@/1.1.1/g' &lt; META.in &gt; META
</I>&gt;<i> make clone
</I>&gt;<i> make[1]: Entering directory `/usr/local/src/opam-full-1.1.1'
</I>&gt;<i> make -C src_ext
</I>&gt;<i> make[2]: Entering directory `/usr/local/src/opam-full-1.1.1/src_ext'
</I>&gt;<i> curl  -OL <A HREF="https://gforge.inria.fr/frs/download.php/31910/cudf-0.6.3.tar.gz">https://gforge.inria.fr/frs/download.php/31910/cudf-0.6.3.tar.gz</A>
</I>&gt;<i>   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
</I>&gt;<i>                                  Dload  Upload   Total   Spent    Left  Speed
</I>&gt;<i> 100 52907  100 52907    0     0  27042      0  0:00:01  0:00:01 --:--:-- 66051
</I>&gt;<i> ocaml ../shell/md5check.ml cudf-0.6.3.tar.gz 40c4e2c50ea96d0c9e565db16d20639a
</I>&gt;<i> cudf-0.6.3.tar.gz has the expected MD5.
</I>&gt;<i> tar xfz cudf-0.6.3.tar.gz
</I>&gt;<i> rm -rf cudf
</I>&gt;<i> mv cudf-0.6.3 cudf
</I>&gt;<i> curl  -OL <A HREF="http://ocaml-extlib.googlecode.com/files/extlib-1.5.3.tar.gz">http://ocaml-extlib.googlecode.com/files/extlib-1.5.3.tar.gz</A>
</I>&gt;<i>  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
</I>&gt;<i>                                  Dload  Upload   Total   Spent    Left  Speed
</I>&gt;<i> 100 70897  100 70897    0     0   200k      0 --:--:-- --:--:-- --:--:--  279k
</I>&gt;<i> ocaml ../shell/md5check.ml extlib-1.5.3.tar.gz 3de5f4e0a95fda7b2f3819c4a655b17c
</I>&gt;<i> extlib-1.5.3.tar.gz has the expected MD5.
</I>&gt;<i> tar xfz extlib-1.5.3.tar.gz
</I>&gt;<i> rm -rf extlib
</I>&gt;<i> mv extlib-1.5.3 extlib
</I>&gt;<i> curl  -OL <A HREF="https://github.com/ocaml/ocaml-re/archive/ocaml-re-1.2.0.tar.gz">https://github.com/ocaml/ocaml-re/archive/ocaml-re-1.2.0.tar.gz</A>
</I>&gt;<i>   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
</I>&gt;<i>                                  Dload  Upload   Total   Spent    Left  Speed
</I>&gt;<i> 100 82965  100 82965    0     0  88116      0 --:--:-- --:--:-- --:--:--  537k
</I>&gt;<i> ocaml ../shell/md5check.ml ocaml-re-1.2.0.tar.gz 5cbfc137683ef2b0e91f931577f2e673
</I>&gt;<i> ocaml-re-1.2.0.tar.gz has the expected MD5.
</I>&gt;<i> tar xfz ocaml-re-1.2.0.tar.gz
</I>&gt;<i> mv ocaml-re-ocaml-re-1.2.0 ocaml-re
</I>&gt;<i> # curl  -OL <A HREF="http://ocamlgraph.lri.fr/download/ocamlgraph-1.8.1.tar.gz">http://ocamlgraph.lri.fr/download/ocamlgraph-1.8.1.tar.gz</A>
</I>&gt;<i> curl  -OL <A HREF="http://pkgs.fedoraproject.org/repo/pkgs/ocaml-ocamlgraph/ocamlgraph-1.8.1.tar.gz/5aa256e9587a6d264d189418230af698/ocamlgraph-1.8.1.tar.gz">http://pkgs.fedoraproject.org/repo/pkgs/ocaml-ocamlgraph/ocamlgraph-1.8.1.tar.gz/5aa256e9587a6d264d189418230af698/ocamlgraph-1.8.1.tar.gz</A>
</I>&gt;<i>   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
</I>&gt;<i>                                  Dload  Upload   Total   Spent    Left  Speed
</I>&gt;<i> 100  246k  100  246k    0     0   403k      0 --:--:-- --:--:-- --:--:--  561k
</I>&gt;<i> ocaml ../shell/md5check.ml ocamlgraph-1.8.1.tar.gz 5aa256e9587a6d264d189418230af698
</I>&gt;<i> ocamlgraph-1.8.1.tar.gz has the expected MD5.
</I>&gt;<i> tar xfz ocamlgraph-1.8.1.tar.gz
</I>&gt;<i> rm -rf ocamlgraph
</I>&gt;<i> mv ocamlgraph-1.8.1 ocamlgraph
</I>&gt;<i> curl  -OL <A HREF="https://gforge.inria.fr/frs/download.php/31595/dose3-3.1.2.tar.gz">https://gforge.inria.fr/frs/download.php/31595/dose3-3.1.2.tar.gz</A>
</I>&gt;<i>   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
</I>&gt;<i>                                  Dload  Upload   Total   Spent    Left  Speed
</I>&gt;<i> 100  244k  100  244k    0     0   119k      0  0:00:02  0:00:02 --:--:--  174k
</I>&gt;<i> ocaml ../shell/md5check.ml dose3-3.1.2.tar.gz e98ff720fcc3873def46c85c6a980a1b
</I>&gt;<i> dose3-3.1.2.tar.gz has the expected MD5.
</I>&gt;<i> tar xfz dose3-3.1.2.tar.gz
</I>&gt;<i> cd dose3-3.1.2 &amp;&amp; patch -p1  &lt; ../dose-pcre2re.diff &amp;&amp; patch -p1 &lt; ../dose-mktemp.diff &amp;&amp; patch -p1 &lt; ../dose-quotecriteria.diff &amp;&amp; cd ..
</I>&gt;<i> patching file common/cudfAdd.ml
</I>&gt;<i> patching file common/extBenchmark.ml
</I>&gt;<i> patching file common/tests.ml
</I>&gt;<i> patching file deb/apt.ml
</I>&gt;<i> patching file deb/version.ml
</I>&gt;<i> patching file eclipse/version.ml
</I>&gt;<i> patching file opencsw/packages.ml
</I>&gt;<i> patching file rpm/packages.ml
</I>&gt;<i> patching file deb/edsp.ml
</I>&gt;<i> patching file opencsw/version.ml
</I>&gt;<i> patching file common/cudfSolver.ml
</I>&gt;<i> Hunk #1 succeeded at 27 with fuzz 1.
</I>&gt;<i> patch unexpectedly ends in middle of line
</I>&gt;<i> patch unexpectedly ends in middle of line
</I>&gt;<i> patching file common/cudfSolver.ml
</I>&gt;<i> patching file common/cudfSolver.ml
</I>&gt;<i> rm -rf dose
</I>&gt;<i> mv dose3-3.1.2 dose
</I>&gt;<i> curl  -OL <A HREF="http://erratique.ch/software/cmdliner/releases/cmdliner-0.9.3.tbz">http://erratique.ch/software/cmdliner/releases/cmdliner-0.9.3.tbz</A>
</I>&gt;<i>   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
</I>&gt;<i>                                  Dload  Upload   Total   Spent    Left  Speed
</I>&gt;<i> 100 75031  100 75031    0     0  90394      0 --:--:-- --:--:-- --:--:--  128k
</I>&gt;<i> ocaml ../shell/md5check.ml cmdliner-0.9.3.tbz d63dd3b03966d65fc242246859c831c7
</I>&gt;<i> cmdliner-0.9.3.tbz has the expected MD5.
</I>&gt;<i> tar xfj cmdliner-0.9.3.tbz
</I>&gt;<i> rm -rf cmdliner
</I>&gt;<i> mv cmdliner-0.9.3 cmdliner
</I>&gt;<i> cp depends.ocp.boot depends.ocp
</I>&gt;<i> make[2]: Leaving directory `/usr/local/src/opam-full-1.1.1/src_ext'
</I>&gt;<i> make[1]: Leaving directory `/usr/local/src/opam-full-1.1.1'
</I>&gt;<i> make compile
</I>&gt;<i> make[1]: Entering directory `/usr/local/src/opam-full-1.1.1'
</I>&gt;<i> make -C ocp-build
</I>&gt;<i> make[2]: Entering directory `/usr/local/src/opam-full-1.1.1/ocp-build'
</I>&gt;<i> make[2]: `ocp-build' is up to date.
</I>&gt;<i> make[2]: Leaving directory `/usr/local/src/opam-full-1.1.1/ocp-build'
</I>&gt;<i> ocaml shell/get-git-id.ml src/core/opamGitVersion.ml
</I>&gt;<i> ocaml shell/crunch.ml &quot;complete&quot;     &lt; shell/opam_completion.sh &gt; src/core/opamScript.ml
</I>&gt;<i> ocaml shell/crunch.ml &quot;complete_zsh&quot; &lt; shell/opam_completion_zsh.sh &gt;&gt; src/core/opamScript.ml
</I>&gt;<i> ocaml shell/crunch.ml &quot;switch_eval&quot;  &lt; shell/opam_switch_eval.sh &gt;&gt; src/core/opamScript.ml
</I>&gt;<i> ./ocp-build/ocp-build -no-use-ocamlfind -init -scan
</I>&gt;<i> Updating ocp-build.root
</I>&gt;<i> File &quot;/usr/local/src/opam-full-1.1.1/opam/src/core/core.ocp&quot;, line 1, characters -1--1:
</I>&gt;<i> Error: in project &quot;opam-core&quot;, the source filename
</I>&gt;<i>         &quot;opam/src/core/opamScript.ml&quot; does not exist
</I>&gt;<i> RULE 980 (state active)
</I>&gt;<i>                 SOURCE opam/src/core/opamScript.ml(not available)
</I>&gt;<i>                 SOURCE _obuild/opam-core/opamScript.mlmods ok(not available)
</I>&gt;<i>         /usr/local/bin/ocamlopt.opt -g -g -w +a-4-9-32-41-44-45 -warn-error +1..45 -bin-annot -c -o ${temp}/opamScript.cmx -I ./_obuild/opam-core -I ./opam/src/core -I ./_obuild/dose -I ./src_ext -I ./_obuild/cudf -I ./_obuild/re_str -I ./_obuild/re_pcre -I ./_obuild/re_perl -I ./_obuild/re_emacs -I ./_obuild/re_glob -I ./_obuild/re -I ./_obuild/graph -I /usr/local/lib/ocaml -I ./_obuild/extlib opam/src/core/opamScript.ml
</I>&gt;<i>         Rename ${temp}/opamScript.cmi to _obuild/opam-core/opamScript.cmi
</I>&gt;<i>         Rename ${temp}/opamScript.cmx to _obuild/opam-core/opamScript.cmx
</I>&gt;<i>         Rename ${temp}/opamScript.o to _obuild/opam-core/opamScript.o
</I>&gt;<i>                 TARGET _obuild/opam-core/opamScript.cmi
</I>&gt;<i>                 TARGET _obuild/opam-core/opamScript.o
</I>&gt;<i>                 TARGET _obuild/opam-core/opamScript.cmx
</I>&gt;<i> make[1]: *** [compile] Error 2
</I>&gt;<i> make[1]: Leaving directory `/usr/local/src/opam-full-1.1.1'
</I>&gt;<i> make: *** [all] Error 2
</I>&gt;<i>  
</I>&gt;<i> I&#8217;m not sure where to look for a solution and help would be very much appreciated.
</I>&gt;<i>  
</I>&gt;<i> Best regards,
</I>&gt;<i>  
</I>&gt;<i> Michael
</I>&gt;<i>  
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Platform mailing list
</I>&gt;<i> <A HREF="http://lists.ocaml.org/listinfo/platform">Platform at lists.ocaml.org</A>
</I>&gt;<i> <A HREF="http://lists.ocaml.org/listinfo/platform">http://lists.ocaml.org/listinfo/platform</A>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ocaml.org/pipermail/platform/attachments/20140814/31759422/attachment-0001.html">http://lists.ocaml.org/pipermail/platform/attachments/20140814/31759422/attachment-0001.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000504.html">[ocaml-platform] Centos 6 OPAM Make Madness
</A></li>
	<LI>Next message: <A HREF="000511.html">[ocaml-platform] Centos 6 OPAM Make Madness
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#505">[ date ]</a>
              <a href="thread.html#505">[ thread ]</a>
              <a href="subject.html#505">[ subject ]</a>
              <a href="author.html#505">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/platform">More information about the Platform
mailing list</a><br>
</body></html>
