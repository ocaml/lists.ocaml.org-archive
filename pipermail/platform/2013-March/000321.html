<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ocaml-platform] Changes to my previous proposal for namespaces
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:platform%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-platform%5D%20Changes%20to%20my%20previous%20proposal%20for%20namespaces&In-Reply-To=%3CCACLX4jSNGtx3Rh%3D4y_u2sUYXGh-zNgLg1y72WRVE5BPYOK3CSQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000317.html">
   <LINK REL="Next"  HREF="000323.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ocaml-platform] Changes to my previous proposal for namespaces</H1>
    <B>Yaron Minsky</B> 
    <A HREF="mailto:platform%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-platform%5D%20Changes%20to%20my%20previous%20proposal%20for%20namespaces&In-Reply-To=%3CCACLX4jSNGtx3Rh%3D4y_u2sUYXGh-zNgLg1y72WRVE5BPYOK3CSQ%40mail.gmail.com%3E"
       TITLE="[ocaml-platform] Changes to my previous proposal for namespaces">yminsky at janestreet.com
       </A><BR>
    <I>Mon Mar 18 16:43:49 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000317.html">[ocaml-platform] Changes to my previous proposal for namespaces
</A></li>
        <LI>Next message: <A HREF="000323.html">[ocaml-platform] Changes to my previous proposal for namespaces
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#321">[ date ]</a>
              <a href="thread.html#321">[ thread ]</a>
              <a href="subject.html#321">[ subject ]</a>
              <a href="author.html#321">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Mar 18, 2013 at 12:18 PM, Leo White &lt;<A HREF="http://lists.ocaml.org/listinfo/platform">lpw25 at cam.ac.uk</A>&gt; wrote:
&gt;&gt;<i> Just to be clear, do you agree with Gabriel's claim that that
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> open namespace A
</I>&gt;&gt;<i> open namespace B
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> will open A#Pervasives and then open B#Pervasives?
</I>&gt;<i>
</I>&gt;<i> Yes
</I>&gt;<i>
</I>&gt;&gt;<i> As to your larger point, I basically disagree that the possibility of
</I>&gt;&gt;<i> shadowing implied by (1) is something to be avoided.  Module opens
</I>&gt;&gt;<i> behave this way, and within Jane Street we've used them extensively,
</I>&gt;&gt;<i> using limited, purposeful shadowing, for a decade, and to good effect
</I>&gt;&gt;<i> as far as I can tell.
</I>&gt;<i>
</I>&gt;<i> Shadowing is fine if the order of definitions is well specified. For
</I>&gt;<i> example, module opens are clearly ordered by their position in the
</I>&gt;<i> source file.
</I>&gt;<i>
</I>&gt;<i> The problem is with shadowing where the order between definitions is not
</I>&gt;<i> well specified.
</I>
I would argue that this should push us towards making namespace-opens
well-defined in order by default.  I think that opening namespaces on
the command-line should be viewed as a largely second-class operation,
and it would make sense in my mind to restrict it to a single
namespace, which goes before everything else.

&gt;<i> It is useful to be able to specify a namespace across multiple
</I>&gt;<i> locations, for instance within two separate search path files. The
</I>&gt;<i> ordering between &quot;automatically opened modules&quot; specified across these
</I>&gt;<i> multiple locations will not be well specified (probably depending on the
</I>&gt;<i> workings of your build system). This makes shadowing much riskier.
</I>
I see.  This is low on my list of priorities.  I would be happy to
require namespaces to be specified all at once in a single location.
That would ensure that namespaces always have a unique definition,
which seems to make life simpler.

But in any case, as long as namespace opens are well-defined and the
namespaces are well defined at the time of the open, I don't see the
problem.  I would be perfectly happy for all module opens to happen
after all module aliases in a namespace if that simplifies matters.

&gt;&gt;<i> I basically don't see where your belief that automatically opened
</I>&gt;&gt;<i> modules are semantically problematic and uncomposeable arises from.
</I>&gt;&gt;<i> Certainly, my experience with packed modules argues in the other
</I>&gt;&gt;<i> direction. Do you propose to delete the possibility of shadowing from
</I>&gt;&gt;<i> the module language as well?
</I>&gt;<i>
</I>&gt;<i> Modules are defined in a single location, and can only be composed using
</I>&gt;<i> &quot;include&quot; statements. These include statements have a clearly defined
</I>&gt;<i> ordering.
</I>
Why can't we have the same clear ordering everywhere for namespaces?
What's wrong with having namespaces take on the same kind of ordered
semantics that modules have?

My main criticism of all of this line of thinking is that it seems
like we're looking for a break of semantics between namespaces and
modules, rather than accepting such a break to the degree it comes
necessary.

y
</PRE>























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000317.html">[ocaml-platform] Changes to my previous proposal for namespaces
</A></li>
	<LI>Next message: <A HREF="000323.html">[ocaml-platform] Changes to my previous proposal for namespaces
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#321">[ date ]</a>
              <a href="thread.html#321">[ thread ]</a>
              <a href="subject.html#321">[ subject ]</a>
              <a href="author.html#321">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/platform">More information about the Platform
mailing list</a><br>
</body></html>
