<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ocaml-platform] Changes to my previous proposal for namespaces
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:platform%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-platform%5D%20Changes%20to%20my%20previous%20proposal%20for%20namespaces&In-Reply-To=%3C87zjy0zkgy.fsf%40kingston.cl.cam.ac.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000321.html">
   <LINK REL="Next"  HREF="000324.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ocaml-platform] Changes to my previous proposal for namespaces</H1>
    <B>Leo White</B> 
    <A HREF="mailto:platform%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-platform%5D%20Changes%20to%20my%20previous%20proposal%20for%20namespaces&In-Reply-To=%3C87zjy0zkgy.fsf%40kingston.cl.cam.ac.uk%3E"
       TITLE="[ocaml-platform] Changes to my previous proposal for namespaces">lpw25 at cam.ac.uk
       </A><BR>
    <I>Mon Mar 18 17:27:57 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000321.html">[ocaml-platform] Changes to my previous proposal for namespaces
</A></li>
        <LI>Next message: <A HREF="000324.html">[ocaml-platform] Changes to my previous proposal for namespaces
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#323">[ date ]</a>
              <a href="thread.html#323">[ thread ]</a>
              <a href="subject.html#323">[ subject ]</a>
              <a href="author.html#323">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;&gt;<i> The problem is with shadowing where the order between definitions is not
</I>&gt;&gt;<i> well specified.
</I>&gt;<i>
</I>&gt;<i> I would argue that this should push us towards making namespace-opens
</I>&gt;<i> well-defined in order by default.  I think that opening namespaces on
</I>&gt;<i> the command-line should be viewed as a largely second-class operation,
</I>&gt;<i> and it would make sense in my mind to restrict it to a single
</I>&gt;<i> namespace, which goes before everything else.
</I>&gt;<i>
</I>
While the order of command-line namespace opens is another area where
shadowing may be risky, they are not what I am referring to here.

&gt;&gt;<i> It is useful to be able to specify a namespace across multiple
</I>&gt;&gt;<i> locations, for instance within two separate search path files. The
</I>&gt;&gt;<i> ordering between &quot;automatically opened modules&quot; specified across these
</I>&gt;&gt;<i> multiple locations will not be well specified (probably depending on the
</I>&gt;&gt;<i> workings of your build system). This makes shadowing much riskier.
</I>&gt;<i>
</I>&gt;<i> I see.  This is low on my list of priorities.  I would be happy to
</I>&gt;<i> require namespaces to be specified all at once in a single location.
</I>&gt;<i> That would ensure that namespaces always have a unique definition,
</I>&gt;<i> which seems to make life simpler.
</I>
Only for supporting multiple &quot;automatically opened modules&quot;.

&gt;<i> But in any case, as long as namespace opens are well-defined and the
</I>&gt;<i> namespaces are well defined at the time of the open, I don't see the
</I>&gt;<i> problem.  
</I>
Namespaces opens will be well-defined in the sense that they will have
some kind of order. But that order may well depend on the workings of
their build system, so they are not well defined in any meaningful
sense.

&gt;&gt;&gt;<i> I basically don't see where your belief that automatically opened
</I>&gt;&gt;&gt;<i> modules are semantically problematic and uncomposeable arises from.
</I>&gt;&gt;&gt;<i> Certainly, my experience with packed modules argues in the other
</I>&gt;&gt;&gt;<i> direction. Do you propose to delete the possibility of shadowing from
</I>&gt;&gt;&gt;<i> the module language as well?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Modules are defined in a single location, and can only be composed using
</I>&gt;&gt;<i> &quot;include&quot; statements. These include statements have a clearly defined
</I>&gt;&gt;<i> ordering.
</I>&gt;<i>
</I>&gt;<i> Why can't we have the same clear ordering everywhere for namespaces?
</I>&gt;<i> What's wrong with having namespaces take on the same kind of ordered
</I>&gt;<i> semantics that modules have?
</I>
This would require namespaces to have closed definitions. This would
require a completely different model from the one I have proposed. It
would be less flexible, less powerful, less lightweight, and probably
harder to use. In exchange you would be able to safely define multiple
auto-opened modules for each namespace (which I don't think anyone has
actually asked for).

&gt;<i> My main criticism of all of this line of thinking is that it seems
</I>&gt;<i> like we're looking for a break of semantics between namespaces and
</I>&gt;<i> modules, rather than accepting such a break to the degree it comes
</I>&gt;<i> necessary.
</I>
A closed definition is one of the constraints forced on modules by their
need to be represented at run-time as a record. One of the motivations
for namespaces is to provide a system for containing modules that is not
bound by these restrictions. I don't see it as looking for a break with
the semantics of modules, so much as implementing a more flexible
semantics than what is possible with modules.


</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000321.html">[ocaml-platform] Changes to my previous proposal for namespaces
</A></li>
	<LI>Next message: <A HREF="000324.html">[ocaml-platform] Changes to my previous proposal for namespaces
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#323">[ date ]</a>
              <a href="thread.html#323">[ thread ]</a>
              <a href="subject.html#323">[ subject ]</a>
              <a href="author.html#323">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/platform">More information about the Platform
mailing list</a><br>
</body></html>
