<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ocaml-platform] Followup to Leo's proposal
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:platform%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-platform%5D%20Followup%20to%20Leo%27s%20proposal&In-Reply-To=%3C87li9sl36w.fsf%40study.localdomain%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000262.html">
   <LINK REL="Next"  HREF="000264.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ocaml-platform] Followup to Leo's proposal</H1>
    <B>Leo White</B> 
    <A HREF="mailto:platform%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-platform%5D%20Followup%20to%20Leo%27s%20proposal&In-Reply-To=%3C87li9sl36w.fsf%40study.localdomain%3E"
       TITLE="[ocaml-platform] Followup to Leo's proposal">lpw25 at cam.ac.uk
       </A><BR>
    <I>Tue Mar 12 21:26:47 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000262.html">[ocaml-platform] Followup to Leo's proposal
</A></li>
        <LI>Next message: <A HREF="000264.html">[ocaml-platform] Followup to Leo's proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#261">[ date ]</a>
              <a href="thread.html#261">[ thread ]</a>
              <a href="subject.html#261">[ subject ]</a>
              <a href="author.html#261">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> I have no objection to specifying that Core#Common should be connected
</I>&gt;<i> to the Core package within the build system.  But it's important to us
</I>&gt;<i> that namespace manipulations be observable by the programmer by
</I>&gt;<i> reading the code.  If I understand correctly, Leo's proposal involves
</I>&gt;<i> stashing that away in the build system, which undermines that goal.
</I>
To be clear, I'm only proposing to stash default opens in the build
system, as oposed to stashing them in the namespace system. I think this
makes sense since it is about controlling the initial naming environment
of a program, just like the search path.

&gt;<i> Another thing which may not be obvious is that one sometimes in the
</I>&gt;<i> same file wants to access just Core.Std in some scopes in the file,
</I>&gt;<i> and Async.Std in other scopes.  
</I>
Do any of the values or types opened automatically by Async conflict
with those opened automatically by Core? If there aren't then opening
the default modules globally shouldn't be a problem. 

&gt;<i> Full control of the namespace is
</I>&gt;<i> important, and something we do at multiple scopes within a file.
</I>&gt;<i> Being able to control this only at the file level, and only from
</I>&gt;<i> within the build system, is a poor match for our needs.
</I>
You can always control it more explcitly by using Core#Common and
Async#Common directly to ensure that the right values are used in the
right scopes.

&gt;<i> If the proposal lands in the way Leo describes, I would think we would
</I>&gt;<i> write a ppx extension that, for a certain whitelist of namespaces,
</I>&gt;<i> would convert:
</I>&gt;<i>
</I>&gt;<i>    open namespace Core
</I>&gt;<i>
</I>&gt;<i> into
</I>&gt;<i>
</I>&gt;<i>    open namespace Core
</I>&gt;<i>    open Core#Common
</I>
That seems reasonable. 

&gt;<i> Given that this is easy enough to do at the ppx level, I find it hard
</I>&gt;<i> to see what difficulties would be raised by integrating this with the
</I>&gt;<i> namespace system.  
</I>
I think the awkwardness is more related to how you treat things like:

   Core#Foo

where Foo might be a sub-module of Core#Common. 
</PRE>























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000262.html">[ocaml-platform] Followup to Leo's proposal
</A></li>
	<LI>Next message: <A HREF="000264.html">[ocaml-platform] Followup to Leo's proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#261">[ date ]</a>
              <a href="thread.html#261">[ thread ]</a>
              <a href="subject.html#261">[ subject ]</a>
              <a href="author.html#261">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/platform">More information about the Platform
mailing list</a><br>
</body></html>
