<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;Sorry&nbsp;for&nbsp;the&nbsp;multiple&nbsp;posts.&nbsp;I&nbsp;see&nbsp;now&nbsp;my&nbsp;previous&nbsp;post&nbsp;would&nbsp;not&nbsp;work,&nbsp;because&nbsp;it&nbsp;was&nbsp;asking&nbsp;to&nbsp;only&nbsp;update&nbsp;the&nbsp;repo&nbsp;(opam&nbsp;update&nbsp;&lt;repo&gt;)&nbsp;and&nbsp;not&nbsp;the&nbsp;package&nbsp;(opam&nbsp;update&nbsp;&lt;package).&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Will&nbsp;post&nbsp;again&nbsp;once&nbsp;a&nbsp;get&nbsp;a&nbsp;full&nbsp;working&nbsp;solution&nbsp;of&nbsp;what&nbsp;I&nbsp;want&nbsp;to&nbsp;do.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Trevor&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;May&nbsp;19,&nbsp;2015&nbsp;at&nbsp;1:42&nbsp;PM,&nbsp;Trevor&nbsp;Smith&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:trevorsummerssmith@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;trevorsummerssmith@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;I&nbsp;see&nbsp;this&nbsp;works&nbsp;with&nbsp;a&nbsp;pin&nbsp;just&nbsp;not&nbsp;with&nbsp;a&nbsp;package&nbsp;due&nbsp;to&nbsp;the&nbsp;url&nbsp;to&nbsp;the&nbsp;source&nbsp;repo&nbsp;not&nbsp;having&nbsp;this&nbsp;same&nbsp;functionality&nbsp;currently.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;So&nbsp;this&nbsp;is&nbsp;why&nbsp;people&nbsp;have&nbsp;the&nbsp;per-package&nbsp;pins&nbsp;--&nbsp;which&nbsp;is&nbsp;a&nbsp;lot&nbsp;of&nbsp;overhead.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;It&nbsp;seems&nbsp;to&nbsp;me&nbsp;the&nbsp;only&nbsp;workaround&nbsp;that&nbsp;allows&nbsp;package&nbsp;B&nbsp;to&nbsp;state&nbsp;it&nbsp;wants&nbsp;package&nbsp;A&nbsp;to&nbsp;always&nbsp;be&nbsp;updated&nbsp;is&nbsp;to&nbsp;have&nbsp;either&nbsp;a)&nbsp;per-package&nbsp;pin-file&nbsp;or&nbsp;b)&nbsp;per-package&nbsp;repo.&nbsp;Both&nbsp;of&nbsp;these&nbsp;workaround&nbsp;seem&nbsp;very&nbsp;not&nbsp;ideal&nbsp;as&nbsp;it&nbsp;requires&nbsp;the&nbsp;dependencies&nbsp;for&nbsp;a&nbsp;package&nbsp;to&nbsp;live&nbsp;in&nbsp;multiple&nbsp;files.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Any&nbsp;other&nbsp;thoughts&nbsp;on&nbsp;workarounds&nbsp;for&nbsp;this?&nbsp;Louis&nbsp;I&nbsp;hear&nbsp;your&nbsp;point&nbsp;about&nbsp;wanting&nbsp;not&nbsp;a&nbsp;lot&nbsp;of&nbsp;magic&nbsp;in&nbsp;the&nbsp;core&nbsp;commands.&nbsp;However&nbsp;it&nbsp;seems&nbsp;to&nbsp;me&nbsp;that&nbsp;this&nbsp;is&nbsp;a&nbsp;use&nbsp;case&nbsp;that&nbsp;isn&#39;t&nbsp;currently&nbsp;covered&nbsp;by&nbsp;the&nbsp;system,&nbsp;and,&nbsp;again&nbsp;seems&nbsp;to&nbsp;be&nbsp;very&nbsp;useful.&lt;br&gt;&lt;/div&gt;&lt;span&nbsp;class=&quot;&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13.200000762939453px&quot;&gt;There&nbsp;is&nbsp;also&nbsp;a&nbsp;technical&nbsp;issue&nbsp;with&nbsp;what&nbsp;you&nbsp;propose:&nbsp;solving&nbsp;an&nbsp;installation&nbsp;is&nbsp;based&nbsp;on&nbsp;the&nbsp;current&nbsp;--&nbsp;static&nbsp;--&nbsp;metadata.&nbsp;So&nbsp;that&nbsp;metadata&nbsp;can&#39;t&nbsp;depend&nbsp;on&nbsp;updating&nbsp;other&nbsp;metadata,&nbsp;or&nbsp;resolving&nbsp;an&nbsp;installation&nbsp;would&nbsp;become&nbsp;a&nbsp;nightmare.&nbsp;That&nbsp;doesn&#39;t&nbsp;apply,&nbsp;though,&nbsp;if&nbsp;you&nbsp;only&nbsp;update&nbsp;the&nbsp;package&nbsp;source&nbsp;and&nbsp;not&nbsp;its&nbsp;metadata&nbsp;(like&nbsp;would&nbsp;be&nbsp;done&nbsp;with&nbsp;a&nbsp;repository&nbsp;package&nbsp;pointing&nbsp;to&nbsp;a&nbsp;VC&nbsp;repository,&nbsp;as&nbsp;opposed&nbsp;to&nbsp;a&nbsp;pinned&nbsp;package)&nbsp;--&nbsp;it&nbsp;would&nbsp;be&nbsp;much&nbsp;easier&nbsp;to&nbsp;handle&nbsp;in&nbsp;that&nbsp;case,&nbsp;although&nbsp;it&nbsp;could&nbsp;become&nbsp;a&nbsp;bit&nbsp;inconsistent.&lt;/span&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/span&gt;&lt;div&gt;By&nbsp;inconsistent,&nbsp;do&nbsp;you&nbsp;mean&nbsp;functionally,&nbsp;because&nbsp;the&nbsp;VC&nbsp;repo&nbsp;would&nbsp;be&nbsp;updated&nbsp;regularly,&nbsp;and&nbsp;the&nbsp;rest&nbsp;of&nbsp;the&nbsp;meta-data&nbsp;wouldn&#39;t? &lt;/div&gt;&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Trevor&lt;/div&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;May&nbsp;19,&nbsp;2015&nbsp;at&nbsp;1:16&nbsp;PM,&nbsp;Trevor&nbsp;Smith&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:trevorsummerssmith@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;trevorsummerssmith@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Louis,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;for&nbsp;your&nbsp;responses.&nbsp;Apologies&nbsp;for&nbsp;my&nbsp;late&nbsp;response.&nbsp;I&nbsp;only&nbsp;just&nbsp;got&nbsp;time&nbsp;to&nbsp;try&nbsp;this&nbsp;all&nbsp;out.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;tried&nbsp;out&nbsp;the&nbsp;workarounds&nbsp;but&nbsp;am&nbsp;not&nbsp;seeing&nbsp;it&nbsp;pick&nbsp;up&nbsp;new&nbsp;commits&nbsp;made&nbsp;to&nbsp;a&nbsp;git&nbsp;repo.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Example&nbsp;(not&nbsp;using&nbsp;dependencies):&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;1)&nbsp;Create&nbsp;package&nbsp;&quot;foo&quot;&nbsp;in&nbsp;a&nbsp;custom&nbsp;repo&nbsp;&quot;my-repo&quot;.&nbsp;With&nbsp;url&nbsp;file&nbsp;set&nbsp;to&nbsp;a&nbsp;git&nbsp;repo.&lt;/div&gt;&lt;div&gt;2)&nbsp;Add&nbsp;repo.&lt;/div&gt;&lt;div&gt;3)&nbsp;opam&nbsp;install&nbsp;foo&lt;/div&gt;&lt;div&gt;4)&nbsp;Make&nbsp;new&nbsp;commit&nbsp;and&nbsp;push&nbsp;to&nbsp;foo&#39;s&nbsp;repo&lt;/div&gt;&lt;div&gt;&lt;following&nbsp;your&nbsp;suggested&nbsp;workflow&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;5)&nbsp;opam&nbsp;update&nbsp;-u&nbsp;my-repo&lt;/div&gt;&lt;div&gt;&lt;this&nbsp;returns&nbsp;Everything&nbsp;as&nbsp;up-to-date&nbsp;as&nbsp;possible.&gt;&lt;/div&gt;&lt;div&gt;6)&nbsp;opam&nbsp;install&nbsp;foo&lt;/div&gt;&lt;div&gt;&lt;package&nbsp;is&nbsp;already&nbsp;installed&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;think&nbsp;I&nbsp;am&nbsp;missing&nbsp;something&nbsp;from&nbsp;your&nbsp;suggestions&nbsp;--&nbsp;perhaps&nbsp;this&nbsp;is&nbsp;clearly&nbsp;not&nbsp;going&nbsp;to&nbsp;work&nbsp;because&nbsp;OPAM&nbsp;does&nbsp;not&nbsp;ever&nbsp;check&nbsp;the&nbsp;upstream&nbsp;git&nbsp;repo?).&nbsp;Was&nbsp;that&nbsp;workflow&nbsp;meant&nbsp;to&nbsp;only&nbsp;work&nbsp;with&nbsp;a&nbsp;pinned&nbsp;version?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks.&lt;/div&gt;&lt;span&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Trevor&lt;/div&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Sun,&nbsp;May&nbsp;10,&nbsp;2015&nbsp;at&nbsp;11:13&nbsp;PM,&nbsp;Louis&nbsp;Gesbert&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:louis.gesbert@ocamlpro.com&quot;&nbsp;target=&quot;_blank&quot;&gt;louis.gesbert@ocamlpro.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;span&gt;&gt;&nbsp;1)&nbsp;I&nbsp;think&nbsp;that&nbsp;`opam&nbsp;update&nbsp;-u&nbsp;&lt;my-internal-repo&gt;`&nbsp;and&nbsp;then&nbsp;`opam&nbsp;upgrade`&lt;br&gt;<br>
&gt;&nbsp;would&nbsp;indeed&nbsp;do&nbsp;what&nbsp;I&nbsp;need&nbsp;as&nbsp;a&nbsp;workaround.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/span&gt;`update&nbsp;-u`&nbsp;is&nbsp;&quot;update&nbsp;then&nbsp;upgrade&quot;&nbsp;so&nbsp;no&nbsp;need&nbsp;for&nbsp;the&nbsp;upgrade&nbsp;afterwards&nbsp;:)&lt;br&gt;<br>
&lt;span&gt;&lt;br&gt;<br>
&gt;&nbsp;The&nbsp;incidental&nbsp;complexity&nbsp;the&nbsp;it&nbsp;creates&nbsp;isn&#39;t&nbsp;that&nbsp;big&nbsp;of&nbsp;a&nbsp;deal&nbsp;for&lt;br&gt;<br>
&gt;&nbsp;one-offs&nbsp;on&nbsp;my&nbsp;box,&nbsp;but&nbsp;when&nbsp;managing&nbsp;a&nbsp;team&nbsp;of&nbsp;devs,&nbsp;and&nbsp;build&nbsp;boxes&nbsp;one&lt;br&gt;<br>
&gt;&nbsp;wants&nbsp;something&nbsp;straightforward.&lt;br&gt;<br>
&gt;&nbsp;It&nbsp;seems&nbsp;though&nbsp;that&nbsp;to&nbsp;make&nbsp;that&nbsp;work&nbsp;with&nbsp;the&nbsp;build&nbsp;system&nbsp;and&nbsp;to&nbsp;not&lt;br&gt;<br>
&gt;&nbsp;have&nbsp;unintended&nbsp;updates&nbsp;one&nbsp;would&nbsp;then&nbsp;need&nbsp;2&nbsp;internal&nbsp;dev&nbsp;repos&nbsp;--&nbsp;one&lt;br&gt;<br>
&gt;&nbsp;that&nbsp;had&nbsp;all&nbsp;of&nbsp;the&nbsp;git&nbsp;versioned&nbsp;ones,&nbsp;and&nbsp;another&nbsp;repo&nbsp;that&nbsp;had&nbsp;your&lt;br&gt;<br>
&gt;&nbsp;normal&nbsp;x.y.z&nbsp;versions.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/span&gt;Not&nbsp;sure&nbsp;I&nbsp;get&nbsp;what&nbsp;you&nbsp;are&nbsp;after&nbsp;exactly,&nbsp;but&nbsp;you&nbsp;could&nbsp;also&nbsp;put&nbsp;both&nbsp;version&nbsp;in&nbsp;the&nbsp;same&nbsp;repository!&nbsp;Making&nbsp;separate&nbsp;repositories&nbsp;would&nbsp;be&nbsp;useful&nbsp;if&nbsp;you&nbsp;want&nbsp;to&nbsp;easily&nbsp;configure&nbsp;hosts&nbsp;for&nbsp;the&nbsp;dev&nbsp;or&nbsp;release&nbsp;versions.&lt;br&gt;<br>
&lt;span&gt;&lt;br&gt;<br>
&gt;&nbsp;2)&nbsp;I&nbsp;like&nbsp;my&nbsp;suggested&nbsp;solution&nbsp;better&nbsp;because&nbsp;I&nbsp;think&nbsp;it&nbsp;adds&nbsp;no&lt;br&gt;<br>
&gt;&nbsp;incidental&nbsp;complexity&nbsp;--&nbsp;one&nbsp;has&nbsp;to&nbsp;describe&nbsp;what&nbsp;needs&nbsp;describing&nbsp;(ie&nbsp;&quot;I&lt;br&gt;<br>
&gt;&nbsp;want&nbsp;this&nbsp;dependency&nbsp;always&nbsp;updated&quot;),&nbsp;and&nbsp;no&nbsp;extra&nbsp;lifecycle&nbsp;commands&nbsp;(ie&lt;br&gt;<br>
&gt;&nbsp;no&nbsp;explicit&nbsp;&quot;update&quot;&nbsp;after&nbsp;one&nbsp;has&nbsp;already&nbsp;pushed&nbsp;code).&nbsp;And&nbsp;adds&nbsp;a&nbsp;clear&lt;br&gt;<br>
&gt;&nbsp;functionality&nbsp;to&nbsp;the&nbsp;tool.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Agreed&nbsp;that&nbsp;updating&nbsp;a&nbsp;ton&nbsp;of&nbsp;packages&nbsp;could&nbsp;take&nbsp;a&nbsp;while&nbsp;--&nbsp;but&nbsp;having&nbsp;a&lt;br&gt;<br>
&gt;&nbsp;clear&nbsp;tool&nbsp;(as&nbsp;in&nbsp;what&nbsp;I&nbsp;am&nbsp;suggesting)&nbsp;to&nbsp;define&nbsp;that&nbsp;gives&nbsp;the&nbsp;user&nbsp;that&lt;br&gt;<br>
&gt;&nbsp;flexibility&nbsp;--&nbsp;it&#39;s&nbsp;my&nbsp;fault&nbsp;if&nbsp;I&#39;ve&nbsp;decided&nbsp;to&nbsp;have&nbsp;100&nbsp;&quot;alpha&quot;&nbsp;packages.&lt;br&gt;<br>
&gt;&nbsp;I&#39;ve&nbsp;asked&nbsp;for&nbsp;it.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;So&nbsp;I&#39;m&nbsp;clear&nbsp;--&nbsp;are&nbsp;you&nbsp;saying&nbsp;that&nbsp;due&nbsp;to&nbsp;how&nbsp;updates&nbsp;are&nbsp;currently&nbsp;dealt&lt;br&gt;<br>
&gt;&nbsp;with&nbsp;within&nbsp;opam&nbsp;that&nbsp;the&nbsp;feature&nbsp;I&#39;m&nbsp;suggesting&nbsp;probably&nbsp;would&nbsp;not&nbsp;happen?&lt;br&gt;<br>
&gt;&nbsp;(I&nbsp;haven&#39;t&nbsp;taken&nbsp;a&nbsp;look&nbsp;at&nbsp;how&nbsp;opam&nbsp;works).&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/span&gt;Granted,&nbsp;there&nbsp;is&nbsp;already&nbsp;the&nbsp;mentionned-pinned-package-auto-update&nbsp;trick,&nbsp;but&nbsp;it&#39;s&nbsp;quite&nbsp;limited&nbsp;in&nbsp;scope&nbsp;--&nbsp;I&nbsp;think&nbsp;it&#39;s&nbsp;good&nbsp;design&nbsp;otherwise&nbsp;to&nbsp;keep&nbsp;matters&nbsp;separate&nbsp;and&nbsp;provide&nbsp;atomic&nbsp;commands:&nbsp;the&nbsp;update&nbsp;of&nbsp;the&nbsp;internal&nbsp;metadata,&nbsp;and&nbsp;the&nbsp;installation&nbsp;of&nbsp;packages,&nbsp;are&nbsp;clearly&nbsp;distinct&nbsp;operations&nbsp;in&nbsp;OPAM.&nbsp;Higher-level&nbsp;operations&nbsp;can&nbsp;easily&nbsp;be&nbsp;built&nbsp;on&nbsp;top&nbsp;of&nbsp;it,&nbsp;and&nbsp;possibly&nbsp;added&nbsp;to&nbsp;OPAM,&nbsp;but&nbsp;we&nbsp;shouldn&#39;t&nbsp;put&nbsp;too&nbsp;much&nbsp;magic&nbsp;in&nbsp;the&nbsp;base&nbsp;operations:&nbsp;that&nbsp;makes&nbsp;things&nbsp;more&nbsp;difficult&nbsp;to&nbsp;handle,&nbsp;to&nbsp;understand&nbsp;and&nbsp;to&nbsp;debug.&lt;br&gt;<br>
&lt;br&gt;<br>
There&nbsp;is&nbsp;also&nbsp;a&nbsp;technical&nbsp;issue&nbsp;with&nbsp;what&nbsp;you&nbsp;propose:&nbsp;solving&nbsp;an&nbsp;installation&nbsp;is&nbsp;based&nbsp;on&nbsp;the&nbsp;current&nbsp;--&nbsp;static&nbsp;--&nbsp;metadata.&nbsp;So&nbsp;that&nbsp;metadata&nbsp;can&#39;t&nbsp;depend&nbsp;on&nbsp;updating&nbsp;other&nbsp;metadata,&nbsp;or&nbsp;resolving&nbsp;an&nbsp;installation&nbsp;would&nbsp;become&nbsp;a&nbsp;nightmare.&nbsp;That&nbsp;doesn&#39;t&nbsp;apply,&nbsp;though,&nbsp;if&nbsp;you&nbsp;only&nbsp;update&nbsp;the&nbsp;package&nbsp;source&nbsp;and&nbsp;not&nbsp;its&nbsp;metadata&nbsp;(like&nbsp;would&nbsp;be&nbsp;done&nbsp;with&nbsp;a&nbsp;repository&nbsp;package&nbsp;pointing&nbsp;to&nbsp;a&nbsp;VC&nbsp;repository,&nbsp;as&nbsp;opposed&nbsp;to&nbsp;a&nbsp;pinned&nbsp;package)&nbsp;--&nbsp;it&nbsp;would&nbsp;be&nbsp;much&nbsp;easier&nbsp;to&nbsp;handle&nbsp;in&nbsp;that&nbsp;case,&nbsp;although&nbsp;it&nbsp;could&nbsp;become&nbsp;a&nbsp;bit&nbsp;inconsistent.&lt;br&gt;<br>
&lt;br&gt;<br>
With&nbsp;the&nbsp;fixes&nbsp;I&nbsp;mentionned&nbsp;earlier,&nbsp;a&nbsp;possibility&nbsp;would&nbsp;be&nbsp;to&nbsp;add&nbsp;a&nbsp;`--update-dev`&nbsp;option&nbsp;to&nbsp;`install`&nbsp;and&nbsp;`upgrade`,&nbsp;meaning&nbsp;something&nbsp;like:&lt;br&gt;<br>
`opam&nbsp;install&nbsp;--update-dev&nbsp;foo`:&nbsp;get&nbsp;all&nbsp;installed&nbsp;development&nbsp;packages&nbsp;transitively&nbsp;related&nbsp;to&nbsp;`foo`&nbsp;(dependencies&nbsp;or&nbsp;dependent),&nbsp;update&nbsp;them&nbsp;first,&nbsp;then&nbsp;proceed&nbsp;with&nbsp;the&nbsp;installation,&nbsp;recompiling&nbsp;changed&nbsp;ones.&lt;br&gt;<br>
&lt;br&gt;<br>
For&nbsp;`install`,&nbsp;this&nbsp;would&nbsp;be&nbsp;more&nbsp;or&nbsp;less&nbsp;similar&nbsp;to&nbsp;`opam&nbsp;install&nbsp;foo&nbsp;$(opam&nbsp;list&nbsp;--rec&nbsp;--required-by&nbsp;foo)`,&nbsp;once&nbsp;we&nbsp;implement&nbsp;the&nbsp;changes&nbsp;to&nbsp;do&nbsp;related&nbsp;recompilations&nbsp;on&nbsp;install.&lt;br&gt;<br>
&lt;br&gt;<br>
Does&nbsp;that&nbsp;make&nbsp;sense&nbsp;?&lt;br&gt;<br>
&lt;br&gt;<br>
Best,&lt;br&gt;<br>
Louis&lt;br&gt;<br>
&lt;div&gt;&lt;div&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Thanks.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Trevor&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;On&nbsp;Sun,&nbsp;May&nbsp;10,&nbsp;2015&nbsp;at&nbsp;9:07&nbsp;PM,&nbsp;Louis&nbsp;Gesbert&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:louis.gesbert@ocamlpro.com&quot;&nbsp;target=&quot;_blank&quot;&gt;louis.gesbert@ocamlpro.com&lt;/a&gt;&gt;&lt;br&gt;<br>
&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;OPAM&nbsp;normally&nbsp;never&nbsp;updates&nbsp;its&nbsp;metadata&nbsp;outside&nbsp;of&nbsp;`opam&nbsp;update`;&nbsp;this&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;was&nbsp;inconvenient&nbsp;for&nbsp;pins,&nbsp;so&nbsp;a&nbsp;trick&nbsp;was&nbsp;added:&nbsp;when&nbsp;a&nbsp;pinned&nbsp;package&nbsp;is&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;mentionned&nbsp;explicitely&nbsp;on&nbsp;an&nbsp;install&nbsp;command-line,&nbsp;it&nbsp;is&nbsp;first&nbsp;updated&nbsp;from&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;its&nbsp;upstream.&nbsp;Updating&nbsp;all&nbsp;the&nbsp;time&nbsp;could&nbsp;get&nbsp;very&nbsp;slow&nbsp;if&nbsp;you&nbsp;have&nbsp;many&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;packages&nbsp;pinned&nbsp;to&nbsp;their&nbsp;upstream,&nbsp;for&nbsp;example&nbsp;(like&nbsp;I&nbsp;do).&lt;br&gt;<br>
&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;As&nbsp;for&nbsp;reinstallations,&nbsp;OPAM&nbsp;does&nbsp;the&nbsp;minimum&nbsp;reinstallations&nbsp;to&nbsp;guarantee&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;consistency,&nbsp;i.e.&nbsp;it&nbsp;recompiles&nbsp;only&nbsp;packages&nbsp;that&nbsp;depend&nbsp;on&nbsp;a&nbsp;changed&nbsp;one&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;--&nbsp;not&nbsp;the&nbsp;other&nbsp;way&nbsp;around.&nbsp;It&nbsp;will,&nbsp;however,&nbsp;mark&nbsp;packages&nbsp;that&nbsp;were&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;changed&nbsp;after&nbsp;an&nbsp;update&nbsp;for&nbsp;reinstallation.&nbsp;This&nbsp;should&nbsp;work&nbsp;in&nbsp;a&nbsp;similar&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;way&nbsp;for&nbsp;repository&nbsp;and&nbsp;pinned&nbsp;packages.&nbsp;However,&nbsp;that&nbsp;reinstallation&nbsp;will&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;only&nbsp;take&nbsp;place&nbsp;on&nbsp;an&nbsp;`opam&nbsp;upgrade`&nbsp;without&nbsp;argument;&nbsp;it&nbsp;would&nbsp;probably&nbsp;be&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;an&nbsp;improvement&nbsp;to&nbsp;process&nbsp;it&nbsp;as&nbsp;soon&nbsp;as&nbsp;it&nbsp;belongs&nbsp;to&nbsp;the&nbsp;dependency&nbsp;cone&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;of&nbsp;changed&nbsp;packages.&lt;br&gt;<br>
&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;Now&nbsp;for&nbsp;the&nbsp;dirty&nbsp;(and&nbsp;not&nbsp;really&nbsp;working)&nbsp;workarounds:&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;1.&nbsp;`alias&nbsp;opam=&quot;opam&nbsp;update&nbsp;--dev;&nbsp;opam&quot;`.&nbsp;(this&nbsp;would&nbsp;work&nbsp;with&nbsp;the&nbsp;fix&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;above;&nbsp;and&nbsp;the&nbsp;option&nbsp;--dev&nbsp;doesn&#39;t&nbsp;exist&nbsp;at&nbsp;the&nbsp;moment,&nbsp;we&nbsp;only&nbsp;have&nbsp;an&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;option&nbsp;--repositories.&nbsp;Adding&nbsp;it)&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;2.&nbsp;Instead&nbsp;of&nbsp;`opam&nbsp;install&nbsp;foo`,&nbsp;fun&nbsp;`opam&nbsp;install&nbsp;$(opam&nbsp;list&nbsp;-s&nbsp;--rec&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;--required-by&nbsp;foo)&nbsp;foo`.&nbsp;This&nbsp;should&nbsp;trigger&nbsp;updates&nbsp;due&nbsp;to&nbsp;the&nbsp;trick&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;above.&nbsp;The&nbsp;reinstallations&nbsp;are&nbsp;only&nbsp;done&nbsp;on&nbsp;`opam&nbsp;upgrade`&nbsp;though.&lt;br&gt;<br>
&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;So&nbsp;indeed,&nbsp;your&nbsp;only&nbsp;real&nbsp;option&nbsp;if&nbsp;you&nbsp;want&nbsp;to&nbsp;keep&nbsp;your&nbsp;stuff&nbsp;up-to-date&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;is&nbsp;to&nbsp;run&nbsp;`opam&nbsp;update&nbsp;-u`&nbsp;beforehand&nbsp;(possibly&nbsp;with&nbsp;your&nbsp;dev-repo&nbsp;name,&nbsp;or&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;--dev,&nbsp;depending&nbsp;on&nbsp;whether&nbsp;you&nbsp;use&nbsp;a&nbsp;custom&nbsp;repo&nbsp;or&nbsp;pinned&nbsp;packages).&lt;br&gt;<br>
&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;Now,&nbsp;if&nbsp;we&nbsp;were&nbsp;to&nbsp;handle&nbsp;planned&nbsp;recompilations&nbsp;more&nbsp;often&nbsp;than&nbsp;only&nbsp;on&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;global&nbsp;`opam&nbsp;upgrade`,&nbsp;would&nbsp;that&nbsp;be&nbsp;enough&nbsp;to&nbsp;handle&nbsp;your&nbsp;use-case&nbsp;better&nbsp;?&lt;br&gt;<br>
&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;Best,&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;Louis&lt;br&gt;<br>
&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;-&nbsp;Trevor&nbsp;Smith,&nbsp;10/05/2015&nbsp;19:55&nbsp;-&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;Thanks&nbsp;Thomas.&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;Would&nbsp;there&nbsp;be&nbsp;interest&nbsp;in&nbsp;making&nbsp;a&nbsp;feature&nbsp;to&nbsp;&quot;always&nbsp;update&nbsp;this&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;dependency&quot;?&nbsp;Suggested&nbsp;solution:&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;A&nbsp;keyword&nbsp;in&nbsp;the&nbsp;version&nbsp;could&nbsp;trigger&nbsp;&quot;always&nbsp;update&quot;.&nbsp;This&nbsp;would&nbsp;then&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;apply&nbsp;to&nbsp;both&nbsp;normal&nbsp;packages&nbsp;as&nbsp;well&nbsp;as&nbsp;pins.&nbsp;&quot;Dev&quot;&nbsp;already&nbsp;has&nbsp;meaning&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;in&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;opam,&nbsp;perhaps&nbsp;&quot;-alpha&quot;.&nbsp;This&nbsp;would&nbsp;then&nbsp;allow&nbsp;me&nbsp;to&nbsp;internally&nbsp;have&nbsp;a&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;single&nbsp;repo&nbsp;with&nbsp;normal&nbsp;versions&nbsp;alongside&nbsp;versions&nbsp;that&nbsp;are&nbsp;actively&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;being&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;developed&nbsp;and&nbsp;changing&nbsp;multiple&nbsp;times&nbsp;per&nbsp;day.&nbsp;Eg:&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;my-repo/my-package.1.0-alpha/url:&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;src:&nbsp;&quot;ssh://somewhere/my-package.git&quot;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;A&nbsp;dependent&nbsp;package&nbsp;(ie&nbsp;reverse&nbsp;dependency)&nbsp;&quot;program&quot;&nbsp;on:&nbsp;&quot;my-package&quot;&nbsp;{=&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&quot;1.0-alpha&quot;&nbsp;}&nbsp;would&nbsp;then&nbsp;always&nbsp;check&nbsp;for&nbsp;updates&nbsp;and&nbsp;upgrade&nbsp;my-package&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;before&nbsp;doing&nbsp;anything&nbsp;with&nbsp;program.&nbsp;A&nbsp;build&nbsp;server&nbsp;could&nbsp;get&nbsp;the&nbsp;behavior&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;I&#39;m&nbsp;looking&nbsp;for&nbsp;by&nbsp;&quot;opam&nbsp;install&nbsp;--deps-only&nbsp;program&quot;&nbsp;and&nbsp;getting&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;whatever&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;is&nbsp;at&nbsp;head&nbsp;of&nbsp;my-package&nbsp;(or&nbsp;of&nbsp;the&nbsp;given&nbsp;branch&nbsp;as&nbsp;the&nbsp;case&nbsp;may&nbsp;be).&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;I&nbsp;think&nbsp;this&nbsp;solution&nbsp;would&nbsp;be&nbsp;a&nbsp;nice&nbsp;composition&nbsp;of&nbsp;the&nbsp;ideas&nbsp;that&nbsp;opam&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;already&nbsp;has,&nbsp;and,&nbsp;I&nbsp;think,&nbsp;would&nbsp;be&nbsp;a&nbsp;strict&nbsp;improvement&nbsp;over&nbsp;the&nbsp;current&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;situation&nbsp;and&nbsp;does&nbsp;not&nbsp;introduce&nbsp;any&nbsp;incidental&nbsp;complexity.&nbsp;This&nbsp;thread&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;seems&nbsp;to&nbsp;indicate&nbsp;that&nbsp;others&nbsp;are&nbsp;interested&nbsp;in&nbsp;such&nbsp;a&nbsp;feature.&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;Thoughts?&nbsp;Thanks!&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;Trevor&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;On&nbsp;Sun,&nbsp;May&nbsp;10,&nbsp;2015&nbsp;at&nbsp;5:50&nbsp;PM,&nbsp;Thomas&nbsp;Gazagnaire&nbsp;&lt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:thomas@gazagnaire.org&quot;&nbsp;target=&quot;_blank&quot;&gt;thomas@gazagnaire.org&lt;/a&gt;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;Consider&nbsp;two&nbsp;packages:&nbsp;lib&nbsp;and&nbsp;program.&nbsp;program&nbsp;depends&nbsp;upon&nbsp;lib.&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;opam&nbsp;install&nbsp;lib&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;#&nbsp;Make&nbsp;a&nbsp;new&nbsp;commit&nbsp;to&nbsp;lib&nbsp;and&nbsp;push&nbsp;it&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;#&nbsp;Lib&nbsp;is&nbsp;now&nbsp;one&nbsp;commit&nbsp;newer&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;#&nbsp;NB&nbsp;I&nbsp;am&nbsp;making&nbsp;_no_&nbsp;changes&nbsp;to&nbsp;the&nbsp;internal&nbsp;opam&nbsp;repo&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;opam&nbsp;install&nbsp;program&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;lib&nbsp;does&nbsp;_not_&nbsp;get&nbsp;recompiled.&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;Is&nbsp;that&nbsp;the&nbsp;information&nbsp;you&nbsp;wanted?&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;yes,&nbsp;when&nbsp;pin/dev&nbsp;packages&nbsp;are&nbsp;modified,&nbsp;you&nbsp;need&nbsp;to&nbsp;tell&nbsp;opam&nbsp;that&nbsp;you&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;want&nbsp;to&nbsp;use&nbsp;the&nbsp;updated&nbsp;version&nbsp;(if&nbsp;available),&nbsp;so&nbsp;you&nbsp;need&nbsp;to&nbsp;run&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;`opam&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;update&nbsp;-u`&nbsp;before&nbsp;`opam&nbsp;install&nbsp;program`.&nbsp;Opam&nbsp;will&nbsp;check&nbsp;if&nbsp;there&nbsp;are&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;new&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;commits&nbsp;and&nbsp;recompile&nbsp;what&nbsp;needs&nbsp;to&nbsp;be&nbsp;recompiled.&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;Thomas&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;Also:&nbsp;I&nbsp;just&nbsp;tried&nbsp;opam&nbsp;update&nbsp;program&nbsp;and&nbsp;that&nbsp;also&nbsp;did&nbsp;not&nbsp;pick&nbsp;up&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;the&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;fact&nbsp;that&nbsp;lib&nbsp;is&nbsp;git&nbsp;pinned.&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;Thoughts?&nbsp;Thanks.&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;Trevor&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;On&nbsp;Sun,&nbsp;May&nbsp;10,&nbsp;2015&nbsp;at&nbsp;1:17&nbsp;PM,&nbsp;Thomas&nbsp;Gazagnaire&nbsp;&lt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:thomas@gazagnaire.org&quot;&nbsp;target=&quot;_blank&quot;&gt;thomas@gazagnaire.org&lt;/a&gt;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&nbsp;I&nbsp;tried&nbsp;setting&nbsp;up&nbsp;the&nbsp;&quot;option&nbsp;1&quot;&nbsp;--&nbsp;using&nbsp;a&nbsp;repo&nbsp;url.&nbsp;This&nbsp;works&nbsp;fine&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&nbsp;for&nbsp;clean&nbsp;installs,&nbsp;however&nbsp;it&nbsp;does&nbsp;not&nbsp;work&nbsp;for&nbsp;my&nbsp;use&nbsp;case&nbsp;for&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;updates.&nbsp;I&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&nbsp;didn&#39;t&nbsp;realize&nbsp;until&nbsp;I&nbsp;tried&nbsp;it&nbsp;out&nbsp;that&nbsp;this&nbsp;won&#39;t&nbsp;update&nbsp;upon&nbsp;any&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&nbsp;dependent&nbsp;installation.&nbsp;As&nbsp;noted&nbsp;by&nbsp;Louis,&nbsp;pinning&nbsp;also&nbsp;does&nbsp;not&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;reinstall&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&nbsp;from&nbsp;a&nbsp;repo&nbsp;url&nbsp;when&nbsp;a&nbsp;dependent&nbsp;install&nbsp;happens&nbsp;--&nbsp;it&nbsp;only&nbsp;updates&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;the&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&nbsp;meta-data.&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&nbsp;What&nbsp;I&nbsp;would&nbsp;like&nbsp;is&nbsp;a&nbsp;way&nbsp;(ideally&nbsp;within&nbsp;opam)&nbsp;to&nbsp;say&nbsp;&quot;when&nbsp;this&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&nbsp;package&nbsp;dependend-upon&nbsp;it&nbsp;should&nbsp;always&nbsp;be&nbsp;checked&nbsp;for&nbsp;update&nbsp;and&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;upgrade&quot;.&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&nbsp;Am&nbsp;I&nbsp;correct&nbsp;in&nbsp;stating&nbsp;that&nbsp;currently&nbsp;there&nbsp;is&nbsp;no&nbsp;way&nbsp;to&nbsp;mark&nbsp;a&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;package&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&nbsp;as&nbsp;&quot;update&nbsp;and&nbsp;upgrade&nbsp;this&nbsp;package&nbsp;whenever&nbsp;something&nbsp;that&nbsp;depends&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;upon&nbsp;it&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&nbsp;is&nbsp;installed&quot;?&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&nbsp;did&nbsp;you&nbsp;run&nbsp;`opam&nbsp;update&nbsp;-u&nbsp;&lt;package&gt;`?&nbsp;If&nbsp;a&nbsp;or&nbsp;dev&nbsp;or&nbsp;pinned&nbsp;package&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&nbsp;changes&nbsp;it&nbsp;should&nbsp;normally&nbsp;trigger&nbsp;a&nbsp;recompilation&nbsp;of&nbsp;all&nbsp;the&nbsp;reverse&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&nbsp;dependencies.&nbsp;how&nbsp;did&nbsp;you&nbsp;specify&nbsp;the&nbsp;packages&nbsp;in&nbsp;your&nbsp;repo?&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&nbsp;Thomas&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&nbsp;Thanks.&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&nbsp;Trevor&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&nbsp;On&nbsp;Fri,&nbsp;May&nbsp;8,&nbsp;2015&nbsp;at&nbsp;2:24&nbsp;PM,&nbsp;Daniel&nbsp;Bünzli&nbsp;&lt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:daniel.buenzli@erratique.ch&quot;&nbsp;target=&quot;_blank&quot;&gt;daniel.buenzli@erratique.ch&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&nbsp;Le&nbsp;vendredi,&nbsp;8&nbsp;mai&nbsp;2015&nbsp;à&nbsp;20:09,&nbsp;Ashish&nbsp;Agarwal&nbsp;a&nbsp;écrit&nbsp;:&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&nbsp;&gt;&nbsp;Louis,&nbsp;thanks&nbsp;for&nbsp;your&nbsp;suggestions.&nbsp;I&#39;m&nbsp;trying&nbsp;them&nbsp;out,&nbsp;but&nbsp;one&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;quick&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&nbsp;question:&nbsp;how&nbsp;can&nbsp;you&nbsp;query&nbsp;with&nbsp;tags.&nbsp;I&nbsp;tried&nbsp;`opam&nbsp;list&nbsp;-e&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;foobar`,&nbsp;and&nbsp;I&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&nbsp;seem&nbsp;to&nbsp;get&nbsp;the&nbsp;same&nbsp;output&nbsp;no&nbsp;matter&nbsp;what&nbsp;I&nbsp;write&nbsp;for&nbsp;foobar.&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&nbsp;This&nbsp;is&nbsp;not&nbsp;opam&nbsp;tags&nbsp;this&nbsp;is&nbsp;depexts&nbsp;tags&nbsp;(that&nbsp;correspond&nbsp;to&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&nbsp;platform).&nbsp;You&nbsp;can&nbsp;do&nbsp;for&nbsp;example:&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&gt; &nbsp; opam&nbsp;search&nbsp;-s&nbsp;org:erratique&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&nbsp;But&nbsp;it&nbsp;may&nbsp;not&nbsp;be&nbsp;entirely&nbsp;precise&nbsp;since&nbsp;opam-search&nbsp;matches&nbsp;not&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;only&nbsp;in&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&nbsp;tags.&nbsp;I&nbsp;think&nbsp;opam-list&nbsp;should&nbsp;be&nbsp;able&nbsp;to&nbsp;filter&nbsp;by&nbsp;tags&nbsp;(I&nbsp;actually&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&nbsp;thought&nbsp;this&nbsp;was&nbsp;possible).&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&nbsp;Best,&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&nbsp;Daniel&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&nbsp;Platform&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:Platform@lists.ocaml.org&quot;&nbsp;target=&quot;_blank&quot;&gt;Platform@lists.ocaml.org&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&nbsp;&lt;a&nbsp;href=&quot;http://lists.ocaml.org/listinfo/platform&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ocaml.org/listinfo/platform&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&nbsp;Platform&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:Platform@lists.ocaml.org&quot;&nbsp;target=&quot;_blank&quot;&gt;Platform@lists.ocaml.org&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&nbsp;&lt;a&nbsp;href=&quot;http://lists.ocaml.org/listinfo/platform&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ocaml.org/listinfo/platform&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;&gt;&nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp;&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
