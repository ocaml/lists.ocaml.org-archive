<tt>
&lt;html&gt;&lt;head&gt;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html&nbsp;charset=utf-8&quot;&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;Consider&nbsp;two&nbsp;packages:&nbsp;lib&nbsp;and&nbsp;program.&nbsp;program&nbsp;depends&nbsp;upon&nbsp;lib.&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;opam&nbsp;install&nbsp;lib&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;#&nbsp;Make&nbsp;a&nbsp;new&nbsp;commit&nbsp;to&nbsp;lib&nbsp;and&nbsp;push&nbsp;it&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;#&nbsp;Lib&nbsp;is&nbsp;now&nbsp;one&nbsp;commit&nbsp;newer&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;#&nbsp;NB&nbsp;I&nbsp;am&nbsp;making&nbsp;_no_&nbsp;changes&nbsp;to&nbsp;the&nbsp;internal&nbsp;opam&nbsp;repo&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;opam&nbsp;install&nbsp;program&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;lib&nbsp;does&nbsp;_not_&nbsp;get&nbsp;recompiled.&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;Is&nbsp;that&nbsp;the&nbsp;information&nbsp;you&nbsp;wanted?&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;yes,&nbsp;when&nbsp;pin/dev&nbsp;packages&nbsp;are&nbsp;modified,&nbsp;you&nbsp;need&nbsp;to&nbsp;tell&nbsp;opam&nbsp;that&nbsp;you&nbsp;want&nbsp;to&nbsp;use&nbsp;the&nbsp;updated&nbsp;version&nbsp;(if&nbsp;available),&nbsp;so&nbsp;you&nbsp;need&nbsp;to&nbsp;run&nbsp;`opam&nbsp;update&nbsp;-u`&nbsp;before&nbsp;`opam&nbsp;install&nbsp;program`.&nbsp;Opam&nbsp;will&nbsp;check&nbsp;if&nbsp;there&nbsp;are&nbsp;new&nbsp;commits&nbsp;and&nbsp;recompile&nbsp;what&nbsp;needs&nbsp;to&nbsp;be&nbsp;recompiled.&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;Thomas&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;Also:&nbsp;I&nbsp;just&nbsp;tried&nbsp;opam&nbsp;update&nbsp;program&nbsp;and&nbsp;that&nbsp;also&nbsp;did&nbsp;not&nbsp;pick&nbsp;up&nbsp;the&nbsp;fact&nbsp;that&nbsp;lib&nbsp;is&nbsp;git&nbsp;pinned.&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;Thoughts?&nbsp;Thanks.&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;Trevor&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Sun,&nbsp;May&nbsp;10,&nbsp;2015&nbsp;at&nbsp;1:17&nbsp;PM,&nbsp;Thomas&nbsp;Gazagnaire&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:thomas@gazagnaire.org&quot;&nbsp;target=&quot;_blank&quot;&nbsp;class=&quot;&quot;&gt;thomas@gazagnaire.org&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&nbsp;class=&quot;&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;style=&quot;word-wrap:break-word&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;span&nbsp;class=&quot;&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;&quot;&gt;I&nbsp;tried&nbsp;setting&nbsp;up&nbsp;the&nbsp;&quot;option&nbsp;1&quot;&nbsp;--&nbsp;using&nbsp;a&nbsp;repo&nbsp;url.&nbsp;This&nbsp;works&nbsp;fine&nbsp;for&nbsp;clean&nbsp;installs,&nbsp;however&nbsp;it&nbsp;does&nbsp;not&nbsp;work&nbsp;for&nbsp;my&nbsp;use&nbsp;case&nbsp;for&nbsp;updates.&nbsp;I&nbsp;didn't&nbsp;realize&nbsp;until&nbsp;I&nbsp;tried&nbsp;it&nbsp;out&nbsp;that&nbsp;this&nbsp;won't&nbsp;update&nbsp;upon&nbsp;any&nbsp;dependent&nbsp;installation.&nbsp;As&nbsp;noted&nbsp;by&nbsp;Louis,&nbsp;pinning&nbsp;also&nbsp;does&nbsp;not&nbsp;reinstall&nbsp;from&nbsp;a&nbsp;repo&nbsp;url&nbsp;when&nbsp;a&nbsp;dependent&nbsp;install&nbsp;happens&nbsp;--&nbsp;it&nbsp;only&nbsp;updates&nbsp;the&nbsp;meta-data.&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;What&nbsp;I&nbsp;would&nbsp;like&nbsp;is&nbsp;a&nbsp;way&nbsp;(ideally&nbsp;within&nbsp;opam)&nbsp;to&nbsp;say&nbsp;&quot;when&nbsp;this&nbsp;package&nbsp;dependend-upon&nbsp;it&nbsp;should&nbsp;always&nbsp;be&nbsp;checked&nbsp;for&nbsp;update&nbsp;and&nbsp;upgrade&quot;.&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;Am&nbsp;I&nbsp;correct&nbsp;in&nbsp;stating&nbsp;that&nbsp;currently&nbsp;there&nbsp;is&nbsp;no&nbsp;way&nbsp;to&nbsp;mark&nbsp;a&nbsp;package&nbsp;as&nbsp;&quot;update&nbsp;and&nbsp;upgrade&nbsp;this&nbsp;package&nbsp;whenever&nbsp;something&nbsp;that&nbsp;depends&nbsp;upon&nbsp;it&nbsp;is&nbsp;installed&quot;?&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;/span&gt;&lt;div&nbsp;class=&quot;&quot;&gt;did&nbsp;you&nbsp;run&nbsp;`opam&nbsp;update&nbsp;-u&nbsp;&lt;package&gt;`?&nbsp;If&nbsp;a&nbsp;or&nbsp;dev&nbsp;or&nbsp;pinned&nbsp;package&nbsp;changes&nbsp;it&nbsp;should&nbsp;normally&nbsp;trigger&nbsp;a&nbsp;recompilation&nbsp;of&nbsp;all&nbsp;the&nbsp;reverse&nbsp;dependencies.&nbsp;how&nbsp;did&nbsp;you&nbsp;specify&nbsp;the&nbsp;packages&nbsp;in&nbsp;your&nbsp;repo?&lt;/div&gt;&lt;/div&gt;&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;Thomas&lt;/div&gt;&lt;/font&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;Thanks.&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;Trevor&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Fri,&nbsp;May&nbsp;8,&nbsp;2015&nbsp;at&nbsp;2:24&nbsp;PM,&nbsp;Daniel&nbsp;Bünzli&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:daniel.buenzli@erratique.ch&quot;&nbsp;target=&quot;_blank&quot;&nbsp;class=&quot;&quot;&gt;daniel.buenzli@erratique.ch&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&nbsp;class=&quot;&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;span&nbsp;class=&quot;&quot;&gt;Le&nbsp;vendredi,&nbsp;8&nbsp;mai&nbsp;2015&nbsp;à&nbsp;20:09,&nbsp;Ashish&nbsp;Agarwal&nbsp;a&nbsp;écrit&nbsp;:&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&gt;&nbsp;Louis,&nbsp;thanks&nbsp;for&nbsp;your&nbsp;suggestions.&nbsp;I'm&nbsp;trying&nbsp;them&nbsp;out,&nbsp;but&nbsp;one&nbsp;quick&nbsp;question:&nbsp;how&nbsp;can&nbsp;you&nbsp;query&nbsp;with&nbsp;tags.&nbsp;I&nbsp;tried&nbsp;`opam&nbsp;list&nbsp;-e&nbsp;foobar`,&nbsp;and&nbsp;I&nbsp;seem&nbsp;to&nbsp;get&nbsp;the&nbsp;same&nbsp;output&nbsp;no&nbsp;matter&nbsp;what&nbsp;I&nbsp;write&nbsp;for&nbsp;foobar.&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;/span&gt;This&nbsp;is&nbsp;not&nbsp;opam&nbsp;tags&nbsp;this&nbsp;is&nbsp;depexts&nbsp;tags&nbsp;(that&nbsp;correspond&nbsp;to&nbsp;platform).&nbsp;You&nbsp;can&nbsp;do&nbsp;for&nbsp;example:&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&nbsp;&nbsp;opam&nbsp;search&nbsp;-s&nbsp;org:erratique&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
But&nbsp;it&nbsp;may&nbsp;not&nbsp;be&nbsp;entirely&nbsp;precise&nbsp;since&nbsp;opam-search&nbsp;matches&nbsp;not&nbsp;only&nbsp;in&nbsp;tags.&nbsp;I&nbsp;think&nbsp;opam-list&nbsp;should&nbsp;be&nbsp;able&nbsp;to&nbsp;filter&nbsp;by&nbsp;tags&nbsp;(I&nbsp;actually&nbsp;thought&nbsp;this&nbsp;was&nbsp;possible).&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
Best,&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
Daniel&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&nbsp;class=&quot;&quot;&gt;<br>
_______________________________________________&lt;br&nbsp;class=&quot;&quot;&gt;<br>
Platform&nbsp;mailing&nbsp;list&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Platform@lists.ocaml.org&quot;&nbsp;target=&quot;_blank&quot;&nbsp;class=&quot;&quot;&gt;Platform@lists.ocaml.org&lt;/a&gt;&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ocaml.org/listinfo/platform&quot;&nbsp;target=&quot;_blank&quot;&nbsp;class=&quot;&quot;&gt;http://lists.ocaml.org/listinfo/platform&lt;/a&gt;&lt;br&nbsp;class=&quot;&quot;&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;<br>
_______________________________________________&lt;br&nbsp;class=&quot;&quot;&gt;Platform&nbsp;mailing&nbsp;list&lt;br&nbsp;class=&quot;&quot;&gt;&lt;a&nbsp;href=&quot;mailto:Platform@lists.ocaml.org&quot;&nbsp;target=&quot;_blank&quot;&nbsp;class=&quot;&quot;&gt;Platform@lists.ocaml.org&lt;/a&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;a&nbsp;href=&quot;http://lists.ocaml.org/listinfo/platform&quot;&nbsp;target=&quot;_blank&quot;&nbsp;class=&quot;&quot;&gt;http://lists.ocaml.org/listinfo/platform&lt;/a&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
