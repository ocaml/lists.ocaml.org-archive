<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;TL;DR:&lt;br&gt;&lt;/div&gt;&lt;div&gt;1.&nbsp;We&nbsp;need&nbsp;to&nbsp;have&nbsp;a&nbsp;&quot;test:&quot;&nbsp;field&nbsp;in&nbsp;OPAM&nbsp;metadata&nbsp;and&nbsp;get&nbsp;packages&nbsp;to&nbsp;use&nbsp;it.&lt;br&gt;&lt;/div&gt;&lt;div&gt;2.&nbsp;We&nbsp;should&nbsp;do&nbsp;a&nbsp;weekly&nbsp;build&nbsp;of&nbsp;OPAM&nbsp;using&nbsp;the&nbsp;ocaml&nbsp;*trunk*&nbsp;version,&nbsp;to&nbsp;help&nbsp;find&nbsp;and&nbsp;fix&nbsp;(with&nbsp;the&nbsp;cooperation&nbsp;of&nbsp;compiler&nbsp;developers&nbsp;upstream)&nbsp;issues&nbsp;before&nbsp;the&nbsp;actual&nbsp;release.&lt;br&gt;&lt;/div&gt;&lt;div&gt;3.&nbsp;If&nbsp;such&nbsp;a&nbsp;weekly&nbsp;build&nbsp;is&nbsp;effective,&nbsp;the&nbsp;policy&nbsp;of&nbsp;&quot;stay&nbsp;in&nbsp;beta&nbsp;as&nbsp;long&nbsp;as&nbsp;allegedly-installable&nbsp;OPAM&nbsp;packages&nbsp;fail&nbsp;to&nbsp;build&nbsp;on&nbsp;the&nbsp;new&nbsp;release&quot;&nbsp;would&nbsp;be&nbsp;much&nbsp;easier&nbsp;to&nbsp;accept.&nbsp;We&nbsp;could&nbsp;target&nbsp;*all*&nbsp;opam-repository&nbsp;packages&nbsp;instead&nbsp;of&nbsp;any&nbsp;subset,&nbsp;and&nbsp;it&nbsp;could&nbsp;take&nbsp;less&nbsp;than&nbsp;a&nbsp;month&nbsp;--&nbsp;say&nbsp;two&nbsp;weeks.&lt;br&gt;&lt;/div&gt;&lt;div&gt;4.&nbsp;It&nbsp;would&nbsp;be&nbsp;nice&nbsp;to&nbsp;have&nbsp;an&nbsp;automated&nbsp;tool&nbsp;to&nbsp;add&nbsp;a&nbsp;given&nbsp;version&nbsp;bound&nbsp;on&nbsp;a&nbsp;set&nbsp;of&nbsp;opam&nbsp;files.&nbsp;(And&nbsp;that&nbsp;is&nbsp;easy&nbsp;to&nbsp;implement.)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;Simon&nbsp;Cruanes&nbsp;wrote:&nbsp;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;span&gt;<br>
&lt;/span&gt;As&nbsp;usual,&nbsp;the&nbsp;issue&nbsp;is:&nbsp;what&nbsp;set&nbsp;of&nbsp;packages&nbsp;is&nbsp;monitored,&nbsp;and&nbsp;who&lt;br&gt;<br>
chooses?&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In&nbsp;this&nbsp;case&nbsp;there&nbsp;is&nbsp;a&nbsp;canonical&nbsp;answer:&nbsp;all&nbsp;of&nbsp;them&nbsp;(on&nbsp;the&nbsp;public/central&nbsp;OPAM&nbsp;repository).&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Note&nbsp;that&nbsp;OWS&nbsp;only&nbsp;tests&nbsp;installability&nbsp;from&nbsp;metadata,&nbsp;which&nbsp;is&nbsp;a&nbsp;useful&nbsp;metric,&nbsp;but&nbsp;doesn&#39;t&nbsp;help&nbsp;when&nbsp;the&nbsp;metadata&nbsp;is&nbsp;wrong&nbsp;and&nbsp;build&nbsp;actually&nbsp;fails.&nbsp;Damien&nbsp;has&nbsp;a&nbsp;script&nbsp;to&nbsp;compile&nbsp;all&nbsp;of&nbsp;OPAM&nbsp;that&nbsp;could&nbsp;give&nbsp;buildability&nbsp;result.&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Which&nbsp;gets&nbsp;us&nbsp;to&nbsp;the&nbsp;next&nbsp;point:&nbsp;we&nbsp;really&nbsp;should&nbsp;use&nbsp;a&nbsp;&quot;test:&quot;&nbsp;field&nbsp;in&nbsp;opam&nbsp;metadata&nbsp;and&nbsp;use&nbsp;that.&nbsp;In&nbsp;the&nbsp;atdgen&nbsp;case&nbsp;for&nbsp;example,&nbsp;the&nbsp;software&nbsp;would&nbsp;compile&nbsp;fine,&nbsp;but&nbsp;it&nbsp;would&nbsp;segfault&nbsp;at&nbsp;usage&nbsp;--&nbsp;already&nbsp;in&nbsp;the&nbsp;testsuite.&nbsp;I&nbsp;think&nbsp;that&nbsp;introducing&nbsp;such&nbsp;a&nbsp;&quot;test:&quot;&nbsp;field&nbsp;should&nbsp;be&nbsp;among&nbsp;our&nbsp;priorities&nbsp;to&nbsp;improve&nbsp;the&nbsp;quality&nbsp;of&nbsp;the&nbsp;OPAM&nbsp;repository.&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;agree&nbsp;with&nbsp;the&nbsp;workflow&nbsp;you&nbsp;propose,&nbsp;as&nbsp;long&nbsp;as&nbsp;the&nbsp;beta-testing&nbsp;period&nbsp;is&nbsp;long&nbsp;enough&nbsp;--&nbsp;I&nbsp;suggested&nbsp;&quot;one&nbsp;month&quot;&nbsp;and&nbsp;I&nbsp;think&nbsp;it&#39;s&nbsp;a&nbsp;good&nbsp;proposal.&nbsp;Because&nbsp;we&nbsp;could&nbsp;do&nbsp;this&nbsp;with&nbsp;the&nbsp;one-week-long&nbsp;beta&nbsp;period&nbsp;we&nbsp;had&nbsp;in&nbsp;4.03,&nbsp;and&nbsp;it&nbsp;would&nbsp;amount&nbsp;to&nbsp;just&nbsp;adding&nbsp;an&nbsp;upper&nbsp;bound&nbsp;on&nbsp;all&nbsp;software,&nbsp;and&nbsp;that&nbsp;would&nbsp;better&nbsp;for&nbsp;users&nbsp;but&nbsp;only&nbsp;marginally&nbsp;so&nbsp;--&nbsp;they&nbsp;don&#39;t&nbsp;get&nbsp;a&nbsp;crippled&nbsp;opam-repository,&nbsp;they&nbsp;get&nbsp;a&nbsp;crippled&nbsp;release&nbsp;with&nbsp;no&nbsp;installable&nbsp;software.&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In&nbsp;fact&nbsp;I&nbsp;think&nbsp;we&nbsp;should&nbsp;go&nbsp;further&nbsp;and&nbsp;try&nbsp;to&nbsp;make&nbsp;all&nbsp;of&nbsp;OPAM&nbsp;work&nbsp;with&nbsp;trunk&nbsp;OCaml&nbsp;versions.&nbsp;We&nbsp;could&nbsp;have&nbsp;a&nbsp;weekly&nbsp;build&nbsp;of&nbsp;all-opam&nbsp;from&nbsp;trunk&nbsp;and&nbsp;collectively&nbsp;fix&nbsp;the&nbsp;issues.&nbsp;This&nbsp;would&nbsp;help&nbsp;ocaml-trunk&nbsp;development&nbsp;(being&nbsp;able&nbsp;to&nbsp;compile&nbsp;software&nbsp;to&nbsp;test&nbsp;trunk&nbsp;changes&nbsp;is&nbsp;one&nbsp;pain&nbsp;point&nbsp;right&nbsp;now),&nbsp;and&nbsp;this&nbsp;would&nbsp;help&nbsp;have&nbsp;working&nbsp;software&nbsp;by&nbsp;the&nbsp;release&nbsp;time&nbsp;--&nbsp;maybe&nbsp;we&nbsp;wouldn&#39;t&nbsp;even&nbsp;need&nbsp;such&nbsp;a&nbsp;long&nbsp;beta&nbsp;period&nbsp;if&nbsp;we&nbsp;did&nbsp;this&nbsp;effectively.&lt;br&gt;&lt;br&gt;&lt;blockquote&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&nbsp;class=&quot;gmail_quote&quot;&gt;I&nbsp;don&#39;t&nbsp;add&nbsp;upper&nbsp;bounds&nbsp;myself&nbsp;on&nbsp;my&nbsp;own&nbsp;packages&nbsp;(too&nbsp;tedious&nbsp;to&nbsp;do&nbsp;it&nbsp;on&nbsp;15&nbsp;old&nbsp;releases),&nbsp;so&nbsp;it&nbsp;should&nbsp;probably&nbsp;be&nbsp;automated.&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;agree;&nbsp;this&nbsp;should&nbsp;be&nbsp;very&nbsp;easy&nbsp;to&nbsp;do&nbsp;using&nbsp;existing&nbsp;opam&nbsp;scripting&nbsp;capabilities.&nbsp;Any&nbsp;volunteers?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thomas&nbsp;Gazagnaire&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&nbsp;class=&quot;gmail_quote&quot;&gt;The&nbsp;main&nbsp;issue&nbsp;with&nbsp;4.03&nbsp;is&nbsp;that&nbsp;killing&nbsp;camlp4&nbsp;took&nbsp;a&nbsp;bit&nbsp;longer&nbsp;than&nbsp;<br>
expected.&nbsp;[...]<br>
The&nbsp;jump&nbsp;from&nbsp;4.01&nbsp;to&nbsp;4.02&nbsp;was&nbsp;much&nbsp;easier&nbsp;in&nbsp;comparison.&nbsp;I&nbsp;think&nbsp;thatâ€™s&nbsp;instability&nbsp;is&nbsp;a&nbsp;one-off.&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;don&#39;t&nbsp;buy&nbsp;it.&nbsp;I&nbsp;think&nbsp;the&nbsp;rate&nbsp;of&nbsp;OCaml&nbsp;change&nbsp;is&nbsp;accelerating&nbsp;rather&nbsp;than&nbsp;slowing&nbsp;down.&nbsp;Think&nbsp;of&nbsp;what&nbsp;will&nbsp;happen&nbsp;if&nbsp;we&nbsp;merge&nbsp;some&nbsp;form&nbsp;of&nbsp;multicore-ocaml&nbsp;in&nbsp;the&nbsp;future;&nbsp;all&nbsp;FFI&nbsp;code&nbsp;will&nbsp;break&nbsp;loose&nbsp;(well&nbsp;maybe&nbsp;not&nbsp;all,&nbsp;but&nbsp;like&nbsp;Obj.magic&nbsp;in&nbsp;4.03,&nbsp;enough&nbsp;will).&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Martin&nbsp;Jambon:&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;blockquote&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&nbsp;class=&quot;gmail_quote&quot;&gt;Bugs&nbsp;due&nbsp;to&nbsp;incompatibilities&nbsp;with&nbsp;newer&nbsp;versions&nbsp;of&nbsp;OCaml&nbsp;have&nbsp;been&nbsp;<br>
reported&nbsp;and&nbsp;sometimes&nbsp;fixed&nbsp;by&nbsp;others,&nbsp;and&nbsp;while&nbsp;this&nbsp;is&nbsp;great,&nbsp;I&#39;d&nbsp;<br>
rather&nbsp;(1)&nbsp;not&nbsp;have&nbsp;these&nbsp;bugs&nbsp;in&nbsp;the&nbsp;first&nbsp;place&nbsp;and&nbsp;(2)&nbsp;fix&nbsp;the&nbsp;bugs&nbsp;<br>
before&nbsp;they&nbsp;start&nbsp;affecting&nbsp;users.&nbsp;I&nbsp;must&nbsp;say&nbsp;I&nbsp;really&nbsp;lack&nbsp;the&nbsp;<br>
motivation&nbsp;for&nbsp;such&nbsp;maintenance,&nbsp;compared&nbsp;to&nbsp;developing&nbsp;a&nbsp;new&nbsp;feature&nbsp;<br>
that&nbsp;I&nbsp;need.&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;I&nbsp;agree.&nbsp;I&nbsp;think&nbsp;that&nbsp;staring&nbsp;testing&nbsp;packages&nbsp;using&nbsp;trunk&nbsp;rather&nbsp;than&nbsp;waiting&nbsp;for&nbsp;the&nbsp;release&nbsp;could&nbsp;help&nbsp;with&nbsp;that.&nbsp;First,&nbsp;if&nbsp;the&nbsp;breakage&nbsp;is&nbsp;under&nbsp;the&nbsp;eyes&nbsp;of&nbsp;the&nbsp;upstream&nbsp;OCaml&nbsp;devs,&nbsp;it&nbsp;may&nbsp;be&nbsp;easier&nbsp;for&nbsp;them&nbsp;to&nbsp;understand&nbsp;the&nbsp;cause&nbsp;and&nbsp;find&nbsp;the&nbsp;fix&nbsp;--&nbsp;in&nbsp;my&nbsp;experience&nbsp;helping&nbsp;people&nbsp;un-break&nbsp;software&nbsp;after&nbsp;a&nbsp;new&nbsp;OCaml&nbsp;version,&nbsp;having&nbsp;a&nbsp;deep&nbsp;knowledge&nbsp;of&nbsp;said&nbsp;software&nbsp;was&nbsp;rarely&nbsp;necessary,&nbsp;and&nbsp;understanding&nbsp;the&nbsp;compiler&nbsp;was&nbsp;more&nbsp;useful.&nbsp;Plus&nbsp;it&nbsp;may&nbsp;also&nbsp;encourage&nbsp;people&nbsp;to&nbsp;revert&nbsp;or&nbsp;tame&nbsp;changes&nbsp;that&nbsp;break&nbsp;user&nbsp;software,&nbsp;reducing&nbsp;the&nbsp;number&nbsp;of&nbsp;changes&nbsp;required&nbsp;of&nbsp;package&nbsp;maintainers.&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;Jun&nbsp;29,&nbsp;2016&nbsp;at&nbsp;2:09&nbsp;PM,&nbsp;Martin&nbsp;Jambon&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:martin@mjambon.com&quot;&nbsp;target=&quot;_blank&quot;&gt;martin@mjambon.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;First,&nbsp;thank&nbsp;you&nbsp;Gabriel,&nbsp;Damien,&nbsp;and&nbsp;others&nbsp;who&#39;ve&nbsp;been&nbsp;working&nbsp;hard&nbsp;on&nbsp;improving&nbsp;package&nbsp;quality&nbsp;with&nbsp;each&nbsp;new&nbsp;release&nbsp;of&nbsp;OCaml.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;have&nbsp;the&nbsp;chance&nbsp;to&nbsp;be&nbsp;most&nbsp;of&nbsp;the&nbsp;time&nbsp;a&nbsp;passive&nbsp;user&nbsp;of&nbsp;OCaml,&nbsp;i.e.&nbsp;we&nbsp;develop&nbsp;a&nbsp;commercial&nbsp;application,&nbsp;and&nbsp;we&nbsp;typically&nbsp;upgrade&nbsp;OCaml&nbsp;only&nbsp;when&nbsp;it&nbsp;becomes&nbsp;necessary.&nbsp;Also&nbsp;it&#39;s&nbsp;normally&nbsp;not&nbsp;a&nbsp;problem&nbsp;for&nbsp;us&nbsp;to&nbsp;wait&nbsp;for&nbsp;6&nbsp;months&nbsp;to&nbsp;a&nbsp;year&nbsp;to&nbsp;upgrade.&nbsp;We&nbsp;have&nbsp;really&nbsp;no&nbsp;complaints&nbsp;there.&nbsp;I&nbsp;feel&nbsp;however&nbsp;that&nbsp;it&#39;s&nbsp;a&nbsp;missed&nbsp;opportunity&nbsp;to&nbsp;contribute&nbsp;back&nbsp;to&nbsp;the&nbsp;community.&nbsp;We&nbsp;generally&nbsp;don&#39;t&nbsp;mind&nbsp;bugs&nbsp;in&nbsp;features&nbsp;that&nbsp;we&nbsp;start&nbsp;using,&nbsp;but&nbsp;we&#39;re&nbsp;really&nbsp;afraid&nbsp;of&nbsp;regression.&nbsp;So&nbsp;it&nbsp;would&nbsp;be&nbsp;good&nbsp;for&nbsp;us&nbsp;to&nbsp;confidently&nbsp;upgrade&nbsp;OCaml&nbsp;as&nbsp;soon&nbsp;as&nbsp;we&nbsp;know&nbsp;it&#39;s&nbsp;unlikely&nbsp;to&nbsp;break&nbsp;our&nbsp;application,&nbsp;but&nbsp;not&nbsp;delay&nbsp;the&nbsp;upgrade&nbsp;out&nbsp;of&nbsp;fear.&lt;br&gt;<br>
&lt;br&gt;<br>
I&#39;m&nbsp;also&nbsp;involved&nbsp;in&nbsp;maintaining&nbsp;a&nbsp;small&nbsp;number&nbsp;of&nbsp;public&nbsp;tools&nbsp;because&nbsp;I&nbsp;started&nbsp;them.&nbsp;Bugs&nbsp;due&nbsp;to&nbsp;incompatibilities&nbsp;with&nbsp;newer&nbsp;versions&nbsp;of&nbsp;OCaml&nbsp;have&nbsp;been&nbsp;reported&nbsp;and&nbsp;sometimes&nbsp;fixed&nbsp;by&nbsp;others,&nbsp;and&nbsp;while&nbsp;this&nbsp;is&nbsp;great,&nbsp;I&#39;d&nbsp;rather&nbsp;(1)&nbsp;not&nbsp;have&nbsp;these&nbsp;bugs&nbsp;in&nbsp;the&nbsp;first&nbsp;place&nbsp;and&nbsp;(2)&nbsp;fix&nbsp;the&nbsp;bugs&nbsp;before&nbsp;they&nbsp;start&nbsp;affecting&nbsp;users.&nbsp;I&nbsp;must&nbsp;say&nbsp;I&nbsp;really&nbsp;lack&nbsp;the&nbsp;motivation&nbsp;for&nbsp;such&nbsp;maintenance,&nbsp;compared&nbsp;to&nbsp;developing&nbsp;a&nbsp;new&nbsp;feature&nbsp;that&nbsp;I&nbsp;need.&lt;br&gt;<br>
&lt;br&gt;<br>
What&nbsp;could&nbsp;be&nbsp;useful&nbsp;is&nbsp;a&nbsp;few&nbsp;user-visible&nbsp;stats&nbsp;on&nbsp;what&#39;s&nbsp;installable&nbsp;and&nbsp;what&#39;s&nbsp;usable&nbsp;in&nbsp;opam,&nbsp;for&nbsp;a&nbsp;given&nbsp;OCaml&nbsp;version.&nbsp;It&#39;s&nbsp;the&nbsp;same&nbsp;idea&nbsp;as&nbsp;labeling&nbsp;an&nbsp;OCaml/opam&nbsp;distribution&nbsp;as&nbsp;beta,&nbsp;but&nbsp;finer-grained.&nbsp;Each&nbsp;package&nbsp;known&nbsp;to&nbsp;have&nbsp;version-specific&nbsp;problems&nbsp;would&nbsp;be&nbsp;labeled&nbsp;as&nbsp;such.&nbsp;A&nbsp;package&nbsp;could&nbsp;be&nbsp;in&nbsp;one&nbsp;of&nbsp;a&nbsp;few&nbsp;states&nbsp;such&nbsp;as:&nbsp;OK,&nbsp;Usable&nbsp;but&nbsp;has&nbsp;some&nbsp;version-specific&nbsp;bugs,&nbsp;Uninstallable.&nbsp;For&nbsp;the&nbsp;opam&nbsp;user&nbsp;wondering&nbsp;whether&nbsp;they&nbsp;should&nbsp;upgrade&nbsp;OCaml,&nbsp;it&nbsp;would&nbsp;be&nbsp;useful&nbsp;to&nbsp;get&nbsp;the&nbsp;percentage&nbsp;of&nbsp;packages&nbsp;in&nbsp;each&nbsp;state&nbsp;for&nbsp;a&nbsp;given&nbsp;OCaml&nbsp;version,&nbsp;as&nbsp;well&nbsp;as&nbsp;the&nbsp;list&nbsp;of&nbsp;packages&nbsp;in&nbsp;each&nbsp;state&nbsp;and&nbsp;links&nbsp;to&nbsp;the&nbsp;relevant&nbsp;bug&nbsp;reports.&nbsp;Hopefully&nbsp;this&nbsp;would&nbsp;help&nbsp;users&nbsp;be&nbsp;more&nbsp;adventurous&nbsp;and&nbsp;make&nbsp;informed&nbsp;decisions&nbsp;on&nbsp;whether&nbsp;to&nbsp;upgrade.&lt;div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;06/29/2016&nbsp;09:40&nbsp;AM,&nbsp;Gabriel&nbsp;Scherer&nbsp;wrote:&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;<br>
Dear&nbsp;platform,&lt;br&gt;<br>
&lt;br&gt;<br>
TL;DR:&nbsp;I&nbsp;propose&nbsp;that&nbsp;we&nbsp;change&nbsp;the&nbsp;OCaml&nbsp;release&nbsp;process&nbsp;to&nbsp;remain&nbsp;in&lt;br&gt;<br>
&quot;beta&quot;&nbsp;stage&nbsp;while&nbsp;there&nbsp;remain&nbsp;OPAM&nbsp;packages&nbsp;that&nbsp;are&nbsp;broken&nbsp;by&nbsp;the&nbsp;new&lt;br&gt;<br>
releases&nbsp;and&nbsp;their&nbsp;version&nbsp;bounds&nbsp;have&nbsp;not&nbsp;been&nbsp;updated.&lt;br&gt;<br>
&lt;br&gt;<br>
I&#39;m&nbsp;a&nbsp;bit&nbsp;frustrated&nbsp;with&nbsp;the&nbsp;time&nbsp;it&nbsp;takes&nbsp;for&nbsp;the&nbsp;OCaml&nbsp;ecosystem&nbsp;to&lt;br&gt;<br>
catch&nbsp;up&nbsp;with&nbsp;the&nbsp;4.03&nbsp;release&nbsp;--&nbsp;which&nbsp;has&nbsp;been&nbsp;released&nbsp;two&nbsp;months&nbsp;ago&lt;br&gt;<br>
now,&nbsp;on&nbsp;April&nbsp;25.&lt;br&gt;<br>
&lt;br&gt;<br>
A&nbsp;large&nbsp;chunk&nbsp;of&nbsp;my&nbsp;personal&nbsp;hacking&nbsp;time&nbsp;following&nbsp;the&nbsp;release&nbsp;was&lt;br&gt;<br>
spent&nbsp;on&nbsp;updating&nbsp;Batteries,&nbsp;with&nbsp;a&nbsp;4.03-compatible&nbsp;release&nbsp;happening&nbsp;on&lt;br&gt;<br>
May&nbsp;12,&nbsp;so&nbsp;two&nbsp;weeks&nbsp;after&nbsp;the&nbsp;release&nbsp;--&nbsp;a&nbsp;time&nbsp;I&nbsp;would&nbsp;still&nbsp;consider&lt;br&gt;<br>
too&nbsp;long&nbsp;for&nbsp;our&nbsp;downstream&nbsp;users&nbsp;waiting&nbsp;to&nbsp;try&nbsp;the&nbsp;4.03&nbsp;goodness&nbsp;but&lt;br&gt;<br>
held&nbsp;back&nbsp;by&nbsp;a&nbsp;Batteries&nbsp;dependency.&nbsp;I&nbsp;recently&nbsp;helped&nbsp;make&nbsp;atdgen&lt;br&gt;<br>
compatible&nbsp;with&nbsp;4.03&nbsp;(it&#39;s&nbsp;a&nbsp;dependency&nbsp;of&nbsp;IOCaml&nbsp;for&nbsp;example),&nbsp;and&nbsp;just&lt;br&gt;<br>
today&nbsp;found&nbsp;out&nbsp;that&nbsp;Coq&nbsp;releases&nbsp;(or&nbsp;its&nbsp;CoqIDE&nbsp;part)&nbsp;did&nbsp;not&nbsp;work&nbsp;on&lt;br&gt;<br>
4.03&nbsp;(with&nbsp;no&nbsp;upper-bound&nbsp;in&nbsp;opam,&nbsp;it&nbsp;would&nbsp;just&nbsp;miscompile).&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;find&nbsp;it&nbsp;frustrating&nbsp;because&nbsp;that&nbsp;means&nbsp;that&nbsp;there&nbsp;is&nbsp;a&nbsp;large&nbsp;time&lt;br&gt;<br>
window&nbsp;where&nbsp;we&nbsp;advertise&nbsp;(externally,&nbsp;to&nbsp;beginners,&nbsp;etc.)&nbsp;that&nbsp;the&nbsp;best&lt;br&gt;<br>
OCaml&nbsp;versions&nbsp;ever&nbsp;is&nbsp;4.03.0,&nbsp;while&nbsp;running&nbsp;opam&nbsp;from&nbsp;this&nbsp;switch&nbsp;to&lt;br&gt;<br>
install&nbsp;any&nbsp;major&nbsp;software&nbsp;whatsoever&nbsp;feels&nbsp;like&nbsp;playing&nbsp;a&nbsp;rigged&lt;br&gt;<br>
russian&nbsp;roulette.&nbsp;I&nbsp;feel&nbsp;bad&nbsp;whenever&nbsp;I&#39;m&nbsp;informed&nbsp;that&nbsp;my&nbsp;software&nbsp;(or&lt;br&gt;<br>
anyone&nbsp;else&#39;s,&nbsp;in&nbsp;fact)&nbsp;does&nbsp;not&nbsp;work&nbsp;by&nbsp;end-users&nbsp;that&nbsp;would&nbsp;rather&lt;br&gt;<br>
have&nbsp;spent&nbsp;their&nbsp;day&nbsp;doing&nbsp;something&nbsp;else&nbsp;than&nbsp;trying&nbsp;broken&nbsp;software.&lt;br&gt;<br>
&lt;br&gt;<br>
Do&nbsp;you&nbsp;agree&nbsp;that&nbsp;this&nbsp;is&nbsp;a&nbsp;problem?&nbsp;What&nbsp;could&nbsp;we&nbsp;do&nbsp;to&nbsp;fix&nbsp;that?&lt;br&gt;<br>
&lt;br&gt;<br>
When&nbsp;I&nbsp;started&nbsp;writing&nbsp;this&nbsp;email&nbsp;I&nbsp;intended&nbsp;to&nbsp;send&nbsp;it&nbsp;to&nbsp;Damien&lt;br&gt;<br>
Doligez,&nbsp;as&nbsp;the&nbsp;release&nbsp;manager&nbsp;of&nbsp;the&nbsp;compiler&nbsp;distribution,&nbsp;with&nbsp;the&lt;br&gt;<br>
following&nbsp;suggestion:&nbsp;maybe&nbsp;we&nbsp;could&nbsp;have&nbsp;a&nbsp;*much&nbsp;longer*&nbsp;beta-testing&lt;br&gt;<br>
period&nbsp;for&nbsp;OCaml&nbsp;versions&nbsp;that&nbsp;would&nbsp;be&nbsp;used&nbsp;not&nbsp;(only)&nbsp;for&nbsp;finding&nbsp;bugs&lt;br&gt;<br>
in&nbsp;the&nbsp;new&nbsp;version,&nbsp;but&nbsp;also&nbsp;to&nbsp;let&nbsp;important&nbsp;pieces&nbsp;of&nbsp;the&nbsp;ecosystem&lt;br&gt;<br>
update&nbsp;to&nbsp;the&nbsp;new&nbsp;version.&nbsp;Say,&nbsp;at&nbsp;least&nbsp;a&nbsp;month.&nbsp;We&nbsp;could&nbsp;have&nbsp;a&nbsp;fixed&lt;br&gt;<br>
set&nbsp;of&nbsp;software&nbsp;that&nbsp;we&nbsp;monitor,&nbsp;or&nbsp;in&nbsp;fact&nbsp;all&nbsp;of&nbsp;what&#39;s&nbsp;in&nbsp;OPAM,&nbsp;and&lt;br&gt;<br>
delay&nbsp;the&nbsp;release&nbsp;until&nbsp;they&nbsp;get&nbsp;updated/fixed&nbsp;or&nbsp;their&nbsp;OPAM&nbsp;version&lt;br&gt;<br>
bounds&nbsp;get&nbsp;fixed.&nbsp;(Aha,&nbsp;a&nbsp;Platform&nbsp;indeed!)&lt;br&gt;<br>
&lt;br&gt;<br>
Does&nbsp;that&nbsp;sound&nbsp;like&nbsp;a&nbsp;reasonable&nbsp;idea&nbsp;to&nbsp;you?&nbsp;Should&nbsp;we&nbsp;monitor&nbsp;all&lt;br&gt;<br>
OPAM,&nbsp;or&nbsp;only&nbsp;a&nbsp;subset?&lt;br&gt;<br>
&lt;br&gt;<br>
This&nbsp;suggestion&nbsp;is&nbsp;rooted&nbsp;in&nbsp;the&nbsp;idea&nbsp;that&nbsp;when&nbsp;we&nbsp;announce&nbsp;the&nbsp;release&lt;br&gt;<br>
to&nbsp;our&nbsp;end-users,&nbsp;stuff&nbsp;should&nbsp;just&nbsp;work&nbsp;--&nbsp;or&nbsp;refuse&nbsp;to&nbsp;install&nbsp;itself.&lt;br&gt;<br>
Maybe&nbsp;this&nbsp;is&nbsp;an&nbsp;old&nbsp;idea&nbsp;of&nbsp;the&nbsp;SVN&nbsp;times&nbsp;and&nbsp;we&#39;re&nbsp;now&nbsp;in&nbsp;the&nbsp;era&nbsp;of&lt;br&gt;<br>
continuously-released,&nbsp;always-broken&nbsp;stuff?&lt;br&gt;<br>
&lt;br&gt;<br>
Finally,&nbsp;there&nbsp;has&nbsp;been&nbsp;all&nbsp;this&nbsp;work&nbsp;on&nbsp;the&nbsp;&quot;OPAM&nbsp;weather&nbsp;services&quot;,&lt;br&gt;<br>
continuous&nbsp;build&nbsp;of&nbsp;opam&nbsp;packages&nbsp;etc.,&nbsp;plus&nbsp;the&nbsp;work&nbsp;that&nbsp;Damien&nbsp;is&lt;br&gt;<br>
doing&nbsp;around&nbsp;release&nbsp;time.&nbsp;It&nbsp;doesn&#39;t&nbsp;seem&nbsp;to&nbsp;have&nbsp;worked&nbsp;very&nbsp;well&nbsp;for&lt;br&gt;<br>
4.03.&nbsp;Who&nbsp;is&nbsp;monitoring&nbsp;this&nbsp;stuff?&nbsp;Do&nbsp;we&nbsp;need&nbsp;to&nbsp;fix&nbsp;them&nbsp;to&nbsp;make&nbsp;them&lt;br&gt;<br>
work&nbsp;better,&nbsp;or&nbsp;to&nbsp;fix&nbsp;our&nbsp;process&nbsp;to&nbsp;use&nbsp;them&nbsp;better?&nbsp;To&nbsp;be&nbsp;honest,&nbsp;I&#39;m&lt;br&gt;<br>
never&nbsp;looking&nbsp;at&nbsp;these&nbsp;services&nbsp;--&nbsp;I&nbsp;just&nbsp;don&#39;t&nbsp;think&nbsp;of&nbsp;using&nbsp;them.&nbsp;Can&lt;br&gt;<br>
I&nbsp;get&nbsp;an&nbsp;email&nbsp;whenever&nbsp;they&nbsp;detect&nbsp;that&nbsp;my&nbsp;stuff&nbsp;is&nbsp;broken?&nbsp;Say&nbsp;I&#39;m&nbsp;a&lt;br&gt;<br>
new&nbsp;package&nbsp;manager,&nbsp;are&nbsp;there&nbsp;guidelines&nbsp;somewhere&nbsp;on&nbsp;what&nbsp;the&nbsp;best&lt;br&gt;<br>
practices&nbsp;are&nbsp;and&nbsp;what&nbsp;I&nbsp;should&nbsp;do?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>
_______________________________________________&lt;br&gt;<br>
Platform&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Platform@lists.ocaml.org&quot;&nbsp;target=&quot;_blank&quot;&gt;Platform@lists.ocaml.org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ocaml.org/listinfo/platform&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ocaml.org/listinfo/platform&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
