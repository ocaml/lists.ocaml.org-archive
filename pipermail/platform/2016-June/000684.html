<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ocaml-platform] Is it taking too long for OCaml software to become 4.03-compatible? Would release process changes help?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:platform%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-platform%5D%20Is%20it%20taking%20too%20long%20for%20OCaml%20software%20to%0A%20become%204.03-compatible%3F%20Would%20release%20process%20changes%20help%3F&In-Reply-To=%3CCAHvkLrO5_VxpjG%2B7AEchun4K1Gdy_RZzqGRbeexNFgUn%3DOq%2Bjw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000683.html">
   <LINK REL="Next"  HREF="000685.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ocaml-platform] Is it taking too long for OCaml software to become 4.03-compatible? Would release process changes help?</H1>
    <B>Fabrice Le Fessant</B> 
    <A HREF="mailto:platform%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-platform%5D%20Is%20it%20taking%20too%20long%20for%20OCaml%20software%20to%0A%20become%204.03-compatible%3F%20Would%20release%20process%20changes%20help%3F&In-Reply-To=%3CCAHvkLrO5_VxpjG%2B7AEchun4K1Gdy_RZzqGRbeexNFgUn%3DOq%2Bjw%40mail.gmail.com%3E"
       TITLE="[ocaml-platform] Is it taking too long for OCaml software to become 4.03-compatible? Would release process changes help?">Fabrice.Le_fessant at inria.fr
       </A><BR>
    <I>Thu Jun 30 09:57:12 BST 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="000683.html">[ocaml-platform] Is it taking too long for OCaml software to become 4.03-compatible? Would release process changes help?
</A></li>
        <LI>Next message: <A HREF="000685.html">[ocaml-platform] Is it taking too long for OCaml software to become 4.03-compatible? Would release process changes help?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#684">[ date ]</a>
              <a href="thread.html#684">[ thread ]</a>
              <a href="subject.html#684">[ subject ]</a>
              <a href="author.html#684">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>If you look at the announce of opam-builder, you will notice that it was
monitoring 4.03.0+beta1 from the beginning:
<A HREF="http://lists.ocaml.org/pipermail/opam-devel/2016-March/001412.html">http://lists.ocaml.org/pipermail/opam-devel/2016-March/001412.html</A>

4.03.0+beta2 was monitored too, as soon as it was released.

But indeed, opam-builder's website is far from perfection, it could be
faster to load, send notifications by email, recognize and display error
messages (and much more, as the information sleeping there is huge...). We
will try to improve it when we have time, but for now, it is on our
spare-time list of projects.

I agree with Yaron that PPX are more and more going to become a problem for
upgrading to the latest OCaml, as Camlp4 was before (and is still,
unfortunately). Many packages now depend on ppx-rewriters, that will almost
never be in sync with trunk, which makes testing trunk very hard, even if
we patch OPAM not to use the upper-bounds on ocaml-version in package
descriptions. Soon, OCaml users will probably ask us to merge some
ppx-rewriters in the OCaml distribution to force the sync, as they asked
for Camlp4 long ago.

--Fabrice


On Thu, Jun 30, 2016 at 9:19 AM Alain Frisch &lt;<A HREF="http://lists.ocaml.org/listinfo/platform">alain.frisch at lexifi.com</A>&gt;
wrote:

&gt;<i> On 30/06/2016 03:56, Alain Frisch wrote:
</I>&gt;<i> &gt; OCamlPro's opam builder (
</I>&gt;<i> &gt; <A HREF="http://opam.ocamlpro.com/builder/html/report-last.html">http://opam.ocamlpro.com/builder/html/report-last.html</A> ) really needs to
</I>&gt;<i> &gt; be more advertised and its UI a bit polished to encourage people to
</I>&gt;<i> &gt; actually look at it.  Also a report per maintainer (with emails sent
</I>&gt;<i> &gt; automatically?) could be useful.
</I>&gt;<i>
</I>&gt;<i> Here is some wishlist for this tool:
</I>&gt;<i>
</I>&gt;<i>   - Add trunk testing: this is what will put pressure for people to
</I>&gt;<i> continuously upgrade their packages.  Ideally, it would also show the
</I>&gt;<i> (date of the) latest successful build on trunk.  Same for release
</I>&gt;<i> branches once they are forked.
</I>&gt;<i>
</I>&gt;<i>   - Make the grid more narrow to fit more versions on a screen (e.g.
</I>&gt;<i> abbreviate Broken Deps to &quot;Deps&quot;) and show more recent versions
</I>&gt;<i> (including trunk) to the left.
</I>&gt;<i>
</I>&gt;<i>   - By default, show only the latest version of each package.
</I>&gt;<i>
</I>&gt;<i>   - Add a mode where packages are grouped by maintainer.
</I>&gt;<i>
</I>&gt;<i>   - Try to make the errors more visible.  E.g. for
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://opam.ocamlpro.com/builder/html/github/github.1.0.0/3b48ac1bc360931d68afa4e126d96b44">http://opam.ocamlpro.com/builder/html/github/github.1.0.0/3b48ac1bc360931d68afa4e126d96b44</A>
</I>&gt;<i> ,
</I>&gt;<i> the section &quot;=== ERROR while compiling github.1.0.0 ==&quot; could be moved
</I>&gt;<i> to the top of the screen.
</I>&gt;<i>
</I>&gt;<i>    - There could also be heuristics to detect the error and show
</I>&gt;<i> directly in the main report grid the category. For instance,
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://opam.ocamlpro.com/builder/html/acgtk/acgtk.1.0b/764d15d569e342c5ee761551e398fb38">http://opam.ocamlpro.com/builder/html/acgtk/acgtk.1.0b/764d15d569e342c5ee761551e398fb38</A>
</I>&gt;<i> is simply about a new warning and &quot;-warn-error A&quot; in the package.
</I>&gt;<i>
</I>&gt;<i>   - It would be useful to force building package even if they claim they
</I>&gt;<i> are not compatible with the latest version (or trunk).  For instance, I
</I>&gt;<i> was curious about why ocamlnet.4.0.4 did not build with 4.03.  (In case
</I>&gt;<i> people wonder, the first problem comes from the new error on multiple
</I>&gt;<i> definitions of exceptions with the same name; this error was introduced
</I>&gt;<i> on trunk in 2014 IIRC.  The fix for ocamlnet is just to remove one line.)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Alain
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Platform mailing list
</I>&gt;<i> <A HREF="http://lists.ocaml.org/listinfo/platform">Platform at lists.ocaml.org</A>
</I>&gt;<i> <A HREF="http://lists.ocaml.org/listinfo/platform">http://lists.ocaml.org/listinfo/platform</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ocaml.org/pipermail/platform/attachments/20160630/28eb8856/attachment.html">http://lists.ocaml.org/pipermail/platform/attachments/20160630/28eb8856/attachment.html</A>&gt;
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000683.html">[ocaml-platform] Is it taking too long for OCaml software to become 4.03-compatible? Would release process changes help?
</A></li>
	<LI>Next message: <A HREF="000685.html">[ocaml-platform] Is it taking too long for OCaml software to become 4.03-compatible? Would release process changes help?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#684">[ date ]</a>
              <a href="thread.html#684">[ thread ]</a>
              <a href="subject.html#684">[ subject ]</a>
              <a href="author.html#684">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/platform">More information about the Platform
mailing list</a><br>
</body></html>
