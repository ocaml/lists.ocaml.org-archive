<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ocaml-platform] Bytes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:platform%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-platform%5D%20Bytes&In-Reply-To=%3CCAPFanBGXP9AA_v3FyhfyH0boJ3D_6OM2qngkLDDJM3Oss6jBPw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000661.html">
   <LINK REL="Next"  HREF="000664.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ocaml-platform] Bytes</H1>
    <B>Gabriel Scherer</B> 
    <A HREF="mailto:platform%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-platform%5D%20Bytes&In-Reply-To=%3CCAPFanBGXP9AA_v3FyhfyH0boJ3D_6OM2qngkLDDJM3Oss6jBPw%40mail.gmail.com%3E"
       TITLE="[ocaml-platform] Bytes">gabriel.scherer at gmail.com
       </A><BR>
    <I>Sat Jun 25 17:54:09 BST 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="000661.html">[ocaml-platform] Bytes
</A></li>
        <LI>Next message: <A HREF="000664.html">[ocaml-platform] Bytes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#662">[ date ]</a>
              <a href="thread.html#662">[ thread ]</a>
              <a href="subject.html#662">[ subject ]</a>
              <a href="author.html#662">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I initially sent it to Gerd Stolpmann on the idea that there may be
non-opam users out there for which it would be a good distribution channel.
The idea came from the fact that ocamlfind already had all those base-*
packages, and that base-bytes was a nice extension of this principle.

It has since been pointed out that this is inconvenient for people that do
not use ocamlfind. My own base-bytes implementation is available
independently from ocamlfind at

  <A HREF="https://github.com/gasche/bytes-compat">https://github.com/gasche/bytes-compat</A>

and I know that others have (partially) reimplemented this, e.g. Pierre
Chambart's ocaml-bytes:

  <A HREF="https://github.com/chambart/ocaml-bytes">https://github.com/chambart/ocaml-bytes</A>

(I now realize that there is no license on my separate bytes-compat
package; it should be BSD or whatever -- inside findlib it is distributed
with findlib's license, which is the MIT license.)

I have no strong opinion on where such compatibility packages should go,
and I think (as we both pointed out) that it would be important to have a
consistent process for those things. If you or someone else are willing to
give clear directives on how to go forward with compatibility packages, I
think it could be really nice. In particular, is there a way to avoid a
combinatorial explosion of small compatibility packages, or is this ok for
users?

(Batteries provides back-ported implementation of new stdlib features, so
using Batteries removes the need for such backward-compatibility packages.
A more general and less invasive solution would still be very nice.)

I think that for the specifics of this package and ocamlfind, you would
have to see directly with Gerd Stolpmann if you want to move it out.

There is also the question of what the responsibility of this package is.
The initial plan was to provide only the features available at the time
Bytes was introduced (4.02), but I think it could be nice to add new
functions to keep up with recent stdlib versions of Bytes. This could be
done as a separate package, but it can also be done in findlib. In my
experience Gerd has been very responsive in updating the bytes
implementation during the 4.02+dev development period, and this may be even
easier now that he switched to git repositories

  <A HREF="https://gitlab.camlcity.org/gerd/lib-findlib">https://gitlab.camlcity.org/gerd/lib-findlib</A>

If we decide to update the bytes package, we have to decide on a versioning
scheme. The simplest may be to have base-bytes version follow upstream
OCaml version, so that people can request

  base-bytes {&gt;= 4.03}

if they use a Bytes feature only available since 4.03.

On Sat, Jun 25, 2016 at 12:35 PM, Daniel B&#252;nzli &lt;<A HREF="http://lists.ocaml.org/listinfo/platform">daniel.buenzli at erratique.ch</A>
&gt;<i> wrote:
</I>
&gt;<i> It strikes me as odd that the bytes compatibility package was integrated
</I>&gt;<i> in ocamlfind.
</I>&gt;<i>
</I>&gt;<i> I'm not sure I understand the rationale behind this move, it obscures
</I>&gt;<i> things rather than enlight them.
</I>&gt;<i>
</I>&gt;<i> I think we should move it out from there as a separate package and follow
</I>&gt;<i> the conventions established by the `result` and `uchar` compatibility
</I>&gt;<i> packages.
</I>&gt;<i>
</I>&gt;<i> Or is there anything that I am missing ?
</I>&gt;<i>
</I>&gt;<i> Best,
</I>&gt;<i>
</I>&gt;<i> Daniel
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Platform mailing list
</I>&gt;<i> <A HREF="http://lists.ocaml.org/listinfo/platform">Platform at lists.ocaml.org</A>
</I>&gt;<i> <A HREF="http://lists.ocaml.org/listinfo/platform">http://lists.ocaml.org/listinfo/platform</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ocaml.org/pipermail/platform/attachments/20160625/ff343c09/attachment.html">http://lists.ocaml.org/pipermail/platform/attachments/20160625/ff343c09/attachment.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000661.html">[ocaml-platform] Bytes
</A></li>
	<LI>Next message: <A HREF="000664.html">[ocaml-platform] Bytes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#662">[ date ]</a>
              <a href="thread.html#662">[ thread ]</a>
              <a href="subject.html#662">[ subject ]</a>
              <a href="author.html#662">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/platform">More information about the Platform
mailing list</a><br>
</body></html>
