<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ocaml-platform] Is it taking too long for OCaml software to become 4.03-compatible? Would release process changes help?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:platform%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-platform%5D%20Is%20it%20taking%20too%20long%20for%20OCaml%20software%20to%20become%0A%204.03-compatible%3F%20Would%20release%20process%20changes%20help%3F&In-Reply-To=%3CCAPFanBEC%3DzZSw_8UmADyZBt6KRWnEAoq6tRLRErUBXX58JieeQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000670.html">
   <LINK REL="Next"  HREF="000672.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ocaml-platform] Is it taking too long for OCaml software to become 4.03-compatible? Would release process changes help?</H1>
    <B>Gabriel Scherer</B> 
    <A HREF="mailto:platform%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-platform%5D%20Is%20it%20taking%20too%20long%20for%20OCaml%20software%20to%20become%0A%204.03-compatible%3F%20Would%20release%20process%20changes%20help%3F&In-Reply-To=%3CCAPFanBEC%3DzZSw_8UmADyZBt6KRWnEAoq6tRLRErUBXX58JieeQ%40mail.gmail.com%3E"
       TITLE="[ocaml-platform] Is it taking too long for OCaml software to become 4.03-compatible? Would release process changes help?">gabriel.scherer at gmail.com
       </A><BR>
    <I>Wed Jun 29 17:40:56 BST 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="000670.html">[ocaml-platform] Bytes
</A></li>
        <LI>Next message: <A HREF="000672.html">[ocaml-platform] Is it taking too long for OCaml software to become 4.03-compatible? Would release process changes help?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#671">[ date ]</a>
              <a href="thread.html#671">[ thread ]</a>
              <a href="subject.html#671">[ subject ]</a>
              <a href="author.html#671">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dear platform,

TL;DR: I propose that we change the OCaml release process to remain in
&quot;beta&quot; stage while there remain OPAM packages that are broken by the new
releases and their version bounds have not been updated.

I'm a bit frustrated with the time it takes for the OCaml ecosystem to
catch up with the 4.03 release -- which has been released two months ago
now, on April 25.

A large chunk of my personal hacking time following the release was spent
on updating Batteries, with a 4.03-compatible release happening on May 12,
so two weeks after the release -- a time I would still consider too long
for our downstream users waiting to try the 4.03 goodness but held back by
a Batteries dependency. I recently helped make atdgen compatible with 4.03
(it's a dependency of IOCaml for example), and just today found out that
Coq releases (or its CoqIDE part) did not work on 4.03 (with no upper-bound
in opam, it would just miscompile).

I find it frustrating because that means that there is a large time window
where we advertise (externally, to beginners, etc.) that the best OCaml
versions ever is 4.03.0, while running opam from this switch to install any
major software whatsoever feels like playing a rigged russian roulette. I
feel bad whenever I'm informed that my software (or anyone else's, in fact)
does not work by end-users that would rather have spent their day doing
something else than trying broken software.

Do you agree that this is a problem? What could we do to fix that?

When I started writing this email I intended to send it to Damien Doligez,
as the release manager of the compiler distribution, with the following
suggestion: maybe we could have a *much longer* beta-testing period for
OCaml versions that would be used not (only) for finding bugs in the new
version, but also to let important pieces of the ecosystem update to the
new version. Say, at least a month. We could have a fixed set of software
that we monitor, or in fact all of what's in OPAM, and delay the release
until they get updated/fixed or their OPAM version bounds get fixed. (Aha,
a Platform indeed!)

Does that sound like a reasonable idea to you? Should we monitor all OPAM,
or only a subset?

This suggestion is rooted in the idea that when we announce the release to
our end-users, stuff should just work -- or refuse to install itself. Maybe
this is an old idea of the SVN times and we're now in the era of
continuously-released, always-broken stuff?

Finally, there has been all this work on the &quot;OPAM weather services&quot;,
continuous build of opam packages etc., plus the work that Damien is doing
around release time. It doesn't seem to have worked very well for 4.03. Who
is monitoring this stuff? Do we need to fix them to make them work better,
or to fix our process to use them better? To be honest, I'm never looking
at these services -- I just don't think of using them. Can I get an email
whenever they detect that my stuff is broken? Say I'm a new package
manager, are there guidelines somewhere on what the best practices are and
what I should do?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ocaml.org/pipermail/platform/attachments/20160629/254d9258/attachment.html">http://lists.ocaml.org/pipermail/platform/attachments/20160629/254d9258/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000670.html">[ocaml-platform] Bytes
</A></li>
	<LI>Next message: <A HREF="000672.html">[ocaml-platform] Is it taking too long for OCaml software to become 4.03-compatible? Would release process changes help?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#671">[ date ]</a>
              <a href="thread.html#671">[ thread ]</a>
              <a href="subject.html#671">[ subject ]</a>
              <a href="author.html#671">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/platform">More information about the Platform
mailing list</a><br>
</body></html>
