<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ocaml-platform] Problem with the lib directory in opam's	directory hierarchy
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:platform%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-platform%5D%20Problem%20with%20the%20lib%20directory%20in%20opam%27s%0A%09directory%20hierarchy&In-Reply-To=%3C0EB3D86D-6303-48EE-B1BD-671662141AA9%40gazagnaire.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000559.html">
   <LINK REL="Next"  HREF="000561.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ocaml-platform] Problem with the lib directory in opam's	directory hierarchy</H1>
    <B>Thomas Gazagnaire</B> 
    <A HREF="mailto:platform%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-platform%5D%20Problem%20with%20the%20lib%20directory%20in%20opam%27s%0A%09directory%20hierarchy&In-Reply-To=%3C0EB3D86D-6303-48EE-B1BD-671662141AA9%40gazagnaire.org%3E"
       TITLE="[ocaml-platform] Problem with the lib directory in opam's	directory hierarchy">thomas at gazagnaire.org
       </A><BR>
    <I>Wed Apr 22 18:20:30 BST 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000559.html">[ocaml-platform] Problem with the lib directory in opam's directory hierarchy
</A></li>
        <LI>Next message: <A HREF="000561.html">[ocaml-platform] Problem with the lib directory in opam's directory hierarchy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#560">[ date ]</a>
              <a href="thread.html#560">[ thread ]</a>
              <a href="subject.html#560">[ subject ]</a>
              <a href="author.html#560">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;&gt;<i> Is there a better way to do this ? (I'm not asking to change the opam
</I>&gt;&gt;<i> directory structure, I just want to understand the best way to be
</I>&gt;&gt;<i> compatible with both distrib packagers and opam packagers).
</I>&gt;<i> 
</I>&gt;<i> I think the simple answer (but other may want to confirm) is to not use `ocamlfind remove` at all. Once you removed the directory you are done. `ocamlfind remove` doesn't do anything more than removing the META file which you already destroyed.
</I>
That's unfortunately not totally true if you are also installing C stubs. In that case you will have stuff in $prefix/stublibs as well. But in most cases it is indeed correct.

Best,
Thomas

&gt;&gt;<i> Also, is it considered good practice to put in an ocamlfind package
</I>&gt;&gt;<i> directory files or subdirectory that were not installed via ocamlfind
</I>&gt;&gt;<i> install ?
</I>&gt;<i> 
</I>&gt;<i> There should be no problem with that. You should really see ocamlfind as something that simply reads and interprets META file wherever they are. For example all my packages are usable with ocamlfind but I install them and remove them without using `ocamlfind` *at all* (I use opam's .install file, which opam handles automatically).  
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000559.html">[ocaml-platform] Problem with the lib directory in opam's directory hierarchy
</A></li>
	<LI>Next message: <A HREF="000561.html">[ocaml-platform] Problem with the lib directory in opam's directory hierarchy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#560">[ date ]</a>
              <a href="thread.html#560">[ thread ]</a>
              <a href="subject.html#560">[ subject ]</a>
              <a href="author.html#560">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/platform">More information about the Platform
mailing list</a><br>
</body></html>
