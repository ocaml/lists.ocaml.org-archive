<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ocaml-platform] Dev Version as Package?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:platform%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-platform%5D%20Dev%20Version%20as%20Package%3F&In-Reply-To=%3CCAG-KTt--kj8DtCX5L9B-CuYETSCL3tJcwpYnnVOhtUgZW%2BVNBA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000568.html">
   <LINK REL="Next"  HREF="000571.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ocaml-platform] Dev Version as Package?</H1>
    <B>Trevor Smith</B> 
    <A HREF="mailto:platform%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-platform%5D%20Dev%20Version%20as%20Package%3F&In-Reply-To=%3CCAG-KTt--kj8DtCX5L9B-CuYETSCL3tJcwpYnnVOhtUgZW%2BVNBA%40mail.gmail.com%3E"
       TITLE="[ocaml-platform] Dev Version as Package?">trevorsummerssmith at gmail.com
       </A><BR>
    <I>Wed May  6 14:22:02 BST 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000568.html">[ocaml-platform] Dev Version as Package?
</A></li>
        <LI>Next message: <A HREF="000571.html">[ocaml-platform] Dev Version as Package?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#570">[ date ]</a>
              <a href="thread.html#570">[ thread ]</a>
              <a href="subject.html#570">[ subject ]</a>
              <a href="author.html#570">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>@Thomas Braibant -- why is having to depend on this other repository a
pain? It's not clear to me. Can you explain more? It seems to me there
would only be a single repository to add, one time. But I am probably
missing something.

Thanks.

Trevor

On Wed, May 6, 2015 at 4:51 AM, Thomas Braibant &lt;<A HREF="http://lists.ocaml.org/listinfo/platform">thomas.braibant at gmail.com</A>&gt;
wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I'm going to try to have an internal opam repo with {package-name}.dev for
</I>&gt;&gt;<i> all internal libraries. This dev version will reference a git repo in the
</I>&gt;&gt;<i> url file. Dependent projects will reference dev as we are building. When we
</I>&gt;&gt;<i> make a release we'll do the normal thing and create a version. This
</I>&gt;&gt;<i> strategy should scale well -- if one has multiple concurrent long-lived
</I>&gt;&gt;<i> versions one can use version &quot;-dev&quot; (again as in Maven SNAPSHOTS). If this
</I>&gt;&gt;<i> ends up serving us well I'll shoot out a blog post about it as it seems
</I>&gt;&gt;<i> there is a lot of interest and different solutions around this topic.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i> Well, we choose to host this internal opam repository in the source code
</I>&gt;<i> of our main project, which helps scaling down the issue of having multiple
</I>&gt;<i> concurrent long lived versions of dev packages. That way, we keep all the
</I>&gt;<i> data relevant to how we built the project in one single place (we do not
</I>&gt;<i> have to cross reference the contents of a shared opam-repository with the
</I>&gt;<i> state of the project we built when we try to investigate something).
</I>&gt;<i>
</I>&gt;<i> That being said, having to depend on such a repository is a pain. What we
</I>&gt;<i> would really to do from a user perspective is to have something like that
</I>&gt;<i> in the project opam file
</I>&gt;<i>
</I>&gt;<i> ```
</I>&gt;<i> opam-version: &quot;1.2&quot;
</I>&gt;<i> ...
</I>&gt;<i> depends: [
</I>&gt;<i>   &quot;asn1-combinators&quot; { = &quot;0.1.1&quot; }
</I>&gt;<i>   ...
</I>&gt;<i>   &quot;foo&quot; { git: &quot;path-to-git/foo#bar&quot;}
</I>&gt;<i> ]
</I>&gt;<i> ```
</I>&gt;<i>
</I>&gt;<i> If the foo repository contains an opam file, this would work almost as
</I>&gt;<i> well as dev-repos, except that's something that can be configured by the
</I>&gt;<i> user of the package rather than by the developer of the package.
</I>&gt;<i>
</I>&gt;<i> Thoughts?
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ocaml.org/pipermail/platform/attachments/20150506/2d7d86f3/attachment.html">http://lists.ocaml.org/pipermail/platform/attachments/20150506/2d7d86f3/attachment.html</A>&gt;
</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000568.html">[ocaml-platform] Dev Version as Package?
</A></li>
	<LI>Next message: <A HREF="000571.html">[ocaml-platform] Dev Version as Package?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#570">[ date ]</a>
              <a href="thread.html#570">[ thread ]</a>
              <a href="subject.html#570">[ subject ]</a>
              <a href="author.html#570">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/platform">More information about the Platform
mailing list</a><br>
</body></html>
