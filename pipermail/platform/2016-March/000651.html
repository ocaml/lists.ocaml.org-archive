<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ocaml-platform] [Caml-list] Package compilation and debug mode
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:platform%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-platform%5D%20%5BCaml-list%5D%20Package%20compilation%20and%20debug%20mode&In-Reply-To=%3C2D9E5D6842A4484183E706191F4745A0%40erratique.ch%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000650.html">
   <LINK REL="Next"  HREF="000652.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ocaml-platform] [Caml-list] Package compilation and debug mode</H1>
    <B>Daniel B&#252;nzli</B> 
    <A HREF="mailto:platform%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-platform%5D%20%5BCaml-list%5D%20Package%20compilation%20and%20debug%20mode&In-Reply-To=%3C2D9E5D6842A4484183E706191F4745A0%40erratique.ch%3E"
       TITLE="[ocaml-platform] [Caml-list] Package compilation and debug mode">daniel.buenzli at erratique.ch
       </A><BR>
    <I>Wed Mar 23 10:23:12 GMT 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="000650.html">[ocaml-platform] [Caml-list] Package compilation and debug mode
</A></li>
        <LI>Next message: <A HREF="000652.html">[ocaml-platform] opam without internet access
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#651">[ date ]</a>
              <a href="thread.html#651">[ thread ]</a>
              <a href="subject.html#651">[ subject ]</a>
              <a href="author.html#651">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

Le mercredi, 23 mars 2016 &#224; 11:02, Thomas Gazagnaire a &#233;crit :

&gt;<i> &gt; By default all my packages are released with -g disabled. It seems easy enough to have an opam switch (even the official one) that automatically enables the flag.
</I>&gt;<i>  
</I>&gt;<i> How do you envision such a global debug flag? As far as I know, there is no configuration-time option to enable that option in the compiler (which would be the cleaner option IMHO). I'd rather avoid using OCAMLPARAM for this.
</I>
I don't know, I think a decent scheme should be figured out by the compiler dev team. It seems there's more than one way of doing this at the moment, see e.g.  

<A HREF="https://github.com/ocaml/ocaml/pull/428">https://github.com/ocaml/ocaml/pull/428</A>
  
&gt;<i> A new opam variable can be created and used in the opam file to pass the debug command (or not) explicitly to the build system, but this will require adapting all the build systems (and ideally a new release of opam, but we can work-around that by setting OPAMVAR_debug in the .comp file).
</I>
I don't think this is a reasonable approach. Debug/profile seems rather a property of your switch than an individual package property. Though one could argue that this should still be added so that packages using other tools than the ocaml compilers can abide to the switch property.  

Daniel


</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000650.html">[ocaml-platform] [Caml-list] Package compilation and debug mode
</A></li>
	<LI>Next message: <A HREF="000652.html">[ocaml-platform] opam without internet access
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#651">[ date ]</a>
              <a href="thread.html#651">[ thread ]</a>
              <a href="subject.html#651">[ subject ]</a>
              <a href="author.html#651">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/platform">More information about the Platform
mailing list</a><br>
</body></html>
