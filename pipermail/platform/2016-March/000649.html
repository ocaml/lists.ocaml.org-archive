<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ocaml-platform] [Caml-list] Package compilation and debug mode
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:platform%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-platform%5D%20%5BCaml-list%5D%20Package%20compilation%20and%20debug%20mode&In-Reply-To=%3CFB914EF9-EE47-4A68-9C83-9746E2EB479B%40gazagnaire.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000648.html">
   <LINK REL="Next"  HREF="000650.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ocaml-platform] [Caml-list] Package compilation and debug mode</H1>
    <B>Thomas Gazagnaire</B> 
    <A HREF="mailto:platform%40lists.ocaml.org?Subject=Re%3A%20%5Bocaml-platform%5D%20%5BCaml-list%5D%20Package%20compilation%20and%20debug%20mode&In-Reply-To=%3CFB914EF9-EE47-4A68-9C83-9746E2EB479B%40gazagnaire.org%3E"
       TITLE="[ocaml-platform] [Caml-list] Package compilation and debug mode">thomas at gazagnaire.org
       </A><BR>
    <I>Wed Mar 23 10:02:47 GMT 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="000648.html">[ocaml-platform] Package compilation and debug mode
</A></li>
        <LI>Next message: <A HREF="000650.html">[ocaml-platform] [Caml-list] Package compilation and debug mode
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#649">[ date ]</a>
              <a href="thread.html#649">[ thread ]</a>
              <a href="subject.html#649">[ subject ]</a>
              <a href="author.html#649">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> By default all my packages are released with -g disabled. It seems easy enough to have an opam switch (even the official one) that automatically enables the flag.
</I>
How do you envision such a global debug flag? As far as I know, there is no configuration-time option to enable that option in the compiler (which would be the cleaner option IMHO). I'd rather avoid using OCAMLPARAM for this. A new opam variable can be created and used in the opam file to pass the debug command (or not) explicitly to the build system, but this will require adapting all the build systems (and ideally a new release of opam, but we can work-around that by setting OPAMVAR_debug in the .comp file).

&gt;<i> So I think OCaml's opam repository should have a policy here. The answer should also take system package managers into account since those pull directly from the tarballs (if this document [3] is still in use for debian it seems they do require compilation with debug mode).
</I>&gt;<i> 
</I>&gt;<i> Personally I don't have an opinion about it, I'm rather seeking an answer here.
</I>
I don't have a strong opinion either. I like when packages come with -g by default, but I can understand that the (small) runtime cost can be a problem for deployment scenarios.

Thomas
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000648.html">[ocaml-platform] Package compilation and debug mode
</A></li>
	<LI>Next message: <A HREF="000650.html">[ocaml-platform] [Caml-list] Package compilation and debug mode
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#649">[ date ]</a>
              <a href="thread.html#649">[ thread ]</a>
              <a href="subject.html#649">[ subject ]</a>
              <a href="author.html#649">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/platform">More information about the Platform
mailing list</a><br>
</body></html>
