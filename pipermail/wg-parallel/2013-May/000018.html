<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [wg-parallel] About Lwt and Async
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:wg-parallel%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-parallel%5D%20About%20Lwt%20and%20Async&In-Reply-To=%3CCACLX4jQ9y7oQM0HO_0JioMGqz%3DCTXT-w1cYwPj6Vtuso1DhOvg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000017.html">
   <LINK REL="Next"  HREF="000020.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[wg-parallel] About Lwt and Async</H1>
    <B>Yaron Minsky</B> 
    <A HREF="mailto:wg-parallel%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-parallel%5D%20About%20Lwt%20and%20Async&In-Reply-To=%3CCACLX4jQ9y7oQM0HO_0JioMGqz%3DCTXT-w1cYwPj6Vtuso1DhOvg%40mail.gmail.com%3E"
       TITLE="[wg-parallel] About Lwt and Async">yminsky at janestreet.com
       </A><BR>
    <I>Wed May  1 01:42:35 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000017.html">[wg-parallel] About Lwt and Async
</A></li>
        <LI>Next message: <A HREF="000020.html">[wg-parallel] About Lwt and Async
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18">[ date ]</a>
              <a href="thread.html#18">[ thread ]</a>
              <a href="subject.html#18">[ subject ]</a>
              <a href="author.html#18">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Apr 30, 2013 at 8:26 PM, Daniel B&#252;nzli
&lt;<A HREF="http://lists.ocaml.org/listinfo/wg-parallel">daniel.buenzli at erratique.ch</A>&gt; wrote:
&gt;<i> Le mardi, 30 avril 2013 &#224; 22:15, Yaron Minsky a &#233;crit :
</I>&gt;&gt;<i> It's a beautiful dream, but it sounds implausible to me.
</I>&gt;<i>
</I>&gt;<i> I don't dream, I write code. But, glancing over the discussion, I
</I>&gt;<i> guess there are factors at that play that are not purely technical
</I>&gt;<i> here.
</I>
For sure.  For example, the size of the community that already knows
and uses a given library or toolchain plays an important role, which
is more than a purely technical questions.

That said, my objection to your proposal is essentially technical.
Writing a layer that abstracts over Lwt and Async seems highly
problematic.  I think it's hard to build such an abstraction that is
performant, reliable, easy to reason about, and flexible enough to
attach to a wide variety of applications.

That said, this is the kind of objection that is easily overcome by
code!  I'd be very curious to see what such an abstraction looked
like.  I'm sure such a thing is not impossible --- after all, Async
and Lwt both abstract over multiple other concurrency primitives, like
select, libev and epoll.

&gt;&gt;<i> I think one might as well propose writing programs in a way that is
</I>&gt;&gt;<i> independent of the programming language. This is doable in some
</I>&gt;&gt;<i> small ways on the margin, but it's not a practical approach.
</I>&gt;<i>
</I>&gt;<i> I don't think that's the point. I guess when you read/use code that
</I>&gt;<i> you are not happy with it's just sane to not depend too much on
</I>&gt;<i> it. That may be painful in the short term but more rewarding in the
</I>&gt;<i> long term (which is what I'm interested in).
</I>&gt;<i>
</I>&gt;&gt;<i> But this represents only a small part of the concurrent code that
</I>&gt;&gt;<i> one writes, and so only solves a small part of the problem.
</I>&gt;<i>
</I>&gt;<i> The question is which amount of the concurrent code you write is
</I>&gt;<i> really application independent. I don't have the answer but my bet
</I>&gt;<i> on that is that it's actually quite few. You may have a few
</I>&gt;<i> concurrency patterns but I don't see how this couldn't be provided
</I>&gt;<i> the asynchronous libraries themselves using the asynchronously
</I>&gt;<i> &quot;agnostic&quot; primitive libraries.
</I>&gt;<i>
</I>&gt;<i> But that may require a different mindset (especially one that is not
</I>&gt;<i> tied to the application one is currently writing).
</I>
I don't understand what you mean by &quot;application independent&quot;.  There
are of course lots of application-independent libraries written in
Async (and Lwt too), from communication mechanisms like Async-RPC to
code for setting up TCP servers and clients in the Tcp module, to
logging facilities like Async's Log library.  But these libraries all
depend on the error handling, concurrency and performance semantics of
Async.

y
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000017.html">[wg-parallel] About Lwt and Async
</A></li>
	<LI>Next message: <A HREF="000020.html">[wg-parallel] About Lwt and Async
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18">[ date ]</a>
              <a href="thread.html#18">[ thread ]</a>
              <a href="subject.html#18">[ subject ]</a>
              <a href="author.html#18">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/wg-parallel">More information about the wg-parallel
mailing list</a><br>
</body></html>
