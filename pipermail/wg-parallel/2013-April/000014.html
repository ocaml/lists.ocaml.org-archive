<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [wg-parallel] About Lwt and Async
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:wg-parallel%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-parallel%5D%20About%20Lwt%20and%20Async&In-Reply-To=%3CCADKNfhLArip0chsO9h0zjvt066_zmOM1nuUUFO%3Do-L4qeJ%3DxRA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000013.html">
   <LINK REL="Next"  HREF="000015.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[wg-parallel] About Lwt and Async</H1>
    <B>Yaron Minsky</B> 
    <A HREF="mailto:wg-parallel%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-parallel%5D%20About%20Lwt%20and%20Async&In-Reply-To=%3CCADKNfhLArip0chsO9h0zjvt066_zmOM1nuUUFO%3Do-L4qeJ%3DxRA%40mail.gmail.com%3E"
       TITLE="[wg-parallel] About Lwt and Async">yminsky at gmail.com
       </A><BR>
    <I>Tue Apr 30 13:58:58 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000013.html">[wg-parallel] About Lwt and Async
</A></li>
        <LI>Next message: <A HREF="000015.html">[wg-parallel]  About Lwt and Async
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14">[ date ]</a>
              <a href="thread.html#14">[ thread ]</a>
              <a href="subject.html#14">[ subject ]</a>
              <a href="author.html#14">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Apr 30, 2013 at 8:43 AM, Vincent Balat
&lt;<A HREF="http://lists.ocaml.org/listinfo/wg-parallel">vincent.balat at univ-paris-diderot.fr</A>&gt; wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I want to thank very much Yaron and all of you for taking time to try to find
</I>&gt;<i> a solution to this problem. I also want to remind the position of the Ocsigen
</I>&gt;<i> project on this list (and make it clear that we do not plan to switch to
</I>&gt;<i> Async).
</I>&gt;<i>
</I>&gt;&gt;<i> I'm not sure that the right goal is &quot;to make them evolve so they are
</I>&gt;&gt;<i> close enough&quot;.  If we're going to end up with just one implementation,
</I>&gt;&gt;<i> it's hard for me to see how it's not going to be Async, because Jane
</I>&gt;&gt;<i> Street is not going to be able to move away from Async as a practical
</I>&gt;&gt;<i> matter.
</I>&gt;<i>
</I>&gt;<i> I understand but I think it is even worse for Lwt, because it is used by many
</I>&gt;<i> projects (representing several hundreds of thousand of lines, written by many
</I>&gt;<i> people). Ending up with one implementation is unfortunately a very unlikely
</I>&gt;<i> hypothesis. That's why I proposed, not to drop one of the implementation, but
</I>&gt;<i> to try to converge in term of features and semantics, in order to make it
</I>&gt;<i> easier to adapt libraries for one or the other, and thus limit the impact of
</I>&gt;<i> the schism Async is creating.
</I>
Unfortunately, I don't see how having two libraries with different
implementations and similar semantics is much of an improvement over
the current state of affairs.  Using functors for making libraries
portable over the two is no way to live!

I understand your reluctance to switch away from Lwt --- surely,
dealing with the migration would be disruptive and would take
significant time and effort.  Indeed, our own situation is that we
have a few million lines of code using Async, 100 or so active
developers internally, and many mission-critical applications that
depend on the details of Async's semantics and performance, so moving
away from it is a non-starter for us as well.

In any case, I think the question of how to maximize interoperatbility
between Async and Lwt seems on topic.  Beyond that, we're interested
in understanding what can be done to make Async more broadly useful to
people outside of Jane Street.

y

&gt;<i> It is not possible to ask Lwt projects to switch to the current implementation
</I>&gt;<i> of Async, because there are too many projects and most of them will probably
</I>&gt;<i> just do nothing.The Ocsigen Web framework itself is a large piece of code,
</I>&gt;<i> relying a lot on very precise details of the semantics of Lwt. We are
</I>&gt;<i> currently working on ambititous projects that have a much higher level of
</I>&gt;<i> priority. Besides, we cannot take this decision for all our users.
</I>&gt;<i>
</I>&gt;<i> If Jane Street does not want to switch to Lwt (which would be the best
</I>&gt;<i> solution for the community but I understand that it is not easy), the only
</I>&gt;<i> possibility I see to end up with one implementation is to make Async evolve so
</I>&gt;<i> that it could really be used in some way as an exact replacement for Lwt.
</I>&gt;<i>
</I>&gt;<i> In the current state of things, I want to make it clear that Ocsigen will not
</I>&gt;<i> switch to Async, and will not abandon Lwt users, and continue to encourage
</I>&gt;<i> people using Lwt rather than Async, in order to keep a consistency between
</I>&gt;<i> libraries.
</I>&gt;<i>
</I>&gt;<i> But we would be happy if Jane Street could help avoid a split of the OCaml
</I>&gt;<i> community ... The solutions you propose are a very good first step, and we
</I>&gt;<i> appreciate it.
</I>&gt;<i>
</I>&gt;<i> Vincent
</I>&gt;<i>
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000013.html">[wg-parallel] About Lwt and Async
</A></li>
	<LI>Next message: <A HREF="000015.html">[wg-parallel]  About Lwt and Async
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14">[ date ]</a>
              <a href="thread.html#14">[ thread ]</a>
              <a href="subject.html#14">[ subject ]</a>
              <a href="author.html#14">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/wg-parallel">More information about the wg-parallel
mailing list</a><br>
</body></html>
