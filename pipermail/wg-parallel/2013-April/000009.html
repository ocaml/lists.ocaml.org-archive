<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [wg-parallel] About Lwt and Async
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:wg-parallel%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-parallel%5D%20About%20Lwt%20and%20Async&In-Reply-To=%3CCANhEzE41SzZd%2B0C5dniq6hS0E9Vi7s6_iC3CQtCu9X8ikmwv4w%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000008.html">
   <LINK REL="Next"  HREF="000011.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[wg-parallel] About Lwt and Async</H1>
    <B>Jeremie Dimino</B> 
    <A HREF="mailto:wg-parallel%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-parallel%5D%20About%20Lwt%20and%20Async&In-Reply-To=%3CCANhEzE41SzZd%2B0C5dniq6hS0E9Vi7s6_iC3CQtCu9X8ikmwv4w%40mail.gmail.com%3E"
       TITLE="[wg-parallel] About Lwt and Async">jdimino at janestreet.com
       </A><BR>
    <I>Mon Apr 29 16:48:39 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000008.html">[wg-parallel] About Lwt and Async
</A></li>
        <LI>Next message: <A HREF="000011.html">[wg-parallel] About Lwt and Async
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9">[ date ]</a>
              <a href="thread.html#9">[ thread ]</a>
              <a href="subject.html#9">[ subject ]</a>
              <a href="author.html#9">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Apr 29, 2013 at 4:34 PM, Anil Madhavapeddy &lt;<A HREF="http://lists.ocaml.org/listinfo/wg-parallel">anil at recoil.org</A>&gt; wrote:
&gt;<i> Right... and at the block level and not the filesystem level.  Many
</I>&gt;<i> modern operating systems do expose an async block interface that isn't
</I>&gt;<i> POSIX that would be better to bind against than POSIX AIO, such as
</I>&gt;<i> libaio on Linux.
</I>
Yeah, I did a few experiments with that.  We could bind to libaio but
definitely not make it the default.  It requires O_DIRECT which
destroys performances when data are already cached by the kernel.
Also it transparently default to synchronous IO when AIO is not
supported by the filesystem and there is no way to detect it.

So it could be a third-party library for specific use but cannot
replace the generic disk IO interface.

&gt;<i> All of this makes me worry that we're entering a mire of cross-platform
</I>&gt;<i> issues as Async goes more open.  libuv [3], for example, takes care of
</I>&gt;<i> many of these async-IO issues, and has a large userbase thanks to our
</I>&gt;<i> Javascript-loving friends at Nodejs.  I wonder if a good intern project
</I>&gt;<i> would be to bind libuv to Async and test its performance profile vs
</I>&gt;<i> the current tree...
</I>
Interesting.  I think it would be worth trying.
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000008.html">[wg-parallel] About Lwt and Async
</A></li>
	<LI>Next message: <A HREF="000011.html">[wg-parallel] About Lwt and Async
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9">[ date ]</a>
              <a href="thread.html#9">[ thread ]</a>
              <a href="subject.html#9">[ subject ]</a>
              <a href="author.html#9">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/wg-parallel">More information about the wg-parallel
mailing list</a><br>
</body></html>
