<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [wg-camlp4] A new branch to experiment with extension points
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:wg-camlp4%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-camlp4%5D%20A%20new%20branch%20to%20experiment%20with%20extension%20points&In-Reply-To=%3C513858DD.6040705%40lexifi.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000315.html">
   <LINK REL="Next"  HREF="000320.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[wg-camlp4] A new branch to experiment with extension points</H1>
    <B>Alain Frisch</B> 
    <A HREF="mailto:wg-camlp4%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-camlp4%5D%20A%20new%20branch%20to%20experiment%20with%20extension%20points&In-Reply-To=%3C513858DD.6040705%40lexifi.com%3E"
       TITLE="[wg-camlp4] A new branch to experiment with extension points">alain.frisch at lexifi.com
       </A><BR>
    <I>Thu Mar  7 09:07:41 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000315.html">[wg-camlp4] A new branch to experiment with extension points
</A></li>
        <LI>Next message: <A HREF="000320.html">[wg-camlp4] Request for feedback (was: A new branch to experiment with extension points)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#319">[ date ]</a>
              <a href="thread.html#319">[ thread ]</a>
              <a href="subject.html#319">[ subject ]</a>
              <a href="author.html#319">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 03/06/2013 04:51 PM, Alain Frisch wrote:
&gt;<i> Do people see use cases where the prefix syntax is much better?
</I>
I found only one case: attaching meta-data to a function in an .ml file 
is better done before the function code than after, for readability 
purposes.  (In interfaces, it's fine to put the comments/meta-data after 
the function declaration, since the prototype is short enough.)


[^^backend ensure_inlining]
let foobar x l =
   ...

But I'm not sure it is worth creating more syntax only for that case.

What do you think?

Unless someone objects to it, I'll remove the prefix syntax.



An alternative solution to the case above (which we can implement later) 
could be to keep the standard syntax for postfix [@...] attributes and 
allow to put the attribute on the function name and/or on the let keyword:

    let foobar [@backend ensure_inlining] x l =
       ...

    or:

    let[@backend ensure_inlining] foobar x l =
       ...

which could be represented as:

    let foobar = ((fun x l -&gt; ...) [@backend ensure_inlining])
    (the attribute is on the function expression)

    or:

    let (foobar [@backend ensure_inlining]) = fun x l -&gt; ...
    (the attribute is on the pattern)




Alain
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000315.html">[wg-camlp4] A new branch to experiment with extension points
</A></li>
	<LI>Next message: <A HREF="000320.html">[wg-camlp4] Request for feedback (was: A new branch to experiment with extension points)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#319">[ date ]</a>
              <a href="thread.html#319">[ thread ]</a>
              <a href="subject.html#319">[ subject ]</a>
              <a href="author.html#319">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/wg-camlp4">More information about the wg-camlp4
mailing list</a><br>
</body></html>
