<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [wg-camlp4] Request for feedback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:wg-camlp4%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-camlp4%5D%20Request%20for%20feedback&In-Reply-To=%3C86fvzzgf4p.fsf%40cam.ac.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000329.html">
   <LINK REL="Next"  HREF="000331.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[wg-camlp4] Request for feedback</H1>
    <B>Leo White</B> 
    <A HREF="mailto:wg-camlp4%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-camlp4%5D%20Request%20for%20feedback&In-Reply-To=%3C86fvzzgf4p.fsf%40cam.ac.uk%3E"
       TITLE="[wg-camlp4] Request for feedback">lpw25 at cam.ac.uk
       </A><BR>
    <I>Wed Mar 13 21:32:22 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000329.html">[wg-camlp4] Request for feedback
</A></li>
        <LI>Next message: <A HREF="000331.html">[wg-camlp4] Request for feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#330">[ date ]</a>
              <a href="thread.html#330">[ thread ]</a>
              <a href="subject.html#330">[ subject ]</a>
              <a href="author.html#330">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;&gt;&gt;<i> we can also write:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>    ((@id arg) expr)
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> which is equivalent to:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>    (expr (@id arg))
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> As long as you meant
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>      ([@id arg] expr)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> then this is also a good idea.
</I>&gt;<i>
</I>&gt;<i> No, I really meant (expr (@id arg)).
</I>&gt;<i>
</I>
Sorry, what i meant was that it should be ([@id arg] expr) instead of
((@arg) expr). In other words, it should be square brackets like the
other attributes.

&gt;<i>
</I>&gt;<i> I can see that there is a possibility to write awkward code, but I don't think people would actually do it.  We can try
</I>&gt;<i> to find a better syntax, but I would find it sad to pick something more heavy only because the light syntax could
</I>&gt;<i> theoretically allow people to write confusing code.
</I>&gt;<i>
</I>&gt;<i> I don't see &quot;let % lwt&quot; as a worst kind of code than: ...
</I>
I do think that 

  let % lwt x = ...

is potentially confusing. Maybe it would be better as

  let . lwt x = ...

since people nearly always write dots without spaces, and a dot
obviously can't be an operator. Another posibility would be

  let .% lwt x = ...

It does seems like we're going from having a single extension syntax to
having many extension syntaxes. I can see the benefit of &quot;let % lwt&quot;
since that will probably be a common extension point (the same goes for
&quot;match % bit&quot;) but is there much to be gained from the other possible
keyword extensions. The [%foo expr] syntax provides a clear indication
of which parts are an extension, that is less clear for some other
constructs.

&gt;&gt;<i> I don't think this is a good idea because you are parsing '%' as a
</I>&gt;&gt;<i> strange prefix operator, so that all of the following are allowed:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> (% foo expr) ( %foo expr ) ( % foo expr )
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ((* hello world*)%
</I>&gt;&gt;<i>    foo expr
</I>&gt;&gt;<i> )
</I>&gt;<i>
</I>&gt;<i> Again, we can try to fix that in the lexer/parser, or just publicize the &quot;good style&quot;.  I don't think that the grammar
</I>&gt;<i> is supposed to prevent people from writing un-readable code, just to allow and encourage them to write good one.
</I>
While &quot;let % lwt&quot; may be alright, I do think that

( % id expr )

is a bad idea. It looks too much like a prefix operator. Also, having a
two character delimiter that isn't a single token is different from
every other two character delimiter in the langauge. It also means that
you can't use precedence to resolve conflicts in the parser. Is there
any real benefit in using (%id expr) instead of [%id expr]?
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000329.html">[wg-camlp4] Request for feedback
</A></li>
	<LI>Next message: <A HREF="000331.html">[wg-camlp4] Request for feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#330">[ date ]</a>
              <a href="thread.html#330">[ thread ]</a>
              <a href="subject.html#330">[ subject ]</a>
              <a href="author.html#330">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/wg-camlp4">More information about the wg-camlp4
mailing list</a><br>
</body></html>
