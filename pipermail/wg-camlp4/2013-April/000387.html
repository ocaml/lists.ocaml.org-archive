<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [wg-camlp4] About 'a loc in the Parsetree
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:wg-camlp4%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-camlp4%5D%20About%20%27a%20loc%20in%20the%20Parsetree&In-Reply-To=%3C515DC7CE.9070407%40lexifi.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000385.html">
   <LINK REL="Next"  HREF="000388.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[wg-camlp4] About 'a loc in the Parsetree</H1>
    <B>Alain Frisch</B> 
    <A HREF="mailto:wg-camlp4%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-camlp4%5D%20About%20%27a%20loc%20in%20the%20Parsetree&In-Reply-To=%3C515DC7CE.9070407%40lexifi.com%3E"
       TITLE="[wg-camlp4] About 'a loc in the Parsetree">alain.frisch at lexifi.com
       </A><BR>
    <I>Thu Apr  4 19:34:54 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000385.html">[wg-camlp4] About 'a loc in the Parsetree
</A></li>
        <LI>Next message: <A HREF="000388.html">[wg-camlp4] About Ptyp_poly nodes in the Parsetree
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#387">[ date ]</a>
              <a href="thread.html#387">[ thread ]</a>
              <a href="subject.html#387">[ subject ]</a>
              <a href="author.html#387">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 4/4/2013 4:51 PM, Gabriel Scherer wrote:
&gt;<i> (How good is your coverage of the existing codebase, in the
</I>&gt;<i> distribution, that depends on the parsetree and typedtree structure?
</I>&gt;<i> There is Camlp4 of course, and in this case I think you could easily
</I>&gt;<i> make it compatible to your changes.
</I>
&quot;make world opt opt.opt&quot; is ok. It means in particular that Camlp4 has 
been minimally adapted to target the revised Parsetree only; it hasn't 
been extended to support new syntactic features in its parser and own 
representation of the OCaml AST.  As I mentioned in my email to 
wg-camlp4 (not caml-devel), any help in updating Camlp4 will be much 
appreciated, and I think it's better to work on this quite soon in order 
to evaluate possible migration plans and inter-operation between camlp4 
and ppx + extension_points.  For instance, if Jane Street starts porting 
some of their extensions to ppx in order to experiment with 
extension_points and provide feedback, they will need camlp4 to support 
attributes/extensions to be able to apply those ppx filters to their 
real code base, which also depends on other camlp4 extensions.

Ocamldoc compiles but I haven't tried it.  Maybe it works fine, maybe it 
needs to be adapted to report in a clean way new features. Also even 
without big refactoring plans, it would probably be easy to have it 
support attributes in addition to the current syntax for comments (thus 
making it possible for -ppx rewriters to generate documentations snippet).

&gt;<i> I am a bit more worried about the
</I>&gt;<i> not-clearly-defined stuff that was added with bin-annot, (printing
</I>&gt;<i> typedtree and stuff), some of which in tools/, some in other places,
</I>&gt;<i> that I'm not sure are all exercised or even compiled by the usual
</I>&gt;<i> &quot;make world.opt&quot; drill.)
</I>
pprintast (the pretty-printer of the Parsetree in &quot;source syntax&quot;) 
compiles but fails on or does not print properly new constructions.

I'm not aware of other new fancy stuff depending on the Parsetree.


Alain
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000385.html">[wg-camlp4] About 'a loc in the Parsetree
</A></li>
	<LI>Next message: <A HREF="000388.html">[wg-camlp4] About Ptyp_poly nodes in the Parsetree
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#387">[ date ]</a>
              <a href="thread.html#387">[ thread ]</a>
              <a href="subject.html#387">[ subject ]</a>
              <a href="author.html#387">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/wg-camlp4">More information about the wg-camlp4
mailing list</a><br>
</body></html>
