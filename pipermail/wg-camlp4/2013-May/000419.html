<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [wg-camlp4] nested quotation lexing problem?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:wg-camlp4%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-camlp4%5D%20nested%20quotation%20lexing%20problem%3F&In-Reply-To=%3CCANcqPu7A-_0AqpPa2Em2JLAwQXTwNUd8H%3Dm8EhP3bj%2BN_dprZw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000428.html">
   <LINK REL="Next"  HREF="000420.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[wg-camlp4] nested quotation lexing problem?</H1>
    <B>Bob Zhang</B> 
    <A HREF="mailto:wg-camlp4%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-camlp4%5D%20nested%20quotation%20lexing%20problem%3F&In-Reply-To=%3CCANcqPu7A-_0AqpPa2Em2JLAwQXTwNUd8H%3Dm8EhP3bj%2BN_dprZw%40mail.gmail.com%3E"
       TITLE="[wg-camlp4] nested quotation lexing problem?">bobzhang1988 at gmail.com
       </A><BR>
    <I>Sat May 11 15:03:10 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000428.html">[wg-camlp4] Raw representation of literals in the parsetree
</A></li>
        <LI>Next message: <A HREF="000420.html">[wg-camlp4] nested quotation lexing problem?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#419">[ date ]</a>
              <a href="thread.html#419">[ thread ]</a>
              <a href="subject.html#419">[ subject ]</a>
              <a href="author.html#419">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,
   I have came across a nasty bug when lexing the nested quotations. I
would like to have your opinions about this problem.

   Sample 1:
   {:q|  &quot;|}&quot; |}
       Shall we accept this or reject it? the intuition is that this is a
legal quotation, however, if we treat the contents inside the quotation in
a verbatim way, this is illegal...
  Sample 2:
  {:q| '&quot;' |}
     If we treat &quot; inside the quotation specially, the quotation above
seems to be illegal (a non-terminated string).

   If we treat both ' and &quot; inside quotation in a special way, which is
good in most cases, then we lose some use cases, for example, the contents
inside the quotation have to follow the same string char lexical convention
as OCaml.. what do you think?
-- 
Regards
-- Bob
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ocaml.org/pipermail/wg-camlp4/attachments/20130511/01656fcd/attachment.html">http://lists.ocaml.org/pipermail/wg-camlp4/attachments/20130511/01656fcd/attachment.html</A>&gt;
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000428.html">[wg-camlp4] Raw representation of literals in the parsetree
</A></li>
	<LI>Next message: <A HREF="000420.html">[wg-camlp4] nested quotation lexing problem?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#419">[ date ]</a>
              <a href="thread.html#419">[ thread ]</a>
              <a href="subject.html#419">[ subject ]</a>
              <a href="author.html#419">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/wg-camlp4">More information about the wg-camlp4
mailing list</a><br>
</body></html>
