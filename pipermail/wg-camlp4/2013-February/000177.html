<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [wg-camlp4] On domain-specific foreign syntaxes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:wg-camlp4%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-camlp4%5D%20On%20domain-specific%20foreign%20syntaxes&In-Reply-To=%3C510B70EA.1040102%40lexifi.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="000179.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[wg-camlp4] On domain-specific foreign syntaxes</H1>
    <B>Alain Frisch</B> 
    <A HREF="mailto:wg-camlp4%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-camlp4%5D%20On%20domain-specific%20foreign%20syntaxes&In-Reply-To=%3C510B70EA.1040102%40lexifi.com%3E"
       TITLE="[wg-camlp4] On domain-specific foreign syntaxes">alain.frisch at lexifi.com
       </A><BR>
    <I>Fri Feb  1 07:38:18 GMT 2013</I>
    <P><UL>
        
        <LI>Next message: <A HREF="000179.html">[wg-camlp4] On domain-specific foreign syntaxes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#177">[ date ]</a>
              <a href="thread.html#177">[ thread ]</a>
              <a href="subject.html#177">[ subject ]</a>
              <a href="author.html#177">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 1/31/2013 7:04 PM, Leo White wrote:
&gt;&gt;<i>   {:lid x|..|x}
</I>&gt;<i> I would be perfectly happy with &quot;&lt;&quot; + &quot;&gt;&quot; instead of |, or anything else
</I>&gt;<i> which doesn't interfere with the {:lid expr } syntax. As long as its a
</I>&gt;<i> single-character and it is not &quot;{&quot; + &quot;}&quot;.
</I>
In OCaml, delimiters are built from those symbols:  {...}, (...), [...], 
sometimes combined with other characters as in [|...|].  It is probably 
a good idea to keep using one of these kinds of parentheses as outer 
delimiters, both to make it clear in the syntax that they are indeed 
matched delimiters, and also to benefit from basic editor support (for 
matching parentheses), when quotations are not recognized as such.  I 
don't have a concrete proposal for a syntax, though.

Something else: I suggest that the &quot;marker&quot; (lid in your examples) for 
extension node (whether they are combined with quotations or not) could 
rather be a general expression than just an identifier (maybe with a 
lighter syntax for the simple identifier case).  (In the Parsetree, we 
would have &quot;Pexp_extension of expression * expression&quot; instead of 
&quot;Pexp_extension string * expression&quot;.)  This is to support passing 
arguments to the &quot;expander&quot;.  Of course, those arguments could be 
encoded in the &quot;content&quot;, but I believe it makes sense to distinguish 
those two concepts.  In particular, if you use the combined extension + 
quotation form, you probably want parsed arguments even with unparsed 
content:

  {:(html ~strict ~antiquot:'$') |&lt;div class=$x/&gt;|}


&gt;<i> Considering a parser is probably more effort to write than an AST
</I>&gt;<i> transformer, I don't think you need to worry too much.
</I>
(Requiring more effort is unfortunately often valued as a good thing!)


Alain
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="000179.html">[wg-camlp4] On domain-specific foreign syntaxes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#177">[ date ]</a>
              <a href="thread.html#177">[ thread ]</a>
              <a href="subject.html#177">[ subject ]</a>
              <a href="author.html#177">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/wg-camlp4">More information about the wg-camlp4
mailing list</a><br>
</body></html>
