<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [wg-camlp4] Structured comments, shallow embeddings and deep quasiquotations
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:wg-camlp4%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-camlp4%5D%20Structured%20comments%2C%0A%20shallow%20embeddings%20and%20deep%20quasiquotations&In-Reply-To=%3C5111308B.3080903%40lexifi.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000204.html">
   <LINK REL="Next"  HREF="000208.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[wg-camlp4] Structured comments, shallow embeddings and deep quasiquotations</H1>
    <B>Alain Frisch</B> 
    <A HREF="mailto:wg-camlp4%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-camlp4%5D%20Structured%20comments%2C%0A%20shallow%20embeddings%20and%20deep%20quasiquotations&In-Reply-To=%3C5111308B.3080903%40lexifi.com%3E"
       TITLE="[wg-camlp4] Structured comments, shallow embeddings and deep quasiquotations">alain.frisch at lexifi.com
       </A><BR>
    <I>Tue Feb  5 16:17:15 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000204.html">[wg-camlp4] Structured comments,	shallow embeddings and deep quasiquotations
</A></li>
        <LI>Next message: <A HREF="000208.html">[wg-camlp4] Structured comments,	shallow embeddings and deep quasiquotations
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#207">[ date ]</a>
              <a href="thread.html#207">[ thread ]</a>
              <a href="subject.html#207">[ subject ]</a>
              <a href="author.html#207">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 02/05/2013 04:57 PM, Leo White wrote:
&gt;<i> There is no fundamental difference between the two ideas. There are
</I>&gt;<i> problems with trying to use functions within modules as extensions. My
</I>&gt;<i> proposal is simply that we can get around this by attaching the
</I>&gt;<i> functions to namespaces.
</I>
I don't see why this notion of quotation expander is linked to 
namespaces.  The problem is not that the code for expanders is attached 
to module, but simply that it this code needs to run during compilation, 
and must thus have been compiled in an early stage of the build process 
(and then linked statically/dynamically in the compiler or pre-processor 
driver).  I don't think we need namespaces nor a new file extension to 
do that.  Quotations expander are just regular OCaml code, with the full 
expressive power of the language, and as any OCaml code to be compiled, 
they need to be part of some module.  I don't see any problem here.

&gt;<i> I'm not suggesting any notion of staged compilation. The whole point of
</I>&gt;<i> separating functions for extensions from modules is to avoid this issue.
</I>
The OCaml code in .mlq files need to be compiled before any unit which 
uses this expander, and it will be run somehow during the compilation of 
that unit.  &quot;User-land&quot; code executed during compilation of another 
piece of code look like staged compilation.



Alain
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000204.html">[wg-camlp4] Structured comments,	shallow embeddings and deep quasiquotations
</A></li>
	<LI>Next message: <A HREF="000208.html">[wg-camlp4] Structured comments,	shallow embeddings and deep quasiquotations
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#207">[ date ]</a>
              <a href="thread.html#207">[ thread ]</a>
              <a href="subject.html#207">[ subject ]</a>
              <a href="author.html#207">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/wg-camlp4">More information about the wg-camlp4
mailing list</a><br>
</body></html>
