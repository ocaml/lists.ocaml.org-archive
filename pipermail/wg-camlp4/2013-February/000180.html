<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [wg-camlp4] On domain-specific foreign syntaxes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:wg-camlp4%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-camlp4%5D%20On%20domain-specific%20foreign%20syntaxes&In-Reply-To=%3C1359711250.10634.21%40samsung%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000184.html">
   <LINK REL="Next"  HREF="000181.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[wg-camlp4] On domain-specific foreign syntaxes</H1>
    <B>Gerd Stolpmann</B> 
    <A HREF="mailto:wg-camlp4%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-camlp4%5D%20On%20domain-specific%20foreign%20syntaxes&In-Reply-To=%3C1359711250.10634.21%40samsung%3E"
       TITLE="[wg-camlp4] On domain-specific foreign syntaxes">info at gerd-stolpmann.de
       </A><BR>
    <I>Fri Feb  1 09:34:10 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000184.html">[wg-camlp4] On domain-specific foreign syntaxes
</A></li>
        <LI>Next message: <A HREF="000181.html">[wg-camlp4] On domain-specific foreign syntaxes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#180">[ date ]</a>
              <a href="thread.html#180">[ thread ]</a>
              <a href="subject.html#180">[ subject ]</a>
              <a href="author.html#180">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Am 01.02.2013 08:38:18 schrieb(en) Alain Frisch:
&gt;<i> Something else: I suggest that the &quot;marker&quot; (lid in your examples)  
</I>&gt;<i> for extension node (whether they are combined with quotations or not)  
</I>&gt;<i> could rather be a general expression than just an identifier (maybe  
</I>&gt;<i> with a lighter syntax for the simple identifier case).  (In the  
</I>&gt;<i> Parsetree, we would have &quot;Pexp_extension of expression * expression&quot;  
</I>&gt;<i> instead of &quot;Pexp_extension string * expression&quot;.)  This is to support  
</I>&gt;<i> passing arguments to the &quot;expander&quot;.  Of course, those arguments  
</I>&gt;<i> could be encoded in the &quot;content&quot;, but I believe it makes sense to  
</I>&gt;<i> distinguish those two concepts.  In particular, if you use the  
</I>&gt;<i> combined extension + quotation form, you probably want parsed  
</I>&gt;<i> arguments even with unparsed content:
</I>&gt;<i> 
</I>&gt;<i>  {:(html ~strict ~antiquot:'$') |&lt;div class=$x/&gt;|}
</I>
I don't think users would like this style in general - you don't want  
to repeat configuration aspects like ~strict and ~antiquot in every  
quotation. Normally the same configuration applies to a whole  
subexpression or even the whole file.

For the few camlp4 parsers I wrote I used special configuration  
quotations for this purpose, i.e. here

{:html_config ~strict ~antiquot:'$'}

and this would apply &quot;for the rest&quot; whatever this is. But this was rare  
so far, I can remember there was one such configuration for the  
character set of generated XML docs.

Gerd



&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i> Considering a parser is probably more effort to write than an AST
</I>&gt;&gt;<i> transformer, I don't think you need to worry too much.
</I>&gt;<i> 
</I>&gt;<i> (Requiring more effort is unfortunately often valued as a good thing!)
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Alain
</I>&gt;<i> _______________________________________________
</I>&gt;<i> wg-camlp4 mailing list
</I>&gt;<i> <A HREF="http://lists.ocaml.org/listinfo/wg-camlp4">wg-camlp4 at lists.ocaml.org</A>
</I>&gt;<i> <A HREF="http://lists.ocaml.org/listinfo/wg-camlp4">http://lists.ocaml.org/listinfo/wg-camlp4</A>
</I>&gt;<i> 
</I>

-- 
------------------------------------------------------------
Gerd Stolpmann, Darmstadt, Germany    <A HREF="http://lists.ocaml.org/listinfo/wg-camlp4">gerd at gerd-stolpmann.de</A>
Creator of GODI and camlcity.org.
Contact details:        <A HREF="http://www.camlcity.org/contact.html">http://www.camlcity.org/contact.html</A>
Company homepage:       <A HREF="http://www.gerd-stolpmann.de">http://www.gerd-stolpmann.de</A>
------------------------------------------------------------
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000184.html">[wg-camlp4] On domain-specific foreign syntaxes
</A></li>
	<LI>Next message: <A HREF="000181.html">[wg-camlp4] On domain-specific foreign syntaxes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#180">[ date ]</a>
              <a href="thread.html#180">[ thread ]</a>
              <a href="subject.html#180">[ subject ]</a>
              <a href="author.html#180">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/wg-camlp4">More information about the wg-camlp4
mailing list</a><br>
</body></html>
