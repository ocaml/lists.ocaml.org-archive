<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [wg-camlp4] [Caml-devel] Structure/signature attributes	suggestion
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:wg-camlp4%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-camlp4%5D%20%5BCaml-devel%5D%20Structure/signature%20attributes%0A%09suggestion&In-Reply-To=%3C534D1B84.5060802%40frisch.fr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000497.html">
   <LINK REL="Next"  HREF="000492.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[wg-camlp4] [Caml-devel] Structure/signature attributes	suggestion</H1>
    <B>Alain Frisch</B> 
    <A HREF="mailto:wg-camlp4%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-camlp4%5D%20%5BCaml-devel%5D%20Structure/signature%20attributes%0A%09suggestion&In-Reply-To=%3C534D1B84.5060802%40frisch.fr%3E"
       TITLE="[wg-camlp4] [Caml-devel] Structure/signature attributes	suggestion">alain at frisch.fr
       </A><BR>
    <I>Tue Apr 15 12:44:04 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="000497.html">[wg-camlp4] [Caml-devel] Structure/signature attributes	suggestion
</A></li>
        <LI>Next message: <A HREF="000492.html">[wg-camlp4] Built-in attributes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#498">[ date ]</a>
              <a href="thread.html#498">[ thread ]</a>
              <a href="subject.html#498">[ subject ]</a>
              <a href="author.html#498">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 04/15/2014 11:48 AM, Drup wrote:
&gt;<i> I agree, but the added verbosity with all those additional brackets
</I>&gt;<i> bother me even more, especially for attributes. I wonder if we could
</I>&gt;<i> drop some brackets when there is no added expression : &quot;<A HREF="http://lists.ocaml.org/listinfo/wg-camlp4">x at foo</A>&quot; instead
</I>&gt;<i> of &quot;x[@foo]&quot; .
</I>
Since @ is a binary operator, <A HREF="http://lists.ocaml.org/listinfo/wg-camlp4">x at foo</A> would not be available for 
expressions. I don't think it is worth supporting it for other kinds of 
syntactic categories.

&gt;<i>
</I>&gt;<i> Also, to follow some shortcuts with extension nodes on keyword, would it
</I>&gt;<i> be possible to add those syntax :
</I>&gt;<i>
</I>&gt;<i> 1) &quot;let%foo x = 3&quot; =&gt; &quot;[%%foo let x = 3]&quot;
</I>&gt;<i> Since &quot;let ... &quot; is not an expression (but a toplevel declaration), the
</I>&gt;<i> %foo doesn't work on them.
</I>&gt;<i> We could use %% for consistency, but the added symbol doesn't bring any
</I>&gt;<i> added value, since the % character is already specific enough.
</I>
Good idea.  I've committed it to trunk, rev 14600.  Here we benefit from 
the fact that the payload of extension nodes can be arbitrary 
structures, not just expressions.

(Attributes are still not supported on let-binding structure items: 
let[@foo] x = 3.)

&gt;<i> 2) &quot;( ... )%foo&quot;
</I>&gt;<i> It would be equivalent to &quot;begin%foo ... end&quot; or [%foo ... ] but (imho)
</I>&gt;<i> easier on the eyes and closer to a natural ocaml syntax, even it  it's
</I>&gt;<i> not much shorter, character wise.
</I>
Same as above: (%) is a valid infix operator.


-- Alain
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000497.html">[wg-camlp4] [Caml-devel] Structure/signature attributes	suggestion
</A></li>
	<LI>Next message: <A HREF="000492.html">[wg-camlp4] Built-in attributes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#498">[ date ]</a>
              <a href="thread.html#498">[ thread ]</a>
              <a href="subject.html#498">[ subject ]</a>
              <a href="author.html#498">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/wg-camlp4">More information about the wg-camlp4
mailing list</a><br>
</body></html>
