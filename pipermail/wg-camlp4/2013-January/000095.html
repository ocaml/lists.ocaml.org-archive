<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [wg-camlp4] My uses of syntax extension
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:wg-camlp4%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-camlp4%5D%20My%20uses%20of%20syntax%20extension&In-Reply-To=%3CPrayer.1.3.5.1301291547480.23651%40hermes-1.csi.cam.ac.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000093.html">
   <LINK REL="Next"  HREF="000096.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[wg-camlp4] My uses of syntax extension</H1>
    <B>Leo White</B> 
    <A HREF="mailto:wg-camlp4%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-camlp4%5D%20My%20uses%20of%20syntax%20extension&In-Reply-To=%3CPrayer.1.3.5.1301291547480.23651%40hermes-1.csi.cam.ac.uk%3E"
       TITLE="[wg-camlp4] My uses of syntax extension">lpw25 at cam.ac.uk
       </A><BR>
    <I>Tue Jan 29 15:47:48 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000093.html">[wg-camlp4] My uses of syntax extension
</A></li>
        <LI>Next message: <A HREF="000096.html">[wg-camlp4] My uses of syntax extension
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#95">[ date ]</a>
              <a href="thread.html#95">[ thread ]</a>
              <a href="subject.html#95">[ subject ]</a>
              <a href="author.html#95">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i>On 29 January 2013 14:47, Leo White &lt;<A HREF="http://lists.ocaml.org/listinfo/wg-camlp4">lpw25 at cam.ac.uk</A>&gt; wrote:
</I>&gt;&gt;<i> As far as I'm concerned &lt;:expr &lt; 3 + 4 &gt;&gt; is simply a syntactic short 
</I>&gt;&gt;<i> hand for something like AstPlus(AstConstInt 3, AstConstInt 4).
</I>&gt;<i>
</I>&gt;<i>Yes.  That's exactly why quotations belong in programs that process
</I>&gt;<i>ASTs (e.g. in compilers or metaprograms), not in programs that only
</I>&gt;<i>process the result of evaluating ASTs (i.e. in user code).  User code
</I>&gt;<i>doesn't typically deal with AstPlus and AstConstInt, but it might well
</I>&gt;<i>need to add numbers.
</I>
But user code does deal with the results of other quotations, like HTML and 
SQL quotations. I don't see a real difference between using a quotation to 
define some constructors representing HTML and using a quotation to define 
a function. Just because the function will at some point get called.

I think this all comes from the confluence of the word quotation as in a 
string quotation (e.g. &quot;a string&quot;), which is something that must be lexed 
separately from the rest of the language, and the use of ' (or &quot;quote&quot;) in 
lisp to delay evaluation. MetaOCaml's quotations are an example of this 
second type.

You want to reserve the camlp4 quotation syntax for use as the second kind 
of quotation. However, both the camlp4 tutorial 
(<A HREF="http://caml.inria.fr/pub/docs/tutorial-camlp4/tutorial004.html">http://caml.inria.fr/pub/docs/tutorial-camlp4/tutorial004.html</A>) and many 
of the common uses of camlp4 quotations treat them as the first kind.

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000093.html">[wg-camlp4] My uses of syntax extension
</A></li>
	<LI>Next message: <A HREF="000096.html">[wg-camlp4] My uses of syntax extension
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#95">[ date ]</a>
              <a href="thread.html#95">[ thread ]</a>
              <a href="subject.html#95">[ subject ]</a>
              <a href="author.html#95">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/wg-camlp4">More information about the wg-camlp4
mailing list</a><br>
</body></html>
