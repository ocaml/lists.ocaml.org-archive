<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [wg-camlp4] Against the use of syntactically-valid OCaml code for syntax extension purposes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:wg-camlp4%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-camlp4%5D%20Against%20the%20use%20of%20syntactically-valid%20OCaml%20code%0A%20for%20syntax%20extension%20purposes&In-Reply-To=%3CPrayer.1.3.5.1301301143510.2899%40hermes-1.csi.cam.ac.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000120.html">
   <LINK REL="Next"  HREF="000092.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[wg-camlp4] Against the use of syntactically-valid OCaml code for syntax extension purposes</H1>
    <B>Leo White</B> 
    <A HREF="mailto:wg-camlp4%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-camlp4%5D%20Against%20the%20use%20of%20syntactically-valid%20OCaml%20code%0A%20for%20syntax%20extension%20purposes&In-Reply-To=%3CPrayer.1.3.5.1301301143510.2899%40hermes-1.csi.cam.ac.uk%3E"
       TITLE="[wg-camlp4] Against the use of syntactically-valid OCaml code for syntax extension purposes">lpw25 at cam.ac.uk
       </A><BR>
    <I>Wed Jan 30 11:43:51 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000120.html">[wg-camlp4] Against the use of syntactically-valid OCaml code for syntax extension purposes
</A></li>
        <LI>Next message: <A HREF="000092.html">[wg-camlp4] My P4 uses
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#123">[ date ]</a>
              <a href="thread.html#123">[ thread ]</a>
              <a href="subject.html#123">[ subject ]</a>
              <a href="author.html#123">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Jan 30 2013, Alain Frisch wrote:

&gt;<i>On 01/30/2013 10:40 AM, Leo White wrote:
</I>&gt;&gt;&gt;<i> I'd rather write it:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>   foo bar ((@marker) e)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I would prefer it to have its own syntax, because I would like to
</I>&gt;&gt;<i> encourage its use. I think that it is easier to read than a normal
</I>&gt;&gt;<i> attribute because it clearly declares its scope
</I>&gt;<i>
</I>&gt;<i>I don't see the point: the scope of an attribute must be quite explicit 
</I>&gt;<i>as well (but maybe the current syntax is not clear enough).
</I>
The point is that there are fundamentally two kinds of extension.

The first kind are things which themselves represent 
expressions/patterns/... . For example:

&lt;:html &lt; &lt;body&gt; ... &lt;/body&gt; &gt;&gt; 

{:PGSQL dbh &quot;select id, name from users&quot;}

and the second kind are those that act on an existing 
expression/pattern/... . For example:

val foo: int -&gt; int  {%depreciated}

In the first case, the syntax inside the brackets may look like OCaml but 
it will be translated. In the second kind the expression that the attribute 
is attached to *is* OCaml code. It may be acted on in some way (e.g. placed 
inside some boilerplate) but it fundamentally is OCaml code.

Failure to translate the first kind must raise an error. Failure to 
translate the second kind does not necessarily require an error.

I think that these differences is enough to justify separate (but similar) 
syntaxes. I don't think that everyone using the first kind of extension 
should have to use a syntax more suited to the second kind.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000120.html">[wg-camlp4] Against the use of syntactically-valid OCaml code for syntax extension purposes
</A></li>
	<LI>Next message: <A HREF="000092.html">[wg-camlp4] My P4 uses
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#123">[ date ]</a>
              <a href="thread.html#123">[ thread ]</a>
              <a href="subject.html#123">[ subject ]</a>
              <a href="author.html#123">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/wg-camlp4">More information about the wg-camlp4
mailing list</a><br>
</body></html>
