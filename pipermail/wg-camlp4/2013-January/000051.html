<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [wg-camlp4] My uses of syntax extension
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:wg-camlp4%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-camlp4%5D%20My%20uses%20of%20syntax%20extension&In-Reply-To=%3C5106BB76.6030804%40frisch.fr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000048.html">
   <LINK REL="Next"  HREF="000052.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[wg-camlp4] My uses of syntax extension</H1>
    <B>Alain Frisch</B> 
    <A HREF="mailto:wg-camlp4%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-camlp4%5D%20My%20uses%20of%20syntax%20extension&In-Reply-To=%3C5106BB76.6030804%40frisch.fr%3E"
       TITLE="[wg-camlp4] My uses of syntax extension">alain at frisch.fr
       </A><BR>
    <I>Mon Jan 28 17:55:02 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000048.html">[wg-camlp4] My uses of syntax extension
</A></li>
        <LI>Next message: <A HREF="000052.html">[wg-camlp4] My uses of syntax extension
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51">[ date ]</a>
              <a href="thread.html#51">[ thread ]</a>
              <a href="subject.html#51">[ subject ]</a>
              <a href="author.html#51">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 01/28/2013 06:13 PM, David Waern wrote:
&gt;<i> OK. I've also wanted similar syntax, but I've noticed that if Alain's
</I>&gt;<i> &quot;static exceptions&quot; [1] proposal is accepted then encoding such things
</I>&gt;<i> using existing OCaml syntax becomes a bit lighter:
</I>&gt;<i>
</I>&gt;<i> try raise (`Cont expr) with
</I>&gt;<i> | `Cont n -&gt; expr
</I>&gt;<i> | handlers
</I>
As a side note, this encoding with static exceptions is also much more 
efficient (no allocation required to escape from the exception handler).

Still, this is a good example.  One might indeed want to use a dedicated 
syntax for this common idiom.  My preference would be for extending the 
official language to support it directly.  If one thinks it is generally 
useful, why not put it in the language itself?  It is not difficult to 
extend OCaml to support it directly.

If the proposal is rejected but we have let-fix operators, one can 
decide to have a -ppx rewriter detecting and rewriting the following form:

let? x = try e1 with p -&gt; e2 in
e3


-- Alain
</PRE>



































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000048.html">[wg-camlp4] My uses of syntax extension
</A></li>
	<LI>Next message: <A HREF="000052.html">[wg-camlp4] My uses of syntax extension
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51">[ date ]</a>
              <a href="thread.html#51">[ thread ]</a>
              <a href="subject.html#51">[ subject ]</a>
              <a href="author.html#51">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/wg-camlp4">More information about the wg-camlp4
mailing list</a><br>
</body></html>
