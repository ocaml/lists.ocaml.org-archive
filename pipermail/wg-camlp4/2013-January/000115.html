<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [wg-camlp4] Against the use of syntactically-valid OCaml code for syntax extension purposes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:wg-camlp4%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-camlp4%5D%20Against%20the%20use%20of%20syntactically-valid%20OCaml%20code%0A%20for%20syntax%20extension%20purposes&In-Reply-To=%3C5108EB7D.2090701%40frisch.fr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000112.html">
   <LINK REL="Next"  HREF="000117.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[wg-camlp4] Against the use of syntactically-valid OCaml code for syntax extension purposes</H1>
    <B>Alain Frisch</B> 
    <A HREF="mailto:wg-camlp4%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-camlp4%5D%20Against%20the%20use%20of%20syntactically-valid%20OCaml%20code%0A%20for%20syntax%20extension%20purposes&In-Reply-To=%3C5108EB7D.2090701%40frisch.fr%3E"
       TITLE="[wg-camlp4] Against the use of syntactically-valid OCaml code for syntax extension purposes">alain at frisch.fr
       </A><BR>
    <I>Wed Jan 30 09:44:29 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000112.html">[wg-camlp4] Against the use of syntactically-valid OCaml code for syntax extension purposes
</A></li>
        <LI>Next message: <A HREF="000117.html">[wg-camlp4] Against the use of syntactically-valid OCaml code for syntax extension purposes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#115">[ date ]</a>
              <a href="thread.html#115">[ thread ]</a>
              <a href="subject.html#115">[ subject ]</a>
              <a href="author.html#115">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 01/30/2013 10:27 AM, Xavier Clerc wrote:
&gt;<i> Personally, I think that declaring attributes with their fields
</I>&gt;<i> and types is pretty useful.
</I>
I don't see how to do that without introducing a lot of complexity in 
the system.  Do you mean we should run the OCaml type-checker on 
attribute arguments before they are processed?  Or that we should 
restrict attribute arguments to be pure constant data (records, 
constructors, literals)?  This seems overly restrictive.  It make sense 
to allow full expressions within attributes (e.g. some uses of type-conv 
requires to annotate types with functions), and I don't see how to 
type-check that.


&gt;<i> This protects the user from some
</I>&gt;<i> typos and other obvious errors, and avoid boiler-plate code in
</I>&gt;<i> the attribute processors.
</I>
I don't expect a lot of tedious boiler-plate code in the processors 
(OCaml is not so bad at pattern matching, after all) if they need to 
check some &quot;constraints&quot; on their arguments (not really type-checking, 
but rather checking simple things like the fact that they come with a 
string literal argument).


Alain
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000112.html">[wg-camlp4] Against the use of syntactically-valid OCaml code for syntax extension purposes
</A></li>
	<LI>Next message: <A HREF="000117.html">[wg-camlp4] Against the use of syntactically-valid OCaml code for syntax extension purposes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#115">[ date ]</a>
              <a href="thread.html#115">[ thread ]</a>
              <a href="subject.html#115">[ subject ]</a>
              <a href="author.html#115">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/wg-camlp4">More information about the wg-camlp4
mailing list</a><br>
</body></html>
