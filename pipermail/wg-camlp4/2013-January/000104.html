<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [wg-camlp4] Mix-fix notation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:wg-camlp4%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-camlp4%5D%20Mix-fix%20notation&In-Reply-To=%3Cwftxpz38ov.fsf%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000157.html">
   <LINK REL="Next"  HREF="000132.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[wg-camlp4] Mix-fix notation</H1>
    <B>Wojciech Meyer</B> 
    <A HREF="mailto:wg-camlp4%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-camlp4%5D%20Mix-fix%20notation&In-Reply-To=%3Cwftxpz38ov.fsf%40gmail.com%3E"
       TITLE="[wg-camlp4] Mix-fix notation">wojciech.meyer at gmail.com
       </A><BR>
    <I>Tue Jan 29 22:50:40 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000157.html">[wg-camlp4] Meta Programming from the view of the implementaion
</A></li>
        <LI>Next message: <A HREF="000132.html">[wg-camlp4] A set of synthetic use cases to help discussions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#104">[ date ]</a>
              <a href="thread.html#104">[ thread ]</a>
              <a href="subject.html#104">[ subject ]</a>
              <a href="author.html#104">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dear list,

I'd like to take an opportunity to discuss possibility of a mix-fix
notation as a part of the core language.

For those who've never heard about mix-fix notation, it's a notation
belonging to class of light syntactical abstractions that allows to
encode bigger range of embedded DSLs than user defined infix operators
purely using usual functional abstractions - and not meta programming in
particular. Essentially, it's a super-class of infix operators where any
numbers of arguments denoted by special placeholders can be separated by
any number of tokens.

Mix-fix notation has successfully been used by some modern dependently
typed functional languages like Agda, or in some way is used to extend
the syntax in Coq via. Notation to implement for instance monads.

On this occasion, I'd like also discuss changes to the language
involving possibility of relaxing infix operators, and extending them
(like in Caml-light) with user defined precedence. With these
relaxations it might appear that the language will become more
expressive.

Also, I'd like to focus on reusing mix-fix syntax to provide
meta-programming facilities - in particular defining new grammar entry
points using mix-fix.

So the mixfix notation in OCaml might look like this:

let _&gt;&gt;=_ m f = (* here a bind operator for a monad! *)

or if we are fancy for these technique in extending the syntax:

syntax _&lt;--_-&lt;_ pat e1 e2 = (* here is a code generator for an arrow! *)

Surely OCaml is strictly evaluated so all the usual tricks that can be
used in a language where evaluation strategy or order does not matter,
will not work, however it opens brand new doors for making combinator
based libraries. Also, it's very convenient and safe syntax for defining
grammar rules, instead of using BNF or even PEG and extending the
grammar by changing the rules in place.

I agree it would be a serious change to the language, therefore I
welcome an open discussion. Perhaps in extreme variant such change would
require writing a custom parser and lexer, and would render the OCaml
syntax incompatible, but having discussions about the quotations
mechanism, essentially embedding a DSL inside Caml, I'd like to shift
focus on safe and still expressive various applications of mix-fix and
possibility of providing such an abstraction to the OCaml world.

All the best,

-Wojciech
</PRE>























































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000157.html">[wg-camlp4] Meta Programming from the view of the implementaion
</A></li>
	<LI>Next message: <A HREF="000132.html">[wg-camlp4] A set of synthetic use cases to help discussions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#104">[ date ]</a>
              <a href="thread.html#104">[ thread ]</a>
              <a href="subject.html#104">[ subject ]</a>
              <a href="author.html#104">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/wg-camlp4">More information about the wg-camlp4
mailing list</a><br>
</body></html>
