<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [wg-camlp4] [Caml-devel]   Built-in attributes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:wg-camlp4%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-camlp4%5D%20%5BCaml-devel%5D%20%20%20Built-in%20attributes&In-Reply-To=%3C53686A73.3070403%40frisch.fr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000506.html">
   <LINK REL="Next"  HREF="000507.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[wg-camlp4] [Caml-devel]   Built-in attributes</H1>
    <B>Alain Frisch</B> 
    <A HREF="mailto:wg-camlp4%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-camlp4%5D%20%5BCaml-devel%5D%20%20%20Built-in%20attributes&In-Reply-To=%3C53686A73.3070403%40frisch.fr%3E"
       TITLE="[wg-camlp4] [Caml-devel]   Built-in attributes">alain at frisch.fr
       </A><BR>
    <I>Tue May  6 05:52:03 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="000506.html">[wg-camlp4] [Caml-list] [ANN] ppx_protobuf
</A></li>
        <LI>Next message: <A HREF="000507.html">[wg-camlp4] [Caml-devel]   Built-in attributes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#503">[ date ]</a>
              <a href="thread.html#503">[ thread ]</a>
              <a href="subject.html#503">[ subject ]</a>
              <a href="author.html#503">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 4/15/2014 6:54 PM, Dario Teixeira wrote:
&gt;<i> As I see it, there are three broad approaches to namespacing:
</I>&gt;<i>
</I>&gt;<i>    1) Namespace nothing.  Use social norms to avoid name clashes between different projects.
</I>&gt;<i>
</I>&gt;<i>    2) Namespace everything, including compiler extensions.  Compiler can even enforce this
</I>&gt;<i>       usage by requiring extension points to be of the form &quot;ns.name&quot;.
</I>&gt;<i>
</I>&gt;<i>    3) No namespacing for generic and builtin attributes, such as &quot;default&quot;, &quot;warning&quot;,
</I>&gt;<i>       or &quot;author&quot;, but socially-enforced namespacing for extension-specific attributes.
</I>&gt;<i>
</I>&gt;<i> Here's my problem with solution 2: how do we deal with generic attributes that could be
</I>&gt;<i> used by more than one extension?  (For instance, attribute &quot;default&quot; used by Sexplib
</I>&gt;<i> or Bin-prot, or documentation attributes such as &quot;author&quot; used by tools such as Ocamldoc).
</I>&gt;<i> This is why I'm leaning more towards solution 3.  This approach would require a centrally
</I>&gt;<i> maintained list of non-namespaced attributes (a disadvantage, I admit), but this list
</I>&gt;<i> would be small and fairly static (we could require broad community approval before
</I>&gt;<i> adding another attribute).  All other attributes would be namespaced, though I imagine
</I>&gt;<i> that the namespacing could itself be a social convention (eg. &quot;proj.attr&quot;) instead
</I>&gt;<i> of being enforced by the compiler.
</I>
A variant of solution 2 is to have each tool accept both qualified and 
unqualified attributes, as I propose in my email about ppx_protobuf.

This gives some flexibility regarding the list of non-namespaced 
attributes, since there is always a way for users to resolve conflicts 
by switching to the qualified form.  It's hard to know in advance if the 
same @default attribute, even if it is recognized by multiple tools, 
would also have the same payload for all of them if used on the same 
code base.

If we apply this to OCaml, we would support both @@ocaml.deprecated and 
@@deprecated.

Opinions?


-- Alain
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000506.html">[wg-camlp4] [Caml-list] [ANN] ppx_protobuf
</A></li>
	<LI>Next message: <A HREF="000507.html">[wg-camlp4] [Caml-devel]   Built-in attributes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#503">[ date ]</a>
              <a href="thread.html#503">[ thread ]</a>
              <a href="subject.html#503">[ subject ]</a>
              <a href="author.html#503">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/wg-camlp4">More information about the wg-camlp4
mailing list</a><br>
</body></html>
