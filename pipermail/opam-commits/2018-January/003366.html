<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-commits] Errored: dra27/opam#53 (test-color - a328170)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-commits%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-commits%5D%20Errored%3A%20dra27/opam%2353%20%28test-color%20-%20a328170%29&In-Reply-To=%3C5a4fa631c7609_43f85bc8461209161d3%4083943a41-ca3c-4972-838e-4fff1718739d.mail%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003365.html">
   <LINK REL="Next"  HREF="003367.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-commits] Errored: dra27/opam#53 (test-color - a328170)</H1>
    <B>Travis CI</B> 
    <A HREF="mailto:opam-commits%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-commits%5D%20Errored%3A%20dra27/opam%2353%20%28test-color%20-%20a328170%29&In-Reply-To=%3C5a4fa631c7609_43f85bc8461209161d3%4083943a41-ca3c-4972-838e-4fff1718739d.mail%3E"
       TITLE="[opam-commits] Errored: dra27/opam#53 (test-color - a328170)">builds at travis-ci.org
       </A><BR>
    <I>Fri Jan  5 16:22:10 GMT 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="003365.html">[opam-commits] Errored: dra27/opam#52 (test-color - 8e422f3)
</A></li>
        <LI>Next message: <A HREF="003367.html">[opam-commits] Errored: talex5/opam-repository#71	(opam-publish-capnp.3.2.0 - 6bceec3)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3366">[ date ]</a>
              <a href="thread.html#3366">[ thread ]</a>
              <a href="subject.html#3366">[ subject ]</a>
              <a href="author.html#3366">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Build Update for dra27/opam
-------------------------------------

Build: #53
Status: Errored

Duration: 53 minutes and 0 seconds
Commit: a328170 (test-color)
Author: David Allsopp
Message: Support coloured output for Windows console

Prior to Windows 10 1511, the Windows Console didn't natively support ANSI
escape sequences, but it does include API functions providing most of the
required support. In order to maintain the option of compiling with MSVC,
a custom wrapper is implemented for the small number of required escape
sequences, rather than using Cygwin or MSYS's ANSI layer.

The need to post-process coloured messages means that the format
signatures of various functions in OpamConsole have changed from printf
to sprintf form and it is imperative that all output to the Console
which includes coloured text goes through one of OpamConsole's functions
(in particular, print_string, Printf.printf, output_string std* must not
be used).

Particular care has been taken to ensure that OpamConsole.log and
OpamConsole.slog behave in the same way; specifically this means that
strings logged should never include ANSI escape sequences because these
cannot be translated.

(note that an earlier attempt at doing this used a pipe to write the
data via kfprintf in order to maintain the same %a behaviour and then read
the string back from the pipe, but this leads to problems if the data being
written is larger than the pipe's buffer and it seems excessive to
introduce multi-threading or two processes solely to handle debugging
console output)

Signed-off-by: David Allsopp &lt;<A HREF="http://lists.ocaml.org/listinfo/opam-commits">david.allsopp at metastack.com</A>&gt;

View the changeset: <A HREF="https://github.com/dra27/opam/compare/8e422f3cd268...a328170227a7">https://github.com/dra27/opam/compare/8e422f3cd268...a328170227a7</A>

View the full build log and details: <A HREF="https://travis-ci.org/dra27/opam/builds/325484385?utm_source=email&amp;utm_medium=notification">https://travis-ci.org/dra27/opam/builds/325484385?utm_source=email&amp;utm_medium=notification</A>

--

You can configure recipients for build notifications in your .travis.yml file. See <A HREF="https://docs.travis-ci.com/user/notifications">https://docs.travis-ci.com/user/notifications</A>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ocaml.org/pipermail/opam-commits/attachments/20180105/76fe0beb/attachment-0001.html">http://lists.ocaml.org/pipermail/opam-commits/attachments/20180105/76fe0beb/attachment-0001.html</A>&gt;
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003365.html">[opam-commits] Errored: dra27/opam#52 (test-color - 8e422f3)
</A></li>
	<LI>Next message: <A HREF="003367.html">[opam-commits] Errored: talex5/opam-repository#71	(opam-publish-capnp.3.2.0 - 6bceec3)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3366">[ date ]</a>
              <a href="thread.html#3366">[ thread ]</a>
              <a href="subject.html#3366">[ subject ]</a>
              <a href="author.html#3366">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-commits">More information about the Opam-commits
mailing list</a><br>
</body></html>
