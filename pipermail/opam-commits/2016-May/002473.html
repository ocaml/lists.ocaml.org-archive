<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [opam-commits] Passed: ocaml/opam#1989 (next - 667eacd)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:opam-commits%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-commits%5D%20Passed%3A%20ocaml/opam%231989%20%28next%20-%20667eacd%29&In-Reply-To=%3C5731994125c4e_33f89d05fbb2894445f%405bc5e699-82b7-41ef-9a12-2ef098952549.mail%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002472.html">
   <LINK REL="Next"  HREF="002474.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[opam-commits] Passed: ocaml/opam#1989 (next - 667eacd)</H1>
    <B>Travis CI</B> 
    <A HREF="mailto:opam-commits%40lists.ocaml.org?Subject=Re%3A%20%5Bopam-commits%5D%20Passed%3A%20ocaml/opam%231989%20%28next%20-%20667eacd%29&In-Reply-To=%3C5731994125c4e_33f89d05fbb2894445f%405bc5e699-82b7-41ef-9a12-2ef098952549.mail%3E"
       TITLE="[opam-commits] Passed: ocaml/opam#1989 (next - 667eacd)">builds at travis-ci.org
       </A><BR>
    <I>Tue May 10 09:18:07 BST 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="002472.html">[opam-commits] Errored: ocaml/opam#1987 (next - f3fa875)
</A></li>
        <LI>Next message: <A HREF="002474.html">[opam-commits] Broken: ocaml/opam#1991 (master - 781ff3e)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2473">[ date ]</a>
              <a href="thread.html#2473">[ thread ]</a>
              <a href="subject.html#2473">[ subject ]</a>
              <a href="author.html#2473">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Build Update for ocaml/opam
-------------------------------------

Build: #1989
Status: Passed

Duration: 15 minutes and 52 seconds
Commit: 667eacd (next)
Author: Louis Gesbert
Message: Remove repos configuration files

repository configuration files were below the repository directory,
which was bad, and they now got cleaned up by the new synchronisation
functions that make sure no artifacts are left, which broke.

Besides, the only required and non-redundant information they contained
was the remote URL. This patch stores the remote urls of configured
repositories in a single file `ROOT/repo/repos-config`;

the selection of repositories is a list of names with the highest
priority repository first, and is stored in the global config file
`ROOT/config`. This removes the need for the &quot;priority&quot; integer field,
and is done with the idea that it can be moved to the switches sometime
soon to allow per-switch remotes. It's mostly an issue of UI now.

OTHER CHANGES:
- cleaner opam version ~/.opam upgrade code, added migration and some
  cleanup for 2.0~alpha
- changes of ~/.opam/config through a more specific function that
  requires the proper write lock, for more guarantees.
- Fixes #2538 (replace an iter by a fold)
- Put deprecated pin_option type aside (only left in
  OpamFile.Pinned_legacy)
- Internally, it's now possible to have remote-less repositories, which
  may be useful for some uses: local definitions can be stored there and
  will get used by opam without being touched by updates

View the changeset: <A HREF="https://github.com/ocaml/opam/compare/f3fa875d86d4...667eacd9e759">https://github.com/ocaml/opam/compare/f3fa875d86d4...667eacd9e759</A>

View the full build log and details: <A HREF="https://travis-ci.org/ocaml/opam/builds/129061513">https://travis-ci.org/ocaml/opam/builds/129061513</A>

--

You can configure recipients for build notifications in your .travis.yml file. See <A HREF="https://docs.travis-ci.com/user/notifications">https://docs.travis-ci.com/user/notifications</A>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ocaml.org/pipermail/opam-commits/attachments/20160510/48e96ab8/attachment.html">http://lists.ocaml.org/pipermail/opam-commits/attachments/20160510/48e96ab8/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002472.html">[opam-commits] Errored: ocaml/opam#1987 (next - f3fa875)
</A></li>
	<LI>Next message: <A HREF="002474.html">[opam-commits] Broken: ocaml/opam#1991 (master - 781ff3e)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2473">[ date ]</a>
              <a href="thread.html#2473">[ thread ]</a>
              <a href="subject.html#2473">[ subject ]</a>
              <a href="author.html#2473">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/opam-commits">More information about the Opam-commits
mailing list</a><br>
</body></html>
