<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [containers-users] Possible additions to Containers and Friends
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:containers-users%40lists.ocaml.org?Subject=Re%3A%20%5Bcontainers-users%5D%20Possible%20additions%20to%20Containers%20and%20Friends&In-Reply-To=%3C20180307042025.GB2084%40carty%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000058.html">
   <LINK REL="Next"  HREF="000062.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[containers-users] Possible additions to Containers and Friends</H1>
    <B>Simon Cruanes</B> 
    <A HREF="mailto:containers-users%40lists.ocaml.org?Subject=Re%3A%20%5Bcontainers-users%5D%20Possible%20additions%20to%20Containers%20and%20Friends&In-Reply-To=%3C20180307042025.GB2084%40carty%3E"
       TITLE="[containers-users] Possible additions to Containers and Friends">simon.cruanes.2007 at m4x.org
       </A><BR>
    <I>Wed Mar  7 04:20:26 GMT 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="000058.html">[containers-users] Possible additions to Containers and Friends
</A></li>
        <LI>Next message: <A HREF="000062.html">[containers-users] Possible additions to Containers and Friends
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61">[ date ]</a>
              <a href="thread.html#61">[ thread ]</a>
              <a href="subject.html#61">[ subject ]</a>
              <a href="author.html#61">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I merged and adapted the code from Peter:

<A HREF="https://github.com/c-cube/ocaml-containers/blob/master/src/core/CCUtf8_string.mli">https://github.com/c-cube/ocaml-containers/blob/master/src/core/CCUtf8_string.mli</A>
<A HREF="https://github.com/c-cube/ocaml-containers/blob/master/src/core/CCUtf8_string.ml">https://github.com/c-cube/ocaml-containers/blob/master/src/core/CCUtf8_string.ml</A>

it's stricter (only accepts valid UTF8) and the random tests should
ensure that it agrees with Uutf on what is valid utf8, and on the list
of codepoints of a valid UTF8 string.

The code is not that complicated: encoding is 25 lines, decoding is 67
lines. I had to rewrite part of it to make it strictly UTF8 compliant.

Comments very welcome! And thanks again to Peter, without whom I'd never
have had the courage to do it.

-- 
Simon Cruanes

<A HREF="http://weusepgp.info/">http://weusepgp.info/</A>
key 49AA62B6, fingerprint 949F EB87 8F06 59C6 D7D3  7D8D 4AC0 1D08 49AA 62B6
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.ocaml.org/pipermail/containers-users/attachments/20180306/bb75a497/attachment.sig">http://lists.ocaml.org/pipermail/containers-users/attachments/20180306/bb75a497/attachment.sig</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000058.html">[containers-users] Possible additions to Containers and Friends
</A></li>
	<LI>Next message: <A HREF="000062.html">[containers-users] Possible additions to Containers and Friends
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61">[ date ]</a>
              <a href="thread.html#61">[ thread ]</a>
              <a href="subject.html#61">[ subject ]</a>
              <a href="author.html#61">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/containers-users">More information about the Containers-users
mailing list</a><br>
</body></html>
