<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Teaching] opam installation problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:teaching%40lists.ocaml.org?Subject=Re%3A%20%5BTeaching%5D%20opam%20installation%20problem&In-Reply-To=%3CCAKmYinn0i6Hp1BhiU0zQ644q25tcE7r9Bhm%2Bu%3D-00KM1uV8S%3Dw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="000065.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Teaching] opam installation problem</H1>
    <B>Robert Muller</B> 
    <A HREF="mailto:teaching%40lists.ocaml.org?Subject=Re%3A%20%5BTeaching%5D%20opam%20installation%20problem&In-Reply-To=%3CCAKmYinn0i6Hp1BhiU0zQ644q25tcE7r9Bhm%2Bu%3D-00KM1uV8S%3Dw%40mail.gmail.com%3E"
       TITLE="[Teaching] opam installation problem">robert.muller2 at gmail.com
       </A><BR>
    <I>Sun Feb  8 20:47:57 GMT 2015</I>
    <P><UL>
        
        <LI>Next message: <A HREF="000065.html">[Teaching] opam installation problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64">[ date ]</a>
              <a href="thread.html#64">[ thread ]</a>
              <a href="subject.html#64">[ subject ]</a>
              <a href="author.html#64">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Greetings, things have gone sideways for me with opam since upgrading my
OSX to 10.10.  In particular, my attempt to reinstall Kenichi Asai's
Universe library is failing because opam is failing in its attempt to
install lablgtk. I'm pretty sure this problem is solved somewhere but I'm
not finding a solution or workaround.

I'm pretty sure this isn't the right forum for posting this sort of
problem, but I checked the opam FAQ and couldn't find any other obvious
spot, and I've been seeing traffic relating to problems with opam. Hints as
to where to post this kind of thing would be appreciated.

Anyway, as far as I can tell, the gcc compiler seems to fail because it's
invoked with a switch:

-fno-defer-pop

that it doesn't recognize. I'm under the impression that earlier versions
of Xcode treated this as a warning rather than an error, but I'm getting:

# clang: error: unknown argument: '-fno-defer-pop'
I'm running OSX 10.10.1 and Xcode 6.1.1. Any hints appreciated.

Thanks,
Bob Muller

-----------------------------

#=== *ERROR* *while installing lablgtk.2.18.3*
====================================#

# opam-version 1.2.0

# os           darwin

# command      make world

# path         /Users/muller/.opam/system/build/lablgtk.2.18.3

# compiler     system (4.01.0)

# exit-code    2

# env-file
/Users/muller/.opam/system/build/lablgtk.2.18.3/lablgtk-36443-e4db2f.env

# stdout-file
/Users/muller/.opam/system/build/lablgtk.2.18.3/lablgtk-36443-e4db2f.out

# stderr-file
/Users/muller/.opam/system/build/lablgtk.2.18.3/lablgtk-36443-e4db2f.err

### stdout ###

# ...[truncated]

#

#         debug           no

# -e      C compiler      gcc

# /Applications/Xcode.app/Contents/Developer/usr/bin/make -C src world

# ocamlc.opt -c -pp &quot;camlp4o -impl&quot; -impl varcc.ml4

# ocamlc.opt   -o varcc varcc.cmo

# rm -f *_tags.h *_tags.c

# ./varcc gdkpixbuf_tags.var

# ./varcc gdk_tags.var

# ocamlc.opt -c -ccopt '-DG_DISABLE_ASSERT -DG_DISABLE_CAST_CHECKS
-D_REENTRANT -I/opt/X11/include -I/opt/X11/include/cairo
-I/opt/X11/include/pixman-1 -I/opt/X11/include/libpng15 -I/opt/X11/include
-I/opt/X11/include/freetype2 -I/opt/local/include/libglade-2.0
-I/opt/local/include/libxml2 -I/opt/local/include/libgnomecanvas-2.0
-I/opt/local/include/gail-1.0 -I/opt/local/include/libart-2.0
-I/opt/local/include/gtk-2.0 -I/opt/local/lib/gtk-2.0/include
-I/opt/local/include/pango-1.0 -I/opt/local/include/gio-unix-2.0/
-I/opt/local/include/atk-1.0 -I/opt/local/include/gdk-pixbuf-2.0
-I/opt/local/include/libpng16 -I/opt/local/include/pango-1.0
-I/opt/local/include/harfbuzz -I/opt/local/include/pango-1.0
-I/opt/local/include/glib-2.0 -I/opt/local/lib/glib-2.0/include
-I/opt/local/include  -imacros ml_domain.h -O' -verbose ml_gdkpixbuf.c

### stderr ###

# + gcc -fno-defer-pop -Wall -D_FILE_OFFSET_BITS=64 -D_REENTRANT  -c
-DG_DISABLE_ASSERT -DG_DISABLE_CAST_CHECKS -D_REENTRANT -I/opt/X11/include
-I/opt/X11/include/cairo -I/opt/X11/include/pixman-1
-I/opt/X11/include/libpng15 -I/opt/X11/include -I/opt/X11/include/freetype2
-I/opt/local/include/libglade-2.0 -I/opt/local/include/libxml2
-I/opt/local/include/libgnomecanvas-2.0
-I/opt/local/include/gail-...[truncated]

# clang: error: unknown argument: '-fno-defer-pop'

# make[1]: *** [ml_gdkpixbuf.o] Error 2

# make: *** [world] Error 2
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ocaml.org/pipermail/teaching/attachments/20150208/96a3b174/attachment.html">http://lists.ocaml.org/pipermail/teaching/attachments/20150208/96a3b174/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="000065.html">[Teaching] opam installation problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64">[ date ]</a>
              <a href="thread.html#64">[ thread ]</a>
              <a href="subject.html#64">[ subject ]</a>
              <a href="author.html#64">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/teaching">More information about the Teaching
mailing list</a><br>
</body></html>
