<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> opam 'remove' not working
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:core%40lists.ocaml.org?Subject=Re%3A%20opam%20%27remove%27%20not%20working&In-Reply-To=%3CCAOCAUGOugmW%3DiBQSZCgonyrZgOMPLH5aBqXcRSL3_bAf-0KvWQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000560.html">
   <LINK REL="Next"  HREF="000562.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>opam 'remove' not working</H1>
    <B>Sylvain Le Gall</B> 
    <A HREF="mailto:core%40lists.ocaml.org?Subject=Re%3A%20opam%20%27remove%27%20not%20working&In-Reply-To=%3CCAOCAUGOugmW%3DiBQSZCgonyrZgOMPLH5aBqXcRSL3_bAf-0KvWQ%40mail.gmail.com%3E"
       TITLE="opam 'remove' not working">sylvain at le-gall.net
       </A><BR>
    <I>Tue Sep 18 11:24:02 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="000560.html">opam 'remove' not working
</A></li>
        <LI>Next message: <A HREF="000562.html">Missing comments?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#561">[ date ]</a>
              <a href="thread.html#561">[ thread ]</a>
              <a href="subject.html#561">[ subject ]</a>
              <a href="author.html#561">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
For packages using oasis, you can look at setup.log that will list
files installed.

Although if it is possible to automate the generation of .install for
opam, it would probably make sense to have a subcommand in setup.ml
that will list all files installed.

E.g. after &quot;ocaml setup.ml -install&quot;,
$&gt; ocaml setup.ml -list-installed
foo/bin/myexe
$OCAMLFIND/lib.cma
$OCAMLFIND/lib.cmxa
$OCAMLFIND/lib.cmi
...

What is your opinion on that ?


2012/9/18 Thomas Gazagnaire &lt;<A HREF="http://lists.ocaml.org/listinfo/core">thomas.gazagnaire at gmail.com</A>&gt;:
&gt;&gt;<i> In the original specification, a package was supposed to contain a list of files to install, that would be copied by opam, instead of using ocamlfind to install these files. With such a list, opam would also be able to remove the files, instead of using ocamlfind to uninstall it.
</I>&gt;<i>
</I>&gt;<i> Unfortunately, having a .install will not solve all the issue. For instance, it will break if a user manually install a package using ocamlfind (which seems to be what happened in this case).
</I>&gt;<i>
</I>&gt;&gt;<i> This was removed from the current specification, because it would slow down the creation of packages, but now that we have many of them, we should probably re-add this behavior to the specification.
</I>&gt;<i>
</I>&gt;<i> Actually, it is still working in the current version of opam (ie. you can add either add a .install file or call 'make install'). After having packaged a good collection of package, I can say it much more practical to call 'make install' that to enumerate all the files to copy :-)
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Thomas
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000560.html">opam 'remove' not working
</A></li>
	<LI>Next message: <A HREF="000562.html">Missing comments?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#561">[ date ]</a>
              <a href="thread.html#561">[ thread ]</a>
              <a href="subject.html#561">[ subject ]</a>
              <a href="author.html#561">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/core">More information about the core
mailing list</a><br>
</body></html>
