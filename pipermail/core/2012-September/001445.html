<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> opam 'remove' not working
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:core%40lists.ocaml.org?Subject=Re%3A%20opam%20%27remove%27%20not%20working&In-Reply-To=%3CCAO4dZbeJb%3DYFMkC%2BSCuDp6euTbCHN_FOUfdhTGg9c7L0vMLEFw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000555.html">
   <LINK REL="Next"  HREF="001446.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>opam 'remove' not working</H1>
    <B>Sean McLaughlin</B> 
    <A HREF="mailto:core%40lists.ocaml.org?Subject=Re%3A%20opam%20%27remove%27%20not%20working&In-Reply-To=%3CCAO4dZbeJb%3DYFMkC%2BSCuDp6euTbCHN_FOUfdhTGg9c7L0vMLEFw%40mail.gmail.com%3E"
       TITLE="opam 'remove' not working">seanmcl at gmail.com
       </A><BR>
    <I>Mon Sep 17 19:43:41 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="000555.html">opam 'remove' not working
</A></li>
        <LI>Next message: <A HREF="001446.html">opam 'remove' not working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1445">[ date ]</a>
              <a href="thread.html#1445">[ thread ]</a>
              <a href="subject.html#1445">[ subject ]</a>
              <a href="author.html#1445">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>PS: I know it's 'opam remove' that is not working, because even after doing

  opam remove core

I can do

$ ocaml
...
# #require &quot;core&quot;;;

and it loads the old cma file.



On Mon, Sep 17, 2012 at 2:40 PM, Sean McLaughlin &lt;<A HREF="http://lists.ocaml.org/listinfo/core">seanmcl at gmail.com</A>&gt; wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I'm trying to work on core, and am having some trouble with opam.  I
</I>&gt;<i> downloaded the latest tarball
</I>&gt;<i>
</I>&gt;<i>   ocaml-core-108.07.00
</I>&gt;<i>
</I>&gt;<i> and everything compiled fine.  Then I edited some code in
</I>&gt;<i>
</I>&gt;<i>   ocaml-core-108.07.00/core-108.07.00/lib
</I>&gt;<i>
</I>&gt;<i> and ran
</I>&gt;<i>
</I>&gt;<i>   /usr/local/src/ocaml-core-108.07.00/core-108.07.00
</I>&gt;<i>   $ ocaml setup.ml -build
</I>&gt;<i>
</I>&gt;<i> which completed fine. Then I tried to install, but got the following error
</I>&gt;<i>
</I>&gt;<i> $ ocaml setup.ml -install
</I>&gt;<i> ocamlfind: Package core is already installed
</I>&gt;<i>  - (file /Users/seanmcl/.opam/4.00.0/lib/core/META already exists)
</I>&gt;<i> E: Failure(&quot;Command ''/Users/seanmcl/.opam/4.00.0/bin/ocamlfind' install
</I>&gt;<i> core lib/META _build/top/core_install_printers.cmx
</I>&gt;<i> _build/top/core_install_printers.cmi _build/top/core_top.cmxs
</I>&gt;<i> _build/top/core_top.a _build/top/core_top.cmxa _build/top/core_top.cma top/
</I>&gt;<i> core_install_printers.ml _build/lib/core.cmxs _build/lib/core.a
</I>&gt;<i> _build/lib/core.cmxa _build/lib/core.cma _build/lib/core.cmi
</I>&gt;<i> _build/lib/dllcore_stubs.so _build/lib/libcore_stubs.a lib/zone.mli
</I>&gt;<i> lib/word_size.mli lib/with_return.mli lib/weekday.mli lib/unpack_buffer.mli
</I>&gt;<i> lib/univ_map.mli lib/univ.mli lib/unit.mli lib/unique_id_intf.mllib/unique_id.mli lib/union_find.mli lib/tuple.mli lib/timer.mli lib/
</I>&gt;<i> time_internal.ml lib/time.mli lib/thread_safe_queue.mli lib/t.mllib/sys_open_patch.mli lib/
</I>&gt;<i> substring_intf.ml lib/substring.mli lib/string_id.mli lib/stringable.mllib/
</I>&gt;<i> std_internal.ml lib/std.ml lib/staged.mli lib/stable_unit_test_intf.mllib/stable_unit_test.mli lib/
</I>&gt;<i> stable_internal.ml lib/stable_containers.mli lib/stable.ml lib/squeue.mli
</I>&gt;<i> lib/span.mli lib/space_safe_tuple.mli lib/source_code_position.mli
</I>&gt;<i> lib/signal.mli lib/sexpable.ml lib/set_once.mli lib/robustly_comparable.mllib/result.mli lib/ref.mli lib/quickcheck.mli lib/pretty_printer.mli lib/
</I>&gt;<i> polymorphic_compare_intf.ml lib/polymorphic_compare.mli
</I>&gt;<i> lib/piecewise_linear.mli lib/pid.mli lib/out_channel.mli lib/or_error.mli
</I>&gt;<i> lib/ordered_collection_common.mli lib/option.mli lib/only_in_test.mli
</I>&gt;<i> lib/ofday_unit_tests_v1.mli lib/ofday.mli lib/no_polymorphic_compare.mli
</I>&gt;<i> lib/nano_mutex.mli lib/mutex0.ml lib/month.mli lib/monad.ml lib/memo.mli
</I>&gt;<i> lib/make_substring.ml lib/lock_file.mli lib/linux_ext.mli lib/int_set.mli
</I>&gt;<i> lib/int_replace_polymorphic_compare.mli lib/int_intf.ml lib/
</I>&gt;<i> interval_intf.ml lib/interval.mli lib/interfaces.ml lib/int_conversions.mllib/
</I>&gt;<i> intable.ml lib/inline_tests.ml lib/info.mli lib/in_channel.mli
</I>&gt;<i> lib/identifiable.mli lib/host_and_port.mli lib/heap.mli lib/
</I>&gt;<i> hash_set_intf.ml lib/hash_set.mli lib/hash_queue.ml lib/hash_heap.ml lib/
</I>&gt;<i> hashable.ml lib/fqueue.mli lib/force_once.mli lib/fn.mli
</I>&gt;<i> lib/float_robust_compare.mli lib/float_intf.ml lib/floatable.mllib/float.mli lib/exn.mli lib/error.mli lib/doubly_linked.mli
</I>&gt;<i> lib/dequeue.mli lib/date.mli lib/daemon.mli lib/crc.mli lib/core_unix.mli
</I>&gt;<i> lib/core_thread.mli lib/core_sys.mli lib/core_string.mli lib/core_stack.mli
</I>&gt;<i> lib/core_sexp.mli lib/core_set_unit_tests.mli lib/core_set_intf.mllib/core_set.mli lib/core_random.mli lib/core_queue.mli lib/core_printf.mli
</I>&gt;<i> lib/core_printexc.mli lib/core_nativeint.mli lib/core_mutex.mli
</I>&gt;<i> lib/core_map_unit_tests.mli lib/core_map_intf.ml lib/core_map.mli
</I>&gt;<i> lib/core_list.mli lib/core_lazy.mli lib/core_int64.mli lib/core_int63.mli
</I>&gt;<i> lib/core_int32.mli lib/core_int.mli lib/core_hashtbl_intf.mllib/core_hashtbl.mli lib/core_gc.mli lib/core_filename.mli lib/
</I>&gt;<i> core_field.ml lib/core_condition.mli lib/core_char.mli lib/
</I>&gt;<i> core_bin_prot.ml lib/core_array.mli lib/core_arg.mli lib/container.ml lib/
</I>&gt;<i> constrained_float.ml lib/comparator.mli lib/comparable.ml lib/
</I>&gt;<i> commutative_group.ml lib/common0.ml lib/common.mli lib/command.mli lib/
</I>&gt;<i> caml.ml lib/byte_units.mli lib/bucket.ml lib/bounded_int_table.mli
</I>&gt;<i> lib/bool.mli lib/blang.mli lib/binary_packing.mli lib/binable0.mllib/binable.mli lib/bigsubstring.mli lib/bigstring_marshal.mli
</I>&gt;<i> lib/bigstring.mli lib/bigbuffer.mli lib/bag.mli lib/backtrace.mli
</I>&gt;<i> lib/avltree.mli lib/array_permute.ml' terminated with error code 2&quot;)
</I>&gt;<i> EXIT STATUS 1
</I>&gt;<i>
</I>&gt;<i> I tried doing
</I>&gt;<i>
</I>&gt;<i>   opam remove core
</I>&gt;<i>
</I>&gt;<i> which completed without error.  But the files are not removed from
</I>&gt;<i>
</I>&gt;<i>   .opam/4.00.0/lib/core
</I>&gt;<i>
</I>&gt;<i> and the -install step still complains that there's an existing META file
</I>&gt;<i> and refuses to install itself.
</I>&gt;<i>
</I>&gt;<i> Please let me know what I'm doing wrong.
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i>
</I>&gt;<i> Sean
</I>&gt;<i>
</I>&gt;<i> Is there an opam mailing list yet so I don't spam the wrong ocamlpro guys?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ocaml.org/pipermail/core/attachments/20120917/4152f108/attachment-0001.html">http://lists.ocaml.org/pipermail/core/attachments/20120917/4152f108/attachment-0001.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000555.html">opam 'remove' not working
</A></li>
	<LI>Next message: <A HREF="001446.html">opam 'remove' not working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1445">[ date ]</a>
              <a href="thread.html#1445">[ thread ]</a>
              <a href="subject.html#1445">[ subject ]</a>
              <a href="author.html#1445">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/core">More information about the core
mailing list</a><br>
</body></html>
