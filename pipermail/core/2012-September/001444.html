<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> opam 'remove' not working
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:core%40lists.ocaml.org?Subject=Re%3A%20opam%20%27remove%27%20not%20working&In-Reply-To=%3CCAO4dZbc%2BN-jbt-u-Eu4nNb25wUbd7VNH6fFsz7HJo40N%3DpBb1A%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>opam 'remove' not working</H1>
    <B>Sean McLaughlin</B> 
    <A HREF="mailto:core%40lists.ocaml.org?Subject=Re%3A%20opam%20%27remove%27%20not%20working&In-Reply-To=%3CCAO4dZbc%2BN-jbt-u-Eu4nNb25wUbd7VNH6fFsz7HJo40N%3DpBb1A%40mail.gmail.com%3E"
       TITLE="opam 'remove' not working">seanmcl at gmail.com
       </A><BR>
    <I>Mon Sep 17 19:40:55 BST 2012</I>
    <P><UL>
        
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1444">[ date ]</a>
              <a href="thread.html#1444">[ thread ]</a>
              <a href="subject.html#1444">[ subject ]</a>
              <a href="author.html#1444">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm trying to work on core, and am having some trouble with opam.  I
downloaded the latest tarball

  ocaml-core-108.07.00

and everything compiled fine.  Then I edited some code in

  ocaml-core-108.07.00/core-108.07.00/lib

and ran

  /usr/local/src/ocaml-core-108.07.00/core-108.07.00
  $ ocaml setup.ml -build

which completed fine. Then I tried to install, but got the following error

$ ocaml setup.ml -install
ocamlfind: Package core is already installed
 - (file /Users/seanmcl/.opam/4.00.0/lib/core/META already exists)
E: Failure(&quot;Command ''/Users/seanmcl/.opam/4.00.0/bin/ocamlfind' install
core lib/META _build/top/core_install_printers.cmx
_build/top/core_install_printers.cmi _build/top/core_top.cmxs
_build/top/core_top.a _build/top/core_top.cmxa _build/top/core_top.cma top/
core_install_printers.ml _build/lib/core.cmxs _build/lib/core.a
_build/lib/core.cmxa _build/lib/core.cma _build/lib/core.cmi
_build/lib/dllcore_stubs.so _build/lib/libcore_stubs.a lib/zone.mli
lib/word_size.mli lib/with_return.mli lib/weekday.mli lib/unpack_buffer.mli
lib/univ_map.mli lib/univ.mli lib/unit.mli
lib/unique_id_intf.mllib/unique_id.mli lib/union_find.mli
lib/tuple.mli lib/timer.mli lib/
time_internal.ml lib/time.mli lib/thread_safe_queue.mli
lib/t.mllib/sys_open_patch.mli lib/
substring_intf.ml lib/substring.mli lib/string_id.mli lib/stringable.ml lib/
std_internal.ml lib/std.ml lib/staged.mli
lib/stable_unit_test_intf.mllib/stable_unit_test.mli lib/
stable_internal.ml lib/stable_containers.mli lib/stable.ml lib/squeue.mli
lib/span.mli lib/space_safe_tuple.mli lib/source_code_position.mli
lib/signal.mli lib/sexpable.ml lib/set_once.mli
lib/robustly_comparable.mllib/result.mli lib/ref.mli
lib/quickcheck.mli lib/pretty_printer.mli lib/
polymorphic_compare_intf.ml lib/polymorphic_compare.mli
lib/piecewise_linear.mli lib/pid.mli lib/out_channel.mli lib/or_error.mli
lib/ordered_collection_common.mli lib/option.mli lib/only_in_test.mli
lib/ofday_unit_tests_v1.mli lib/ofday.mli lib/no_polymorphic_compare.mli
lib/nano_mutex.mli lib/mutex0.ml lib/month.mli lib/monad.ml lib/memo.mli
lib/make_substring.ml lib/lock_file.mli lib/linux_ext.mli lib/int_set.mli
lib/int_replace_polymorphic_compare.mli lib/int_intf.ml
lib/interval_intf.mllib/interval.mli lib/
interfaces.ml lib/int_conversions.ml lib/intable.ml
lib/inline_tests.mllib/info.mli lib/in_channel.mli
lib/identifiable.mli lib/host_and_port.mli
lib/heap.mli lib/hash_set_intf.ml lib/hash_set.mli lib/hash_queue.ml lib/
hash_heap.ml lib/hashable.ml lib/fqueue.mli lib/force_once.mli lib/fn.mli
lib/float_robust_compare.mli lib/float_intf.ml
lib/floatable.mllib/float.mli lib/exn.mli lib/error.mli
lib/doubly_linked.mli
lib/dequeue.mli lib/date.mli lib/daemon.mli lib/crc.mli lib/core_unix.mli
lib/core_thread.mli lib/core_sys.mli lib/core_string.mli lib/core_stack.mli
lib/core_sexp.mli lib/core_set_unit_tests.mli
lib/core_set_intf.mllib/core_set.mli lib/core_random.mli
lib/core_queue.mli lib/core_printf.mli
lib/core_printexc.mli lib/core_nativeint.mli lib/core_mutex.mli
lib/core_map_unit_tests.mli lib/core_map_intf.ml lib/core_map.mli
lib/core_list.mli lib/core_lazy.mli lib/core_int64.mli lib/core_int63.mli
lib/core_int32.mli lib/core_int.mli
lib/core_hashtbl_intf.mllib/core_hashtbl.mli lib/core_gc.mli
lib/core_filename.mli lib/
core_field.ml lib/core_condition.mli lib/core_char.mli
lib/core_bin_prot.mllib/core_array.mli lib/core_arg.mli lib/
container.ml lib/constrained_float.ml lib/comparator.mli lib/comparable.mllib/
commutative_group.ml lib/common0.ml lib/common.mli lib/command.mli lib/
caml.ml lib/byte_units.mli lib/bucket.ml lib/bounded_int_table.mli
lib/bool.mli lib/blang.mli lib/binary_packing.mli
lib/binable0.mllib/binable.mli lib/bigsubstring.mli
lib/bigstring_marshal.mli
lib/bigstring.mli lib/bigbuffer.mli lib/bag.mli lib/backtrace.mli
lib/avltree.mli lib/array_permute.ml' terminated with error code 2&quot;)
EXIT STATUS 1

I tried doing

  opam remove core

which completed without error.  But the files are not removed from

  .opam/4.00.0/lib/core

and the -install step still complains that there's an existing META file
and refuses to install itself.

Please let me know what I'm doing wrong.

Thanks,

Sean

Is there an opam mailing list yet so I don't spam the wrong ocamlpro guys?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ocaml.org/pipermail/core/attachments/20120917/dae2eb43/attachment-0001.html">http://lists.ocaml.org/pipermail/core/attachments/20120917/dae2eb43/attachment-0001.html</A>&gt;
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1444">[ date ]</a>
              <a href="thread.html#1444">[ thread ]</a>
              <a href="subject.html#1444">[ subject ]</a>
              <a href="author.html#1444">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/core">More information about the core
mailing list</a><br>
</body></html>
