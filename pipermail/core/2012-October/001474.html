<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> type_conv-108.07 breakage
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:core%40lists.ocaml.org?Subject=Re%3A%20type_conv-108.07%20breakage&In-Reply-To=%3C88A9DC59-F8AA-4F41-8F4E-B616236A9386%40recoil.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000588.html">
   <LINK REL="Next"  HREF="000589.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>type_conv-108.07 breakage</H1>
    <B>Anil Madhavapeddy</B> 
    <A HREF="mailto:core%40lists.ocaml.org?Subject=Re%3A%20type_conv-108.07%20breakage&In-Reply-To=%3C88A9DC59-F8AA-4F41-8F4E-B616236A9386%40recoil.org%3E"
       TITLE="type_conv-108.07 breakage">anil at recoil.org
       </A><BR>
    <I>Mon Oct  1 19:36:02 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="000588.html">type_conv-108.07 breakage
</A></li>
        <LI>Next message: <A HREF="000589.html">type_conv-108.07 breakage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1474">[ date ]</a>
              <a href="thread.html#1474">[ thread ]</a>
              <a href="subject.html#1474">[ subject ]</a>
              <a href="author.html#1474">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 1 Oct 2012, at 11:28, Markus Mottl &lt;<A HREF="http://lists.ocaml.org/listinfo/core">markus.mottl at gmail.com</A>&gt; wrote:

&gt;<i> Hi Yuri,
</I>&gt;<i> 
</I>&gt;<i> On Mon, Oct 1, 2012 at 1:37 PM, Yury Sulsky &lt;<A HREF="http://lists.ocaml.org/listinfo/core">yury.sulsky at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> This was definitely a bug in type-conv. Valentin has a fix for this:
</I>&gt;<i> 
</I>&gt;<i> It seems your latest version of type_conv has diverged already quite a
</I>&gt;<i> lot from what's in the Core development tree or even patch queue.  I'm
</I>&gt;<i> not sure what your release plans are for the future, but I find it
</I>&gt;<i> rather hard to merge or even keep track of changes that happen in
</I>&gt;<i> tarball releases but not in the development tree.  What are your
</I>&gt;<i> future plans for the development process and release cycles?  I'd hope
</I>&gt;<i> we'll see more activity in the development tree or at least patch
</I>&gt;<i> queue.
</I>
I had a quick chat with Yaron about this at OUD.  It seems that the best
way to export changes from the JSC dev trees is via tarballs (that lose
history).  However, if we do not need patches to go *bidirectionally*, then
the Mercurial export infrastructure could be significantly simplified.

I propose something along these lines:

- JSC releases tarballs that are similar to the current ones, but with
  preX releases so we can see some changes before they're committed to
  the final release.

- These tarballs are committed by script against a Github repository of
  Core. This will lose renames if changes are made, but this can't be
  helped for now.

- Any patches or pull requests against the Github version are transformed
  into e-mail patches and sent to JSC for incorporation into a future
  version.  A Git merge will naturally resolve these.

It's not an ideal workflow as the external consumers lose all the version
history, but it would be a lot better than the current tarball/dev sync
issues.

An alternative, if JSC can keep the Bitbucket repo up-to-date more
frequently, is for us to setup a unidirectional Bitbucket-&gt;Github mirror.
In practical terms, there seems little advantage though, as the Bitbucket
repo also loses version history of changesets at present (I think).

Whatever happens, a Github repo would extremely useful to fit into other
project workflows such as <A HREF="http://github.com/xen-org/xen-api">http://github.com/xen-org/xen-api</A> (where there
are autobuildbots that could work against forks and pre-release for
continuous build coverage tests).

-anil

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000588.html">type_conv-108.07 breakage
</A></li>
	<LI>Next message: <A HREF="000589.html">type_conv-108.07 breakage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1474">[ date ]</a>
              <a href="thread.html#1474">[ thread ]</a>
              <a href="subject.html#1474">[ subject ]</a>
              <a href="author.html#1474">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/core">More information about the core
mailing list</a><br>
</body></html>
