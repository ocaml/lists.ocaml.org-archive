<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Async: Fd not getting closed?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:core%40lists.ocaml.org?Subject=Re%3A%20Async%3A%20Fd%20not%20getting%20closed%3F&In-Reply-To=%3CCAKziXDUM65NckRku0Uh5LPKjTHaNdP4_xna4QXvS-pwh8jfLhA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Async: Fd not getting closed?</H1>
    <B>Malcolm Matalka</B> 
    <A HREF="mailto:core%40lists.ocaml.org?Subject=Re%3A%20Async%3A%20Fd%20not%20getting%20closed%3F&In-Reply-To=%3CCAKziXDUM65NckRku0Uh5LPKjTHaNdP4_xna4QXvS-pwh8jfLhA%40mail.gmail.com%3E"
       TITLE="Async: Fd not getting closed?">mmatalka at gmail.com
       </A><BR>
    <I>Thu Oct 11 21:29:34 BST 2012</I>
    <P><UL>
        
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1526">[ date ]</a>
              <a href="thread.html#1526">[ thread ]</a>
              <a href="subject.html#1526">[ subject ]</a>
              <a href="author.html#1526">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
I have some dirty code here: <A HREF="http://ideone.com/WG9mN">http://ideone.com/WG9mN</A>

To compile:

ocamlfind ocamlopt -package core,async -thread -linkpkg -o foo foo.ml

The problem is the 'wait' never seems to come back. This appears to be
because the cat is still waiting on reading stdin.  But the stdin
should be closed on line 77, shouldn't it?

What am I doing wrong?

Thanks!

/M

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1526">[ date ]</a>
              <a href="thread.html#1526">[ thread ]</a>
              <a href="subject.html#1526">[ subject ]</a>
              <a href="author.html#1526">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/core">More information about the core
mailing list</a><br>
</body></html>
