<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> bin-prot compile error related to libc version
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:core%40lists.ocaml.org?Subject=Re%3A%20bin-prot%20compile%20error%20related%20to%20libc%20version&In-Reply-To=%3CCAP_800rvAnUuL3LoyFiZEMkuQLQ4%3D%2BKk861dLem_w4ccP_SS8Q%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000065.html">
   <LINK REL="Next"  HREF="000067.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>bin-prot compile error related to libc version</H1>
    <B>Markus Mottl</B> 
    <A HREF="mailto:core%40lists.ocaml.org?Subject=Re%3A%20bin-prot%20compile%20error%20related%20to%20libc%20version&In-Reply-To=%3CCAP_800rvAnUuL3LoyFiZEMkuQLQ4%3D%2BKk861dLem_w4ccP_SS8Q%40mail.gmail.com%3E"
       TITLE="bin-prot compile error related to libc version">markus.mottl at gmail.com
       </A><BR>
    <I>Thu Nov 10 19:36:22 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="000065.html">bin-prot compile error related to libc version
</A></li>
        <LI>Next message: <A HREF="000067.html">bin-prot compile error related to libc version
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66">[ date ]</a>
              <a href="thread.html#66">[ thread ]</a>
              <a href="subject.html#66">[ subject ]</a>
              <a href="author.html#66">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi,

the &quot;official&quot; packages are now on OCaml Forge.  This was the agreed
upon repository where Till and I created the final release.  The idea
was to eventually drop our separate download sites and use OCaml Forge
only.  Godi uses the OCaml Forge packages.

Concerning the error above: indeed, glibc 2.5 does not support these
functions yet, they were apparently introduced with glibc 2.9 in 2009
only.

I have updated bin-prot by defining the required macros if they are
undefined.  The new distribution is online, both at OCaml Forge and in
Godi.  Please let me know if there are still any build errors or if
the test suite fails.  I cannot easily test old platforms myself.

Regards,
Markus

On Thu, Nov 10, 2011 at 10:48, Yaron Minsky &lt;<A HREF="http://lists.ocaml.org/listinfo/core">yminsky at janestreet.com</A>&gt; wrote:
&gt;<i> Looping Markus in.
</I>&gt;<i>
</I>&gt;<i> Have you tried to setup the released tarballs from the website? &#160;I
</I>&gt;<i> wonder if they have this problem too.
</I>&gt;<i>
</I>&gt;<i> Anyone know offhand who put together the Godi packages? &#160;I agree that
</I>&gt;<i> those version numbers confuse me. &#160;I know there was some
</I>&gt;<i> cross-platform compatibility work that was done for Debian that was
</I>&gt;<i> working its way upstream, but I'm not sure of the state of play.
</I>&gt;<i>
</I>&gt;<i> Markus, do you know what's going on here?
</I>&gt;<i>
</I>&gt;<i> y
</I>&gt;<i>
</I>&gt;<i> On 10/11/11 08:53, Ashish Agarwal wrote:
</I>&gt;&gt;<i> Platforms: CentOS 5.5, RHEL 5.1, and RHEL 5.3
</I>&gt;&gt;<i> bin-prot version 2.0.6
</I>&gt;&gt;<i> typ-conv version: 3.0.4
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> However, version numbers on both jane street and Markus's websites are
</I>&gt;&gt;<i> lower than this, so I'm unclear where the godi versions are coming from.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> $ godi_list | grep prot
</I>&gt;&gt;<i> godi-bin-prot &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;inst:- &#160; &#160; &#160; &#160; &#160;src:2.0.6godi1
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> $ godi_list | grep conv
</I>&gt;&gt;<i> godi-type-conv &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; inst:- &#160; &#160; &#160; &#160; &#160;src:3.0.4godi1
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Wed, Nov 9, 2011 at 9:12 PM, Yaron Minsky &lt;<A HREF="http://lists.ocaml.org/listinfo/core">yminsky at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &gt; Just to be clear, what platform are you running on, and what version of
</I>&gt;&gt;<i> &gt; bin-prot and type-conv are you using?
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; On Wed, Nov 9, 2011 at 12:11 PM, Ashish Agarwal &lt;<A HREF="http://lists.ocaml.org/listinfo/core">agarwal1975 at gmail.com</A>&gt;wrote:
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;&gt; When compiling bin-prot via godi, I get the error below. We have libc
</I>&gt;&gt;<i> &gt;&gt; version 2.5, which seems not to support the missing functions. Is this
</I>&gt;&gt;<i> &gt;&gt; dependency removed in any branch? (Also, let me know if there is a better
</I>&gt;&gt;<i> &gt;&gt; mailing list to use for bin-prot.)
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; I: Running command '/home/aa144/local/godi/bin/ocamlbuild
</I>&gt;&gt;<i> &gt;&gt; syntax/pa_bin_prot.cma lib/libbin_prot.a lib/dllbin_prot.so
</I>&gt;&gt;<i> &gt;&gt; lib/bin_prot.cma lib/bin_prot.cmxa lib/bin_prot.a lib_test/example.byte
</I>&gt;&gt;<i> &gt;&gt; -tag debug'
</I>&gt;&gt;<i> &gt;&gt; Finished, 1 target (0 cached) in 00:00:00.
</I>&gt;&gt;<i> &gt;&gt; + ocamlfind ocamlc -ccopt -pipe -ccopt -g -ccopt -fPIC -ccopt -O2 -ccopt
</I>&gt;&gt;<i> &gt;&gt; -fomit-frame-pointer -ccopt -fsigned-char -ccopt -Wall -ccopt -pedantic
</I>&gt;&gt;<i> &gt;&gt; -ccopt -Wextra -ccopt -Wunused -ccopt -Werror -ccopt -Wno-long-long -c
</I>&gt;&gt;<i> &gt;&gt; lib/write_stubs.c
</I>&gt;&gt;<i> &gt;&gt; cc1: warnings being treated as errors
</I>&gt;&gt;<i> &gt;&gt; lib/write_stubs.c: In function 'do_write_int16':
</I>&gt;&gt;<i> &gt;&gt; lib/write_stubs.c:76: warning: implicit declaration of function 'htole16'
</I>&gt;&gt;<i> &gt;&gt; lib/write_stubs.c: In function 'do_write_int32':
</I>&gt;&gt;<i> &gt;&gt; lib/write_stubs.c:90: warning: implicit declaration of function 'htole32'
</I>&gt;&gt;<i> &gt;&gt; lib/write_stubs.c: In function 'do_write_int64':
</I>&gt;&gt;<i> &gt;&gt; lib/write_stubs.c:105: warning: implicit declaration of function 'htole64'
</I>&gt;&gt;<i> &gt;&gt; lib/write_stubs.c: In function 'write_network16_int_stub':
</I>&gt;&gt;<i> &gt;&gt; lib/write_stubs.c:557: warning: implicit declaration of function 'htobe16'
</I>&gt;&gt;<i> &gt;&gt; lib/write_stubs.c: In function 'write_network32_int_stub':
</I>&gt;&gt;<i> &gt;&gt; lib/write_stubs.c:567: warning: implicit declaration of function 'htobe32'
</I>&gt;&gt;<i> &gt;&gt; lib/write_stubs.c: In function 'write_network64_int_stub':
</I>&gt;&gt;<i> &gt;&gt; lib/write_stubs.c:588: warning: implicit declaration of function 'htobe64'
</I>&gt;&gt;<i> &gt;&gt; Command exited with code 2.
</I>&gt;&gt;<i> &gt;&gt; Compilation unsuccessful after building 8 targets (0 cached) in 00:00:01.
</I>&gt;&gt;<i> &gt;&gt; E: Command '/home/aa144/local/godi/bin/ocamlbuild syntax/pa_bin_prot.cma
</I>&gt;&gt;<i> &gt;&gt; lib/libbin_prot.a lib/dllbin_prot.so lib/bin_prot.cma lib/bin_prot.cmxa
</I>&gt;&gt;<i> &gt;&gt; lib/bin_prot.a lib_test/example.byte -tag debug' terminated with error code
</I>&gt;&gt;<i> &gt;&gt; 10
</I>&gt;&gt;<i> &gt;&gt; make[7]: *** [all] Error 1
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Yaron Minsky
</I>&gt;<i>
</I>


-- 
Markus Mottl&#160; &#160; &#160; &#160; <A HREF="http://www.ocaml.info&#160;">http://www.ocaml.info&#160;</A> &#160; &#160; &#160; <A HREF="http://lists.ocaml.org/listinfo/core">markus.mottl at gmail.com</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000065.html">bin-prot compile error related to libc version
</A></li>
	<LI>Next message: <A HREF="000067.html">bin-prot compile error related to libc version
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#66">[ date ]</a>
              <a href="thread.html#66">[ thread ]</a>
              <a href="subject.html#66">[ subject ]</a>
              <a href="author.html#66">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/core">More information about the core
mailing list</a><br>
</body></html>
