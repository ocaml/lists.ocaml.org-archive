From yminsky at janestreet.com  Tue Oct  4 14:40:43 2011
From: yminsky at janestreet.com (Yaron Minsky)
Date: Tue, 4 Oct 2011 09:40:43 -0400
Subject: Welcome!
Message-ID: <20111004134043.GT17629@janestreet.com>


This mailing list is meant for discussion of and questions about the
Core suite of libraries for OCaml, which is an alternative to INRIA's
standard library.

This will hopefully be the first step of many in terms of opening up
Core and making it a useful and effective tool for more OCaml'ers.

y

-- 
Yaron Minsky


From yminsky at gmail.com  Sat Oct  8 00:24:11 2011
From: yminsky at gmail.com (Yaron Minsky)
Date: Fri, 7 Oct 2011 16:24:11 -0700 (PDT)
Subject: Short document / tutorial on Core
In-Reply-To: <4E8F48A2.4070203@gmail.com>
References: <31717188.154.1318007947457.JavaMail.geo-discussion-forums@prdw1> <20111007182456.GX14790@janestreet.com>
 <4E8F48A2.4070203@gmail.com>
Message-ID: <31384092.147.1318029851202.JavaMail.geo-discussion-forums@yqnk41>

On Friday, October 7, 2011 2:44:50 PM UTC-4, bob wrote:
>
> I checked the source code of core for fun. It would be very useful if 
> you could explain all the
> module type signatures and the philosophy under it.
>
> for example, what's the real world use of ('a,'b) type_class .. and like 
> functor Check_S0, Check_S1
>

I'm not sure which type_class you're talking about (and really, those should 
probably be referred to as type-indexed-values, rather than typeclasses.). 
 But the Check_s0, Check_S1 have an easy-to-explain purpose.  It's for 
interfaces like Map and Hashtbl that have both monomorphic (S0) and 
polymorphic (S1) interfaces.  These Check functors are there to check that 
the polymorphic and monomorphic signatures are the same except for the 
polymorphism difference.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.ocaml.org/pipermail/core/attachments/20111007/cfb6b73d/attachment.html>

From kakadu.hafanana at gmail.com  Sat Oct  8 07:45:08 2011
From: kakadu.hafanana at gmail.com (Kakadu)
Date: Fri, 7 Oct 2011 23:45:08 -0700 (PDT)
Subject: Short document / tutorial on Core
In-Reply-To: <31384092.147.1318029851202.JavaMail.geo-discussion-forums@yqnk41>
References: <31717188.154.1318007947457.JavaMail.geo-discussion-forums@prdw1>
 <20111007182456.GX14790@janestreet.com> <4E8F48A2.4070203@gmail.com> <31384092.147.1318029851202.JavaMail.geo-discussion-forums@yqnk41>
Message-ID: <74c9726c-62b7-4ac4-9ad7-6bfdeb60e55b@u13g2000vbx.googlegroups.com>


Also it is interesting to me where do you use sexplib ? As a analogue
of Marshal module or something more interesting?
I think that sexplib is a most visible difference between ocaml-core
and caml-batteries.

On Oct 8, 3:24?am, Yaron Minsky <ymin... at gmail.com> wrote:
> On Friday, October 7, 2011 2:44:50 PM UTC-4, bob wrote:
>


From yminsky at gmail.com  Sat Oct  8 12:00:40 2011
From: yminsky at gmail.com (Yaron Minsky)
Date: Sat, 8 Oct 2011 07:00:40 -0400
Subject: Short document / tutorial on Core
In-Reply-To: <74c9726c-62b7-4ac4-9ad7-6bfdeb60e55b@u13g2000vbx.googlegroups.com>
References: <31717188.154.1318007947457.JavaMail.geo-discussion-forums@prdw1>
	<20111007182456.GX14790@janestreet.com>
	<4E8F48A2.4070203@gmail.com>
	<31384092.147.1318029851202.JavaMail.geo-discussion-forums@yqnk41>
	<74c9726c-62b7-4ac4-9ad7-6bfdeb60e55b@u13g2000vbx.googlegroups.com>
Message-ID: <CADKNfhKq_Q4+5+v2P1TJUTiELWuN7BOGn3o8f1vqKA4nxfN3Ng@mail.gmail.com>


Core uses the s-expression syntax extension pretty pervasively.
S-expressions have a very different use-case from Marshal.  Marshal is
very fast, unsafe (if you're not careful, unmarshal can lead to a
segfault), and produces human unreadable output.

S-expressions are much slower, but generate human readable and
tweakable output.  That makes it suitable for config files and error
messages.

We also have another syntax extension that shows up throughout Core
called bin-prot.  Bin-prot is a binary protocol, which is, like
marshal, fast and unreadable, but it's also safe.

Another nice fact about all of these syntax extensions is that, unlike
marshal or compare or other generic algorithms built into OCaml, you
can override them at the type level.  If you don't like the
s-expression auto-generated for maps, you can create your own, which
enforces invariants of your choosing and has whatever syntax you want.
 This turns out to be quite important...

y

On Sat, Oct 8, 2011 at 2:45 AM, Kakadu <kakadu.hafanana at gmail.com> wrote:
> Also it is interesting to me where do you use sexplib ? As a analogue
> of Marshal module or something more interesting?
> I think that sexplib is a most visible difference between ocaml-core
> and caml-batteries.
>
> On Oct 8, 3:24?am, Yaron Minsky <ymin... at gmail.com> wrote:
>> On Friday, October 7, 2011 2:44:50 PM UTC-4, bob wrote:
>>
>


From dastapov at gmail.com  Mon Oct 10 08:07:49 2011
From: dastapov at gmail.com (Dmitry Astapov)
Date: Mon, 10 Oct 2011 00:07:49 -0700 (PDT)
Subject: Is core compilable on FreeBSD?
In-Reply-To: <f33bfa0a-819b-4842-b740-a0c8e4d659ae@t11g2000yqk.googlegroups.com>
References: <aa0160b9-0cc0-4810-ac50-e85d1019a472@i28g2000yqn.googlegroups.com>
 <CADKNfh+fxq=pxVJEE0es7WMvYXheSXj8NL6fTgpr0O8Nmz_PWQ@mail.gmail.com> <f33bfa0a-819b-4842-b740-a0c8e4d659ae@t11g2000yqk.googlegroups.com>
Message-ID: <15fd00cb-b38d-4e48-9c2f-ed7bf6bf4263@f6g2000vbm.googlegroups.com>


Looks like FreeBSD's family of *stat* calls is 64-bit by default, so
'#define stat64 stat' (and likewise for fstat, lstat) in unix_stub.c
might just do the trick.

There is obviously some extra include needed to make 'ifru_addr' error
go away, but I have no idea which one. However, a 'grep -r' for
ifru_addr in /usr/include might give some hints.

Line 1160 needs a '#warn -> #warning' change.

I have no ideas for CLOCK_PROCESS_CPUTIME_ID though :(

On Oct 7, 4:19?pm, Kakadu <kakadu.hafan... at gmail.com> wrote:
> 8.2-stable
>
> P.S. on windows there are some problems too, but it will be another
> discussion :-)
>
> On Oct 7, 3:06?am, Yaron Minsky <ymin... at gmail.com> wrote:
>
> > Do you know what
> > version of freebsd this was on?


From kakadu.hafanana at gmail.com  Mon Oct 10 13:26:16 2011
From: kakadu.hafanana at gmail.com (Kakadu)
Date: Mon, 10 Oct 2011 05:26:16 -0700 (PDT)
Subject: Is core compilable on FreeBSD?
In-Reply-To: <15fd00cb-b38d-4e48-9c2f-ed7bf6bf4263@f6g2000vbm.googlegroups.com>
References: <aa0160b9-0cc0-4810-ac50-e85d1019a472@i28g2000yqn.googlegroups.com>
 <CADKNfh+fxq=pxVJEE0es7WMvYXheSXj8NL6fTgpr0O8Nmz_PWQ@mail.gmail.com>
 <f33bfa0a-819b-4842-b740-a0c8e4d659ae@t11g2000yqk.googlegroups.com> <15fd00cb-b38d-4e48-9c2f-ed7bf6bf4263@f6g2000vbm.googlegroups.com>
Message-ID: <83467c57-438c-4e2b-a87a-ef33166a94f1@h10g2000yqd.googlegroups.com>


New info from my friend:
We should add #include <sys/socket.h> to fix problem with ifru_addr

On Oct 10, 11:07?am, Dmitry Astapov <dasta... at gmail.com> wrote:

> There is obviously some extra include needed to make 'ifru_addr' error
> go away, but I have no idea which one. However, a 'grep -r' for
> ifru_addr in /usr/include might give some hints.
>


From nobuyuki.tomizawa at gmail.com  Mon Oct 10 17:46:24 2011
From: nobuyuki.tomizawa at gmail.com (Nobuyuki Tomizawa)
Date: Mon, 10 Oct 2011 09:46:24 -0700 (PDT)
Subject: Short document / tutorial on Core
In-Reply-To: <20111007182456.GX14790@janestreet.com>
References: <31717188.154.1318007947457.JavaMail.geo-discussion-forums@prdw1>
 <20111007182456.GX14790@janestreet.com>
Message-ID: <17898995.1552.1318265184361.JavaMail.geo-discussion-forums@prdw1>

Thank you for your reply.
>
> I had no specific idea on what kind of documents the Core missed, but, 
summary of the difference from standard library will help for non-Core-user 
ocaml programmer like me. For example, I heard that Core prefers "option" 
rather than 'Not_found' exception (is this true?). So, basic usage of the 
library (with short description of design philosophy of the library) seems 
to be help.

Anyway, I'll start to read reference manual of Core to grasp it.

Thank you.

-- nobuyuki

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.ocaml.org/pipermail/core/attachments/20111010/cc3ecdbd/attachment.html>

From yminsky at janestreet.com  Mon Oct 10 19:25:08 2011
From: yminsky at janestreet.com (Yaron Minsky)
Date: Mon, 10 Oct 2011 14:25:08 -0400
Subject: Short document / tutorial on Core
In-Reply-To: <17898995.1552.1318265184361.JavaMail.geo-discussion-forums@prdw1>
References: <31717188.154.1318007947457.JavaMail.geo-discussion-forums@prdw1>
 <20111007182456.GX14790@janestreet.com>
 <17898995.1552.1318265184361.JavaMail.geo-discussion-forums@prdw1>
Message-ID: <20111010182508.GX14790@janestreet.com>


On 10/10/11 09:46, Nobuyuki Tomizawa wrote:
> Thank you for your reply.
> 
> I had no specific idea on what kind of documents the Core missed,
> but, summary of the difference from standard library will help for
> non-Core-user ocaml programmer like me. For example, I heard that
> Core prefers "option" rather than 'Not_found' exception (is this
> true?). 

This is absolutely true!

> So, basic usage of the library (with short description of design
> philosophy of the library) seems to be help.

Yeah, I think we should try to put together a design document for
Core.  I've done some thinking about this, but we should do some more,
since it will be useful internally as well.  Maybe the first form this
should take is a set of blog posts.  Come to think of it, there is an
old post on our blog on this topic:

   http://ocaml.janestreet.com/?q=node/28

It covers some of the issues you mention.

y

> Anyway, I'll start to read reference manual of Core to grasp it.
> 
> Thank you.
> 
> -- nobuyuki
> 

-- 
Yaron Minsky


From dastapov at gmail.com  Tue Oct 11 10:10:13 2011
From: dastapov at gmail.com (Dmitry Astapov)
Date: Tue, 11 Oct 2011 02:10:13 -0700 (PDT)
Subject: Is core compilable on FreeBSD?
In-Reply-To: <83467c57-438c-4e2b-a87a-ef33166a94f1@h10g2000yqd.googlegroups.com>
References: <aa0160b9-0cc0-4810-ac50-e85d1019a472@i28g2000yqn.googlegroups.com>
 <CADKNfh+fxq=pxVJEE0es7WMvYXheSXj8NL6fTgpr0O8Nmz_PWQ@mail.gmail.com>
 <f33bfa0a-819b-4842-b740-a0c8e4d659ae@t11g2000yqk.googlegroups.com>
 <15fd00cb-b38d-4e48-9c2f-ed7bf6bf4263@f6g2000vbm.googlegroups.com> <83467c57-438c-4e2b-a87a-ef33166a94f1@h10g2000yqd.googlegroups.com>
Message-ID: <3441b417-23da-46f6-adc1-89d5f20052d6@p11g2000yqe.googlegroups.com>


So, after all those changes, what is the final list of errors that
still need fixing?

On Oct 10, 1:26?pm, Kakadu <kakadu.hafan... at gmail.com> wrote:
> New info from my friend:
> We should add #include <sys/socket.h> to fix problem with ifru_addr
>
> On Oct 10, 11:07?am, Dmitry Astapov <dasta... at gmail.com> wrote:
>
> > There is obviously some extra include needed to make 'ifru_addr' error
> > go away, but I have no idea which one. However, a 'grep -r' for
> > ifru_addr in /usr/include might give some hints.


From ocaml-core at googlegroups.com  Tue Oct 11 03:27:46 2011
From: ocaml-core at googlegroups.com (ocaml-core at googlegroups.com)
Date: Tue, 11 Oct 2011 02:27:46 +0000
Subject: Moderator's spam report for ocaml-core@googlegroups.com
Message-ID: <0016e6d7e69728242b04aefca763@google.com>


This message is being sent to you because you are a moderator of the group ocaml-core.

The following suspicious messages were sent to your group, but are being held in your moderation queue because they are classified as likely spam messages.

If you take no action, all the messages below will be discarded automatically as spam.

However, if you see any messages that are not spam below, you may approve them individually by going to:

http://groups.google.com/group/ocaml-core/pendmsg

Please do not mark this notification as spam; this is a service for group moderators. If you do not wish to receive these notifications in the future, you may change your preferences by going to:

http://groups.google.com/group/ocaml-core/manage_post


------- 1 of 1  -------
Subject: IMPORTANT PAYMENT WIRE NOTIFICATION ( very urgent }
>From: "Kwesi Johnson"<test at yiling.cn>
Date: Oct 09 01:00PM +0530

IMPORTANT PAYMENT WIRE NOTIFICATION

I humbly wish to inform you that the Department of Credit & Telex control

of the UBA Ghana has received an instruction Order to effect the wire

transferring of your approved fund of USD$10,850,000.00

Approve: http://groups.google.com/group/ocaml-core/pendmsg?view=full&pending_id=6833647891478083178


For more information about this message, please visit:
http://groups.google.com/support/bin/answer.py?hl=en&answer=165806



From kakadu.hafanana at gmail.com  Tue Oct 11 13:21:47 2011
From: kakadu.hafanana at gmail.com (Kakadu)
Date: Tue, 11 Oct 2011 05:21:47 -0700 (PDT)
Subject: Instructions for compiling core
Message-ID: <6842848b-6750-493f-8bad-d2a538f227b9@z19g2000vby.googlegroups.com>


Official site lacks of documentation for building core, I think.

New users complain of misunderstanding what version of type-conv
(you've published 2.3.0 but 3.* exists) and sexplib (you've published
7.0.2 but 7.0.4 exists) is needed. Also it is difficult for them to
find a post about last release of core in google-groups.

Also not every person reads REAME file. Maybe we'll add some version
dependences to _oasis file?


From yminsky at janestreet.com  Tue Oct 11 14:32:39 2011
From: yminsky at janestreet.com (Yaron Minsky)
Date: Tue, 11 Oct 2011 09:32:39 -0400
Subject: Instructions for compiling core
In-Reply-To: <6842848b-6750-493f-8bad-d2a538f227b9@z19g2000vby.googlegroups.com>
References: <6842848b-6750-493f-8bad-d2a538f227b9@z19g2000vby.googlegroups.com>
Message-ID: <20111011133239.GJ14790@janestreet.com>


Seems like a good idea.  I actually want to create a whole new website
for Core, but that's going to take a little time.

y

On 11/10/11 05:21, Kakadu wrote:
> Official site lacks of documentation for building core, I think.
> 
> New users complain of misunderstanding what version of type-conv
> (you've published 2.3.0 but 3.* exists) and sexplib (you've published
> 7.0.2 but 7.0.4 exists) is needed. Also it is difficult for them to
> find a post about last release of core in google-groups.
> 
> Also not every person reads REAME file. Maybe we'll add some version
> dependences to _oasis file?

-- 
Yaron Minsky


From alex.rubinsteyn at gmail.com  Thu Oct 13 03:58:34 2011
From: alex.rubinsteyn at gmail.com (Alex Rubinsteyn)
Date: Wed, 12 Oct 2011 19:58:34 -0700 (PDT)
Subject: Instructions for compiling core
In-Reply-To: <20111011133239.GJ14790@janestreet.com>
References: <6842848b-6750-493f-8bad-d2a538f227b9@z19g2000vby.googlegroups.com>
 <20111011133239.GJ14790@janestreet.com>
Message-ID: <4547101.993.1318474715060.JavaMail.geo-discussion-forums@vbak12>

I suspect that opening up the development of Core will be a slow and 
delicate process, but maybe a website can move faster with some community 
effort. If you put up a wiki, at least several of us would be happy to start 
filling in the details. 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.ocaml.org/pipermail/core/attachments/20111012/87dbfa2f/attachment.html>

From yminsky at gmail.com  Thu Oct 13 04:08:33 2011
From: yminsky at gmail.com (Yaron Minsky)
Date: Wed, 12 Oct 2011 23:08:33 -0400
Subject: Instructions for compiling core
In-Reply-To: <4547101.993.1318474715060.JavaMail.geo-discussion-forums@vbak12>
References: <6842848b-6750-493f-8bad-d2a538f227b9@z19g2000vby.googlegroups.com>
	<20111011133239.GJ14790@janestreet.com>
	<4547101.993.1318474715060.JavaMail.geo-discussion-forums@vbak12>
Message-ID: <CADKNfhLLy5LTeGMB=e-NfsSRpJie0bE7EwJCpiw6pE5-r-N9Dg@mail.gmail.com>


I do like that idea.  Any suggestions on what would be a good Wiki to
use?  Google code has a code-hosting-plus-wiki setup, I know.  Are
there other suggestions?  Is this something that github does well?

y

On Wed, Oct 12, 2011 at 10:58 PM, Alex Rubinsteyn
<alex.rubinsteyn at gmail.com> wrote:
> I suspect that opening up the development of Core will be a slow and
> delicate process, but maybe a website can move faster with some community
> effort. If you put up a wiki, at least several of us would be happy to start
> filling in the details.


From yminsky at gmail.com  Thu Oct 13 04:10:18 2011
From: yminsky at gmail.com (Yaron Minsky)
Date: Wed, 12 Oct 2011 23:10:18 -0400
Subject: Instructions for compiling core
In-Reply-To: <CADKNfhLLy5LTeGMB=e-NfsSRpJie0bE7EwJCpiw6pE5-r-N9Dg@mail.gmail.com>
References: <6842848b-6750-493f-8bad-d2a538f227b9@z19g2000vby.googlegroups.com>
	<20111011133239.GJ14790@janestreet.com>
	<4547101.993.1318474715060.JavaMail.geo-discussion-forums@vbak12>
	<CADKNfhLLy5LTeGMB=e-NfsSRpJie0bE7EwJCpiw6pE5-r-N9Dg@mail.gmail.com>
Message-ID: <CADKNfh+5vmctEKM+pR8KJ4O3Z98=qZTuKJTG-pu_hoe=X-LtDg@mail.gmail.com>


>From a quick glance, it looks like github has a git-and-markdown based
wiki system called Gollum, which sounds like it could be just the
right thing.

On Wed, Oct 12, 2011 at 11:08 PM, Yaron Minsky <yminsky at gmail.com> wrote:
> I do like that idea. ?Any suggestions on what would be a good Wiki to
> use? ?Google code has a code-hosting-plus-wiki setup, I know. ?Are
> there other suggestions? ?Is this something that github does well?
>
> y
>
> On Wed, Oct 12, 2011 at 10:58 PM, Alex Rubinsteyn
> <alex.rubinsteyn at gmail.com> wrote:
>> I suspect that opening up the development of Core will be a slow and
>> delicate process, but maybe a website can move faster with some community
>> effort. If you put up a wiki, at least several of us would be happy to start
>> filling in the details.
>


From agarwal1975 at gmail.com  Thu Oct 13 14:35:39 2011
From: agarwal1975 at gmail.com (Agarwal Ashish)
Date: Thu, 13 Oct 2011 06:35:39 -0700 (PDT)
Subject: Instructions for compiling core
In-Reply-To: <CADKNfh+5vmctEKM+pR8KJ4O3Z98=qZTuKJTG-pu_hoe=X-LtDg@mail.gmail.com>
References: <6842848b-6750-493f-8bad-d2a538f227b9@z19g2000vby.googlegroups.com>
 <20111011133239.GJ14790@janestreet.com>
 <4547101.993.1318474715060.JavaMail.geo-discussion-forums@vbak12>
 <CADKNfhLLy5LTeGMB=e-NfsSRpJie0bE7EwJCpiw6pE5-r-N9Dg@mail.gmail.com>
 <CADKNfh+5vmctEKM+pR8KJ4O3Z98=qZTuKJTG-pu_hoe=X-LtDg@mail.gmail.com>
Message-ID: <25632447.797.1318512939656.JavaMail.geo-discussion-forums@vbac9>

Github's wiki works well enough. I'd recommend it for now at least.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.ocaml.org/pipermail/core/attachments/20111013/0c0ea100/attachment.html>

From yminsky at janestreet.com  Thu Oct 13 15:23:20 2011
From: yminsky at janestreet.com (Yaron Minsky)
Date: Thu, 13 Oct 2011 10:23:20 -0400
Subject: Instructions for compiling core
In-Reply-To: <25632447.797.1318512939656.JavaMail.geo-discussion-forums@vbac9>
References: <6842848b-6750-493f-8bad-d2a538f227b9@z19g2000vby.googlegroups.com>
 <20111011133239.GJ14790@janestreet.com>
 <4547101.993.1318474715060.JavaMail.geo-discussion-forums@vbak12>
 <CADKNfhLLy5LTeGMB=e-NfsSRpJie0bE7EwJCpiw6pE5-r-N9Dg@mail.gmail.com>
 <CADKNfh+5vmctEKM+pR8KJ4O3Z98=qZTuKJTG-pu_hoe=X-LtDg@mail.gmail.com>
 <25632447.797.1318512939656.JavaMail.geo-discussion-forums@vbac9>
Message-ID: <20111013142320.GY14790@janestreet.com>


We're now working on setting ourselves up in github.  The first step
is to build a bridge between our internal hg repos and the external
git repos.  There's a bit of coding to do there, and that will have to
happen before we create the github repos.

y

On 13/10/11 06:35, Agarwal Ashish wrote:
> Github's wiki works well enough. I'd recommend it for now at least.

-- 
Yaron Minsky


From kakadu.hafanana at gmail.com  Thu Oct 13 20:55:19 2011
From: kakadu.hafanana at gmail.com (Kakadu)
Date: Thu, 13 Oct 2011 12:55:19 -0700 (PDT)
Subject: Short document / tutorial on Core
In-Reply-To: <20111010182508.GX14790@janestreet.com>
References: <31717188.154.1318007947457.JavaMail.geo-discussion-forums@prdw1>
 <20111007182456.GX14790@janestreet.com> <17898995.1552.1318265184361.JavaMail.geo-discussion-forums@prdw1>
 <20111010182508.GX14790@janestreet.com>
Message-ID: <68c3626f-788d-43df-b9a2-80954fce4cef@v8g2000vbe.googlegroups.com>


Also I'll be glad if you clarify your politics concerning using
labeled arguments. Sometimes you add labeled arguments, but sometimes
not.
For example

Core_set.subset: 'a Core_set.t -> 'a Core_set.t -> bool

I absolutely have no idea (without looking to sources) are you
checking  that first arguments is subset of second or vise versa?

--
Kakadu


From yminsky at janestreet.com  Thu Oct 13 22:15:14 2011
From: yminsky at janestreet.com (Yaron Minsky)
Date: Thu, 13 Oct 2011 17:15:14 -0400
Subject: Short document / tutorial on Core
In-Reply-To: <68c3626f-788d-43df-b9a2-80954fce4cef@v8g2000vbe.googlegroups.com>
References: <31717188.154.1318007947457.JavaMail.geo-discussion-forums@prdw1>
 <20111007182456.GX14790@janestreet.com>
 <17898995.1552.1318265184361.JavaMail.geo-discussion-forums@prdw1>
 <20111010182508.GX14790@janestreet.com>
 <68c3626f-788d-43df-b9a2-80954fce4cef@v8g2000vbe.googlegroups.com>
Message-ID: <20111013211514.GU14790@janestreet.com>


On 13/10/11 12:55, Kakadu wrote:
> Also I'll be glad if you clarify your politics concerning using
> labeled arguments. Sometimes you add labeled arguments, but sometimes
> not.
> For example
> 
> Core_set.subset: 'a Core_set.t -> 'a Core_set.t -> bool
> 
> I absolutely have no idea (without looking to sources) are you
> checking  that first arguments is subset of second or vise versa?

I think that's a case where we should improve the interface!  For all
our talk of consistency, we haven't gotten all of the libraries right,
and we're most likely to be inconsistent on modules that are
descended from modules in Inria's standard library.

y

-- 
Yaron Minsky


From ocaml-core at googlegroups.com  Tue Oct 18 04:37:45 2011
From: ocaml-core at googlegroups.com (ocaml-core at googlegroups.com)
Date: Tue, 18 Oct 2011 03:37:45 +0000
Subject: Moderator's spam report for ocaml-core@googlegroups.com
Message-ID: <00504502d92e59df9804af8a729f@google.com>


This message is being sent to you because you are a moderator of the group ocaml-core.

The following suspicious messages were sent to your group, but are being held in your moderation queue because they are classified as likely spam messages.

If you take no action, all the messages below will be discarded automatically as spam.

However, if you see any messages that are not spam below, you may approve them individually by going to:

http://groups.google.com/group/ocaml-core/pendmsg

Please do not mark this notification as spam; this is a service for group moderators. If you do not wish to receive these notifications in the future, you may change your preferences by going to:

http://groups.google.com/group/ocaml-core/manage_post


------- 1 of 1  -------
Subject: HELLO
>From: "Dr.Jery James" <jery_jemees at yahoo.com>
Date: Oct 14 11:30PM +0900

For your exclusive attention sir,
 
Some weeks ago, I sent self addresses letter to your mailing address by post but did not get any response from you till date. Alternatively, I decided to forward the same message through email. I sent the letter

Approve: http://groups.google.com/group/ocaml-core/pendmsg?view=full&pending_id=1078110857324608980


For more information about this message, please visit:
http://groups.google.com/support/bin/answer.py?hl=en&answer=165806



From sebastien.mondet at gmail.com  Tue Oct 18 19:26:39 2011
From: sebastien.mondet at gmail.com (Sebastien Mondet)
Date: Tue, 18 Oct 2011 11:26:39 -0700 (PDT)
Subject: Wrong link on Jane St's page
Message-ID: <2991807.75.1318962399433.JavaMail.geo-discussion-forums@yqp37>

Hi

On the bottom left of the page:
http://ocaml.janestreet.com/?q=node/13

There is a "Documentation" link which points to some outdated 
documentations:
http://www.janestreet.com/ocaml/janestreet-ocamldocs/index.html
(03:56pm November 11, 2009, Version 0.6.0)


Also a question:
I've seen that Core.List has become Core.Core_list,
is there a plan in the future of getting rid of the packing?
(i.e. have Core_* modules at the toplevel; that would be great for the size 
of executables...)


Sebastien


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.ocaml.org/pipermail/core/attachments/20111018/fd1ebaaa/attachment.html>

From yminsky at gmail.com  Wed Oct 19 00:19:24 2011
From: yminsky at gmail.com (Yaron Minsky)
Date: Tue, 18 Oct 2011 19:19:24 -0400
Subject: Wrong link on Jane St's page
In-Reply-To: <2991807.75.1318962399433.JavaMail.geo-discussion-forums@yqp37>
References: <2991807.75.1318962399433.JavaMail.geo-discussion-forums@yqp37>
Message-ID: <CADKNfh+fpORTegMSFNzhN6SJSAqdvkxvg6rWYyM5GFASHxHSaw@mail.gmail.com>

We'll take a look at the documentation link.

As to the organization of the library, if you open Core.Std, the regular
List library is shadowed by Core's version, which is the ordinary way to use
the library.

As for executable size, ocamlpro is looking at a namespace feature for ocaml
that should make it possible to link in only the components of Core that you
actually use.  The idea would be to have a Core namespace rather than using
a packed library.

y
On Oct 18, 2011 2:26 PM, "Sebastien Mondet" <sebastien.mondet at gmail.com>
wrote:

> Hi
>
> On the bottom left of the page:
> http://ocaml.janestreet.com/?q=node/13
>
> There is a "Documentation" link which points to some outdated
> documentations:
> http://www.janestreet.com/ocaml/janestreet-ocamldocs/index.html
> (03:56pm November 11, 2009, Version 0.6.0)
>
>
> Also a question:
> I've seen that Core.List has become Core.Core_list,
> is there a plan in the future of getting rid of the packing?
> (i.e. have Core_* modules at the toplevel; that would be great for the size
> of executables...)
>
>
> Sebastien
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.ocaml.org/pipermail/core/attachments/20111018/499aaac0/attachment.html>

From ocaml-core at googlegroups.com  Fri Oct 21 04:00:14 2011
From: ocaml-core at googlegroups.com (ocaml-core at googlegroups.com)
Date: Fri, 21 Oct 2011 03:00:14 +0000
Subject: Moderator's spam report for ocaml-core@googlegroups.com
Message-ID: <0016e6d77d29b6396504afc64541@google.com>


This message is being sent to you because you are a moderator of the group ocaml-core.

The following suspicious messages were sent to your group, but are being held in your moderation queue because they are classified as likely spam messages.

If you take no action, all the messages below will be discarded automatically as spam.

However, if you see any messages that are not spam below, you may approve them individually by going to:

http://groups.google.com/group/ocaml-core/pendmsg

Please do not mark this notification as spam; this is a service for group moderators. If you do not wish to receive these notifications in the future, you may change your preferences by going to:

http://groups.google.com/group/ocaml-core/manage_post


------- 1 of 1  -------
Subject: How are you today?....
>From: Kim Harrison <kimharrison at gmx.com>
Date: Oct 19 09:11PM +0100

-- 
Hi Dear,

How are you today hope all is OK with you as it is my great
pleasure to get in contact with you,Please i wish
you have the desire with me as to get to know each other
better.with much appreciation to read from you through my email

Approve: http://groups.google.com/group/ocaml-core/pendmsg?view=full&pending_id=383077785402044247


For more information about this message, please visit:
http://groups.google.com/support/bin/answer.py?hl=en&answer=165806



From alex.rubinsteyn at gmail.com  Sun Oct 23 07:23:44 2011
From: alex.rubinsteyn at gmail.com (Alex Rubinsteyn)
Date: Sat, 22 Oct 2011 23:23:44 -0700 (PDT)
Subject: Instructions for compiling core
In-Reply-To: <20111013142320.GY14790@janestreet.com>
References: <6842848b-6750-493f-8bad-d2a538f227b9@z19g2000vby.googlegroups.com>
 <20111011133239.GJ14790@janestreet.com>
 <4547101.993.1318474715060.JavaMail.geo-discussion-forums@vbak12>
 <CADKNfhLLy5LTeGMB=e-NfsSRpJie0bE7EwJCpiw6pE5-r-N9Dg@mail.gmail.com>
 <CADKNfh+5vmctEKM+pR8KJ4O3Z98=qZTuKJTG-pu_hoe=X-LtDg@mail.gmail.com>
 <25632447.797.1318512939656.JavaMail.geo-discussion-forums@vbac9>
 <20111013142320.GY14790@janestreet.com>
Message-ID: <26589848.1383.1319351024665.JavaMail.geo-discussion-forums@yqbl36>

Sorry for the late reply-- I second the recommendation of github. Having a 
pleasant source view and wiki in one place goes a long toward demystifying a 
library. 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.ocaml.org/pipermail/core/attachments/20111022/01d25fe2/attachment.html>

From yminsky at janestreet.com  Sun Oct 23 17:51:48 2011
From: yminsky at janestreet.com (Yaron Minsky)
Date: Sun, 23 Oct 2011 12:51:48 -0400
Subject: Instructions for compiling core
In-Reply-To: <26589848.1383.1319351024665.JavaMail.geo-discussion-forums@yqbl36>
References: <6842848b-6750-493f-8bad-d2a538f227b9@z19g2000vby.googlegroups.com>
 <20111011133239.GJ14790@janestreet.com>
 <4547101.993.1318474715060.JavaMail.geo-discussion-forums@vbak12>
 <CADKNfhLLy5LTeGMB=e-NfsSRpJie0bE7EwJCpiw6pE5-r-N9Dg@mail.gmail.com>
 <CADKNfh+5vmctEKM+pR8KJ4O3Z98=qZTuKJTG-pu_hoe=X-LtDg@mail.gmail.com>
 <25632447.797.1318512939656.JavaMail.geo-discussion-forums@vbac9>
 <20111013142320.GY14790@janestreet.com>
 <26589848.1383.1319351024665.JavaMail.geo-discussion-forums@yqbl36>
Message-ID: <20111023165148.GC10988@janestreet.com>


I've been playing with github more in the last few days, and I see the
attraction.  I still prefer hg to git, but github is itself a killer
feature for git.

Anyway, we're working on it.  We want to get a real working
bidirectional bridge, so it will take a little bit of effort to get it
up and running.

y

On 22/10/11 23:23, Alex Rubinsteyn wrote:
> Sorry for the late reply-- I second the recommendation of github. Having a 
> pleasant source view and wiki in one place goes a long toward demystifying a 
> library. 

-- 
Yaron Minsky


From yminsky at gmail.com  Wed Oct 26 00:43:57 2011
From: yminsky at gmail.com (Yaron Minsky)
Date: Tue, 25 Oct 2011 19:43:57 -0400
Subject: Async
Message-ID: <CADKNfhLGiLOrO-o6HLku=2hC4a0pv2i1uq9M4Jm8QRZJ=ajCSg@mail.gmail.com>

We just announced the first public release of Async, our monadic concurrency
library.  You can read more about it here:

   http://bit.ly/sL3chB

Async is supposed to fit well with the rest of the Core suite, but it's not
required in order to use them.

It's worth noting that this is still an early release, and portability
issues in particular are not yet well worked out.

y
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.ocaml.org/pipermail/core/attachments/20111025/51eedb91/attachment.html>

From yminsky at janestreet.com  Wed Oct 26 13:50:47 2011
From: yminsky at janestreet.com (Yaron Minsky)
Date: Wed, 26 Oct 2011 08:50:47 -0400
Subject: suggestion: license via the bsd library
In-Reply-To: <1431844285.21618.1319626978434.JavaMail.root@z-mbox-02.simnet.is>
References: <1431844285.21618.1319626978434.JavaMail.root@z-mbox-02.simnet.is>
Message-ID: <20111026125047.GC27272@janestreet.com>


CC'ing ocaml-core.

On 26/10/11 11:02, bergur at r2.is wrote:
> Hi,
> 
> Just like to throw my vote on using the BSD license when releasing
> open source software.  The fact that you need an exception to the
> LGPL pretty much proves that the license isn?t really free; you do
> not need any such exceptions for the BSD license (or its
> equivalents).
> 
> I know this is a religion, but many modern projects like node.js are
> BSD licensed.  If you are a commercial entity you often do not want
> to touch any GPL-like software.  And yes, you can fork off private
> changes, but I believe in the long term BSD will always win.

We don't care a lot about licensing issues.  We chose LGPL+exception
because that's how most OCaml libaries are licensed, starting with
INRIA's standard library, and we didn't want to increase the diversity
of licenses.

That said, there's been some other requests for switching to BSD, and
we may do that.  But first I want to focus on getting our code
exported to github!

y

-- 
Yaron Minsky


From brandon at twitter.com  Wed Oct 26 18:37:03 2011
From: brandon at twitter.com (Brandon Mitchell)
Date: Wed, 26 Oct 2011 10:37:03 -0700 (PDT)
Subject: Is core compilable on FreeBSD?
In-Reply-To: <3441b417-23da-46f6-adc1-89d5f20052d6@p11g2000yqe.googlegroups.com>
References: <aa0160b9-0cc0-4810-ac50-e85d1019a472@i28g2000yqn.googlegroups.com>
 <CADKNfh+fxq=pxVJEE0es7WMvYXheSXj8NL6fTgpr0O8Nmz_PWQ@mail.gmail.com>
 <f33bfa0a-819b-4842-b740-a0c8e4d659ae@t11g2000yqk.googlegroups.com>
 <15fd00cb-b38d-4e48-9c2f-ed7bf6bf4263@f6g2000vbm.googlegroups.com>
 <83467c57-438c-4e2b-a87a-ef33166a94f1@h10g2000yqd.googlegroups.com> <3441b417-23da-46f6-adc1-89d5f20052d6@p11g2000yqe.googlegroups.com>
Message-ID: <9355f230-136d-4287-85b1-a16cda25fc1e@s32g2000prj.googlegroups.com>


I did the following to compile core on FreeBSD 8.2-RELEASE:

* for the ifru_addr issue:
#if defined(__FreeBSD__)
#   include <sys/socket.h>
#endif

* for stat support:
#if defined(__FreeBSD__)
#   define stat64 stat
#   define lstat64 lstat
#   define fstat64 fstat64
    typedef struct stat stat_wrapper_t
#else
    typedef struct stat64 stat_wrapper_t
#endif

Change all "struct stat" in unix_stubs.c to "stat_wrapper_t"

* for clock cputime support:
#if defined(CLOCK_PROCESS_CPUTIME_ID) && defined(__linux__)
#   define CLOCK CLOCK_PROCESS_CPUTIME_ID
#elif defined(CLOCK_PROF) && defined(__FreeBSD__)
#   define CLOCK CLOCK_PROF
#else
#   define CLOCK CLOCK_REALTIME
#endif

Change the CLOCK_PROCESS_CPUTIME_ID to CLOCK

* Change #warn to #warning

On Oct 11, 2:10?am, Dmitry Astapov <dasta... at gmail.com> wrote:
> So, after all those changes, what is the final list of errors that
> still need fixing?
>
> On Oct 10, 1:26?pm, Kakadu <kakadu.hafan... at gmail.com> wrote:
>
>
>
>
>
>
>
> > New info from my friend:
> > We should add #include <sys/socket.h> to fix problem with ifru_addr
>
> > On Oct 10, 11:07?am, Dmitry Astapov <dasta... at gmail.com> wrote:
>
> > > There is obviously some extra include needed to make 'ifru_addr' error
> > > go away, but I have no idea which one. However, a 'grep -r' for
> > > ifru_addr in /usr/include might give some hints.


From brandon at twitter.com  Wed Oct 26 18:49:16 2011
From: brandon at twitter.com (Brandon Mitchell)
Date: Wed, 26 Oct 2011 10:49:16 -0700
Subject: Is core compilable on FreeBSD?
In-Reply-To: <9355f230-136d-4287-85b1-a16cda25fc1e@s32g2000prj.googlegroups.com>
References: <aa0160b9-0cc0-4810-ac50-e85d1019a472@i28g2000yqn.googlegroups.com>
	<CADKNfh+fxq=pxVJEE0es7WMvYXheSXj8NL6fTgpr0O8Nmz_PWQ@mail.gmail.com>
	<f33bfa0a-819b-4842-b740-a0c8e4d659ae@t11g2000yqk.googlegroups.com>
	<15fd00cb-b38d-4e48-9c2f-ed7bf6bf4263@f6g2000vbm.googlegroups.com>
	<83467c57-438c-4e2b-a87a-ef33166a94f1@h10g2000yqd.googlegroups.com>
	<3441b417-23da-46f6-adc1-89d5f20052d6@p11g2000yqe.googlegroups.com>
	<9355f230-136d-4287-85b1-a16cda25fc1e@s32g2000prj.googlegroups.com>
Message-ID: <CAAnWq9Ds1Bq3N7_sKr1ByV_WuTzw4M3m+vLZ=tAZr1Fg79ZLtQ@mail.gmail.com>


On Wed, Oct 26, 2011 at 10:37 AM, Brandon Mitchell <brandon at twitter.com> wrote:
> # ? define fstat64 fstat64

Typo. This should be #define fstat64 fstat. Blush.


From yminsky at gmail.com  Wed Oct 26 18:47:57 2011
From: yminsky at gmail.com (Yaron Minsky)
Date: Wed, 26 Oct 2011 13:47:57 -0400
Subject: ocaml-core - Google Groups: Message Pending [{ILPHlJuwh9ObAyoCeWIwAKGtM7hYlQFA0}]
In-Reply-To: <pending-9355f230-136d-4287-85b1-a16cda25fc1e@s32g2000prj.googlegroups.com>
References: <pending-9355f230-136d-4287-85b1-a16cda25fc1e@s32g2000prj.googlegroups.com>
Message-ID: <CADKNfhLoYSPYMnwV_TXA7mQoW0e3F5Gq+dEyAV73LOxhdO6vsQ@mail.gmail.com>

On Oct 26, 2011 1:37 PM, "ocaml-core" <ocaml-core+msgappr at googlegroups.com>
wrote:

>   A message has been sent to the ocaml-core<http://groups.google.com/group/ocaml-core?hl=en_US>group and is awaiting approval. We've included this message for your review.
>
> The message requires moderation because the user does not have permission
> to post.
>
> You can approve or reject<http://groups.google.com/group/ocaml-core/pendmsg?hl=en_US>this message or you can approve this message by replying to this email.
>  [image: Visit Google Groups]
>
> Start <https://groups.google.com/groups/create?hl=en_US&src=email> your
> own group, visit <http://groups.google.com/support/?hl=en_US&src=email>the help center, or
> report <https://groups.google.com/groups/abuse?hl=en_US&src=email> abuse.
>
>
> ---------- Forwarded message ----------
> From: Brandon Mitchell <brandon at twitter.com>
> To: ocaml-core <ocaml-core at googlegroups.com>
> Date: Wed, 26 Oct 2011 10:37:03 -0700 (PDT)
> Subject: Re: Is core compilable on FreeBSD?
> I did the following to compile core on FreeBSD 8.2-RELEASE:
>
> * for the ifru_addr issue:
> #if defined(__FreeBSD__)
> #   include <sys/socket.h>
> #endif
>
> * for stat support:
> #if defined(__FreeBSD__)
> #   define stat64 stat
> #   define lstat64 lstat
> #   define fstat64 fstat64
>    typedef struct stat stat_wrapper_t
> #else
>    typedef struct stat64 stat_wrapper_t
> #endif
>
> Change all "struct stat" in unix_stubs.c to "stat_wrapper_t"
>
> * for clock cputime support:
> #if defined(CLOCK_PROCESS_CPUTIME_ID) && defined(__linux__)
> #   define CLOCK CLOCK_PROCESS_CPUTIME_ID
> #elif defined(CLOCK_PROF) && defined(__FreeBSD__)
> #   define CLOCK CLOCK_PROF
> #else
> #   define CLOCK CLOCK_REALTIME
> #endif
>
> Change the CLOCK_PROCESS_CPUTIME_ID to CLOCK
>
> * Change #warn to #warning
>
> On Oct 11, 2:10 am, Dmitry Astapov <dasta... at gmail.com> wrote:
> > So, after all those changes, what is the final list of errors that
> > still need fixing?
> >
> > On Oct 10, 1:26 pm, Kakadu <kakadu.hafan... at gmail.com> wrote:
> >
> >
> >
> >
> >
> >
> >
> > > New info from my friend:
> > > We should add #include <sys/socket.h> to fix problem with ifru_addr
> >
> > > On Oct 10, 11:07 am, Dmitry Astapov <dasta... at gmail.com> wrote:
> >
> > > > There is obviously some extra include needed to make 'ifru_addr'
> error
> > > > go away, but I have no idea which one. However, a 'grep -r' for
> > > > ifru_addr in /usr/include might give some hints.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.ocaml.org/pipermail/core/attachments/20111026/5021eb9c/attachment.html>

From agarwal1975 at gmail.com  Wed Oct 26 20:19:46 2011
From: agarwal1975 at gmail.com (Ashish Agarwal)
Date: Wed, 26 Oct 2011 15:19:46 -0400
Subject: IntMap and StringMap
Message-ID: <CAMu2m2KRtNeJXPvO3yDU3SVDkeS5Z8BTf=W1W1=TEH-vCF_SCQ@mail.gmail.com>

Does core have common instances of functor applications available, e.g. is
there an IntMap and StringMap?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.ocaml.org/pipermail/core/attachments/20111026/b1ab121f/attachment.html>

From yminsky at gmail.com  Wed Oct 26 21:04:07 2011
From: yminsky at gmail.com (Yaron Minsky)
Date: Wed, 26 Oct 2011 16:04:07 -0400
Subject: IntMap and StringMap
In-Reply-To: <CAMu2m2KRtNeJXPvO3yDU3SVDkeS5Z8BTf=W1W1=TEH-vCF_SCQ@mail.gmail.com>
References: <CAMu2m2KRtNeJXPvO3yDU3SVDkeS5Z8BTf=W1W1=TEH-vCF_SCQ@mail.gmail.com>
Message-ID: <CADKNfhLwqcmjYRcXDeeV2Ry3qriSmin4RN56U6p7sDJvHiSQnQ@mail.gmail.com>

Indeed it does:  Into.Map, for example.  It's part of the comparable
interface.
On Oct 26, 2011 3:20 PM, "Ashish Agarwal" <agarwal1975 at gmail.com> wrote:

> Does core have common instances of functor applications available, e.g. is
> there an IntMap and StringMap?
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.ocaml.org/pipermail/core/attachments/20111026/88bc9903/attachment.html>

From yminsky at janestreet.com  Wed Oct 26 21:46:03 2011
From: yminsky at janestreet.com (Yaron Minsky)
Date: Wed, 26 Oct 2011 16:46:03 -0400
Subject: Is core compilable on FreeBSD?
In-Reply-To: <CAAnWq9Ds1Bq3N7_sKr1ByV_WuTzw4M3m+vLZ=tAZr1Fg79ZLtQ@mail.gmail.com>
References: <aa0160b9-0cc0-4810-ac50-e85d1019a472@i28g2000yqn.googlegroups.com>
 <CADKNfh+fxq=pxVJEE0es7WMvYXheSXj8NL6fTgpr0O8Nmz_PWQ@mail.gmail.com>
 <f33bfa0a-819b-4842-b740-a0c8e4d659ae@t11g2000yqk.googlegroups.com>
 <15fd00cb-b38d-4e48-9c2f-ed7bf6bf4263@f6g2000vbm.googlegroups.com>
 <83467c57-438c-4e2b-a87a-ef33166a94f1@h10g2000yqd.googlegroups.com>
 <3441b417-23da-46f6-adc1-89d5f20052d6@p11g2000yqe.googlegroups.com>
 <9355f230-136d-4287-85b1-a16cda25fc1e@s32g2000prj.googlegroups.com>
 <CAAnWq9Ds1Bq3N7_sKr1ByV_WuTzw4M3m+vLZ=tAZr1Fg79ZLtQ@mail.gmail.com>
Message-ID: <20111026204603.GX27272@janestreet.com>


Sounds like a few people are working on patches for FreeBSD.  We have
one here, Anil Madhavapeddy is working on one, and now yours.

We'll post our patch here.  Hopefully we can get this sorted in a new
release once we have the github repos up.

y

On 26/10/11 10:49, Brandon Mitchell wrote:
> On Wed, Oct 26, 2011 at 10:37 AM, Brandon Mitchell <brandon at twitter.com> wrote:
> > # ? define fstat64 fstat64
> 
> Typo. This should be #define fstat64 fstat. Blush.

-- 
Yaron Minsky


From brandon at twitter.com  Thu Oct 27 01:09:28 2011
From: brandon at twitter.com (Brandon Mitchell)
Date: Wed, 26 Oct 2011 17:09:28 -0700
Subject: Is core compilable on FreeBSD?
In-Reply-To: <449539E3-1CE9-4325-8BFE-FCA2F787A8D6@recoil.org>
References: <aa0160b9-0cc0-4810-ac50-e85d1019a472@i28g2000yqn.googlegroups.com>
	<CADKNfh+fxq=pxVJEE0es7WMvYXheSXj8NL6fTgpr0O8Nmz_PWQ@mail.gmail.com>
	<f33bfa0a-819b-4842-b740-a0c8e4d659ae@t11g2000yqk.googlegroups.com>
	<15fd00cb-b38d-4e48-9c2f-ed7bf6bf4263@f6g2000vbm.googlegroups.com>
	<83467c57-438c-4e2b-a87a-ef33166a94f1@h10g2000yqd.googlegroups.com>
	<3441b417-23da-46f6-adc1-89d5f20052d6@p11g2000yqe.googlegroups.com>
	<9355f230-136d-4287-85b1-a16cda25fc1e@s32g2000prj.googlegroups.com>
	<CAAnWq9Ds1Bq3N7_sKr1ByV_WuTzw4M3m+vLZ=tAZr1Fg79ZLtQ@mail.gmail.com>
	<20111026204603.GX27272@janestreet.com>
	<449539E3-1CE9-4325-8BFE-FCA2F787A8D6@recoil.org>
Message-ID: <CAAnWq9CE2G5rAwc7jaAemyG=9Z=Lr0Wc_P+Wh54vHkVPtGpAaA@mail.gmail.com>


On Wed, Oct 26, 2011 at 4:12 PM, Anil Madhavapeddy <anil at recoil.org> wrote:
> I've been porting Core and its dependent libraries to OpenBSD, not FreeBSD (many, but not all, of the fixes will be relevant though).
> https://github.com/avsm/openbsd-ports/compare/124e9160d9...2bbe16f108

I can contribute FreeBSD support; I'm not sure who maintains the ports
though. I build and test on both FreeBSD and Ubuntu, but I suspect the
latter to be plenty will supported by other users. Obviously, upstream
contributions will become much easier when Core, et al. are available
on GitHub... *cough* ;-)


From ocaml-core+msgappr at googlegroups.com  Wed Oct 26 18:37:03 2011
From: ocaml-core+msgappr at googlegroups.com (ocaml-core)
Date: Wed, 26 Oct 2011 17:37:03 +0000
Subject: ocaml-core - Google Groups: Message Pending [{ILPHlJuwh9ObAyoCeWIwAKGtM7hYlQFA0}]
Message-ID: <pending-9355f230-136d-4287-85b1-a16cda25fc1e@s32g2000prj.googlegroups.com>


A message has been sent to the ocaml-core group and is awaiting approval. We've included this message for your review.

The message requires moderation because the user does not have permission to post.

You can approve or reject this message online at:
http://groups.google.com/group/ocaml-core/pendmsg?hl=en_US

or

You can approve this message by replying to this email.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.ocaml.org/pipermail/core/attachments/20111026/0d556842/attachment.html>
-------------- next part --------------
An embedded message was scrubbed...
From: unknown sender
Subject: Re: Is core compilable on FreeBSD?
Date: Wed, 26 Oct 2011 10:37:03 -0700 (PDT)
Size: 2809
URL: <http://lists.ocaml.org/pipermail/core/attachments/20111026/0d556842/attachment.mht>

From yminsky at gmail.com  Thu Oct 27 00:34:52 2011
From: yminsky at gmail.com (Yaron Minsky)
Date: Wed, 26 Oct 2011 19:34:52 -0400
Subject: Is core compilable on FreeBSD?
In-Reply-To: <449539E3-1CE9-4325-8BFE-FCA2F787A8D6@recoil.org>
References: <aa0160b9-0cc0-4810-ac50-e85d1019a472@i28g2000yqn.googlegroups.com>
	<CADKNfh+fxq=pxVJEE0es7WMvYXheSXj8NL6fTgpr0O8Nmz_PWQ@mail.gmail.com>
	<f33bfa0a-819b-4842-b740-a0c8e4d659ae@t11g2000yqk.googlegroups.com>
	<15fd00cb-b38d-4e48-9c2f-ed7bf6bf4263@f6g2000vbm.googlegroups.com>
	<83467c57-438c-4e2b-a87a-ef33166a94f1@h10g2000yqd.googlegroups.com>
	<3441b417-23da-46f6-adc1-89d5f20052d6@p11g2000yqe.googlegroups.com>
	<9355f230-136d-4287-85b1-a16cda25fc1e@s32g2000prj.googlegroups.com>
	<CAAnWq9Ds1Bq3N7_sKr1ByV_WuTzw4M3m+vLZ=tAZr1Fg79ZLtQ@mail.gmail.com>
	<20111026204603.GX27272@janestreet.com>
	<449539E3-1CE9-4325-8BFE-FCA2F787A8D6@recoil.org>
Message-ID: <CADKNfh+1LWkN7f4xy5Q=APtvOeH8V2KzbL6UV0bFh7=Tdy_K-A@mail.gmail.com>

Sorry.  You BSD's all look alike to me.

<ducks>

As for bin-prot, there are a number of portability fixes that came from
Debian that Markus Mottl has included in his version of bin-prot.  We'll
need to merge all this stuff together (on github) soon.

y

On Wed, Oct 26, 2011 at 7:12 PM, Anil Madhavapeddy <anil at recoil.org> wrote:

> I've been porting Core and its dependent libraries to OpenBSD, not FreeBSD
> (many, but not all, of the fixes will be relevant though).
> https://github.com/avsm/openbsd-ports/compare/124e9160d9...2bbe16f108
>
> Only main patches so far are for bin-prot:
>
> https://github.com/avsm/openbsd-ports/compare/124e9160d9...2bbe16f108#diff-25
>
> For ocaml-core the patches are here:
> https://github.com/avsm/openbsd-ports/tree/master/devel/ocaml-core/patches
>
> The discover.sh needs to not hardcode bash.
> unix_stubs.c is pretty big. In particular, the tests currently fail at
> start of day due to one of the Linux-specific sysconf calls failing.
>
> I'll take a look in more detail later this week...
>
> Anil
>
> On 26 Oct 2011, at 21:46, Yaron Minsky wrote:
>
> > Sounds like a few people are working on patches for FreeBSD.  We have
> > one here, Anil Madhavapeddy is working on one, and now yours.
> >
> > We'll post our patch here.  Hopefully we can get this sorted in a new
> > release once we have the github repos up.
> >
> > y
> >
> > On 26/10/11 10:49, Brandon Mitchell wrote:
> >> On Wed, Oct 26, 2011 at 10:37 AM, Brandon Mitchell <brandon at twitter.com>
> wrote:
> >>> #   define fstat64 fstat64
> >>
> >> Typo. This should be #define fstat64 fstat. Blush.
> >
> > --
> > Yaron Minsky
> >
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.ocaml.org/pipermail/core/attachments/20111026/335c8cc3/attachment.html>

From anil at recoil.org  Thu Oct 27 00:12:15 2011
From: anil at recoil.org (Anil Madhavapeddy)
Date: Thu, 27 Oct 2011 00:12:15 +0100
Subject: Is core compilable on FreeBSD?
In-Reply-To: <20111026204603.GX27272@janestreet.com>
References: <aa0160b9-0cc0-4810-ac50-e85d1019a472@i28g2000yqn.googlegroups.com> <CADKNfh+fxq=pxVJEE0es7WMvYXheSXj8NL6fTgpr0O8Nmz_PWQ@mail.gmail.com> <f33bfa0a-819b-4842-b740-a0c8e4d659ae@t11g2000yqk.googlegroups.com> <15fd00cb-b38d-4e48-9c2f-ed7bf6bf4263@f6g2000vbm.googlegroups.com> <83467c57-438c-4e2b-a87a-ef33166a94f1@h10g2000yqd.googlegroups.com> <3441b417-23da-46f6-adc1-89d5f20052d6@p11g2000yqe.googlegroups.com> <9355f230-136d-4287-85b1-a16cda25fc1e@s32g2000prj.googlegroups.com> <CAAnWq9Ds1Bq3N7_sKr1ByV_WuTzw4M3m+vLZ=tAZr1Fg79ZLtQ@mail.gmail.com> <20111026204603.GX27272@janestreet.com>
Message-ID: <449539E3-1CE9-4325-8BFE-FCA2F787A8D6@recoil.org>


I've been porting Core and its dependent libraries to OpenBSD, not FreeBSD (many, but not all, of the fixes will be relevant though).
https://github.com/avsm/openbsd-ports/compare/124e9160d9...2bbe16f108

Only main patches so far are for bin-prot:
https://github.com/avsm/openbsd-ports/compare/124e9160d9...2bbe16f108#diff-25

For ocaml-core the patches are here:
https://github.com/avsm/openbsd-ports/tree/master/devel/ocaml-core/patches

The discover.sh needs to not hardcode bash.
unix_stubs.c is pretty big. In particular, the tests currently fail at start of day due to one of the Linux-specific sysconf calls failing.

I'll take a look in more detail later this week...

Anil

On 26 Oct 2011, at 21:46, Yaron Minsky wrote:

> Sounds like a few people are working on patches for FreeBSD.  We have
> one here, Anil Madhavapeddy is working on one, and now yours.
> 
> We'll post our patch here.  Hopefully we can get this sorted in a new
> release once we have the github repos up.
> 
> y
> 
> On 26/10/11 10:49, Brandon Mitchell wrote:
>> On Wed, Oct 26, 2011 at 10:37 AM, Brandon Mitchell <brandon at twitter.com> wrote:
>>> #   define fstat64 fstat64
>> 
>> Typo. This should be #define fstat64 fstat. Blush.
> 
> -- 
> Yaron Minsky
> 



From kakadu.hafanana at gmail.com  Thu Oct 27 08:42:14 2011
From: kakadu.hafanana at gmail.com (Kakadu)
Date: Thu, 27 Oct 2011 00:42:14 -0700 (PDT)
Subject: Welcome!
In-Reply-To: <20111004134043.GT17629@janestreet.com>
References: <20111004134043.GT17629@janestreet.com>
Message-ID: <cdecfa9e-0cf9-4cb4-9ccc-12cc725fe05a@g1g2000vbd.googlegroups.com>


Hi, Yaron!

In your "OCaml to the masses" you've mentioned that about 65 coders
are using OCaml in JS. I think that the community doesn't know many of
them. Are they creating some opensource libraries? Are you going to
meet the most active employees with community?

P.S. sorry, I have some problems with formulating English sentences
this morning.. TT

-------------------
Kakadu


From yminsky at gmail.com  Fri Oct 28 01:10:25 2011
From: yminsky at gmail.com (Yaron Minsky)
Date: Thu, 27 Oct 2011 20:10:25 -0400
Subject: Welcome!
In-Reply-To: <cdecfa9e-0cf9-4cb4-9ccc-12cc725fe05a@g1g2000vbd.googlegroups.com>
References: <20111004134043.GT17629@janestreet.com>
	<cdecfa9e-0cf9-4cb4-9ccc-12cc725fe05a@g1g2000vbd.googlegroups.com>
Message-ID: <CADKNfhKagnwNn4DcdYYV1Y7MAG972Kf7yq_GYh+5Y+AaPo1W=A@mail.gmail.com>

I'm really not lying about the OCaml programmers!  But they're surprisingly
email-shy.  I actually sent an internal email encouraging people to
participate more.

But there really is a big group of us here, and there's a lot of interest in
contributing to the open-sourcing effort  Indeed, now that we've released
Async, there are a bunch of other projects we're thinking of releasing.  We
were just talking about releasing Selket, which is our homegrown replacement
for Nagios.  (Nagios is a popular monitoring system that we used for many
years, and eventually wrote a replacement for.)

y

On Thu, Oct 27, 2011 at 3:42 AM, Kakadu <kakadu.hafanana at gmail.com> wrote:

> Hi, Yaron!
>
> In your "OCaml to the masses" you've mentioned that about 65 coders
> are using OCaml in JS. I think that the community doesn't know many of
> them. Are they creating some opensource libraries? Are you going to
> meet the most active employees with community?
>
> P.S. sorry, I have some problems with formulating English sentences
> this morning.. TT
>
> -------------------
> Kakadu
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.ocaml.org/pipermail/core/attachments/20111027/eee35152/attachment.html>

From thelema314 at gmail.com  Fri Oct 28 01:28:16 2011
From: thelema314 at gmail.com (Edgar Friendly)
Date: Thu, 27 Oct 2011 20:28:16 -0400
Subject: Welcome!
In-Reply-To: <CADKNfhKagnwNn4DcdYYV1Y7MAG972Kf7yq_GYh+5Y+AaPo1W=A@mail.gmail.com>
References: <20111004134043.GT17629@janestreet.com>	<cdecfa9e-0cf9-4cb4-9ccc-12cc725fe05a@g1g2000vbd.googlegroups.com> <CADKNfhKagnwNn4DcdYYV1Y7MAG972Kf7yq_GYh+5Y+AaPo1W=A@mail.gmail.com>
Message-ID: <4EA9F720.3050507@gmail.com>


On 10/27/2011 08:10 PM, Yaron Minsky wrote:
> I'm really not lying about the OCaml programmers!  But they're 
> surprisingly email-shy.  I actually sent an internal email encouraging 
> people to participate more.
>
> But there really is a big group of us here, and there's a lot of 
> interest in contributing to the open-sourcing effort  Indeed, now that 
> we've released Async, there are a bunch of other projects we're 
> thinking of releasing.  We were just talking about releasing Selket, 
> which is our homegrown replacement for Nagios.  (Nagios is a popular 
> monitoring system that we used for many years, and eventually wrote a 
> replacement for.)
>
> y
Interesting - I've recently written some code implementing Coda Hale's 
"metrics", which could use a good monitoring backend to accumulate the 
gathered statistics and present them nicely.  I look forward to seeing 
how much of my code is already implemented in your system and how much I 
can contribute.

E.


From ocaml-core at googlegroups.com  Fri Oct 28 03:32:03 2011
From: ocaml-core at googlegroups.com (ocaml-core at googlegroups.com)
Date: Fri, 28 Oct 2011 02:32:03 +0000
Subject: Moderator's spam report for ocaml-core@googlegroups.com
Message-ID: <0016e6d97124c4465104b052b16f@google.com>


This message is being sent to you because you are a moderator of the group ocaml-core.

The following suspicious messages were sent to your group, but are being held in your moderation queue because they are classified as likely spam messages.

If you take no action, all the messages below will be discarded automatically as spam.

However, if you see any messages that are not spam below, you may approve them individually by going to:

http://groups.google.com/group/ocaml-core/pendmsg

Please do not mark this notification as spam; this is a service for group moderators. If you do not wish to receive these notifications in the future, you may change your preferences by going to:

http://groups.google.com/group/ocaml-core/manage_post


------- 1 of 1  -------
Subject: Please Reply Urgently!!
>From: Family Ms <msfamilyfamily at yahoo.com.vn>
Date: Oct 26 02:48PM +0800

Please Reply Urgently!!

Dear Respected,

With Due Respect and Humanity, I was compelled to write to you under a humanitarian ground, however,this is not mandatory nor will I in any manner compel you to honour against your will.


Approve: http://groups.google.com/group/ocaml-core/pendmsg?view=full&pending_id=7211269220376830786


For more information about this message, please visit:
http://groups.google.com/support/bin/answer.py?hl=en&answer=165806



From agarwal1975 at gmail.com  Fri Oct 28 16:31:30 2011
From: agarwal1975 at gmail.com (Ashish Agarwal)
Date: Fri, 28 Oct 2011 11:31:30 -0400
Subject: Welcome!
In-Reply-To: <CADKNfhKagnwNn4DcdYYV1Y7MAG972Kf7yq_GYh+5Y+AaPo1W=A@mail.gmail.com>
References: <20111004134043.GT17629@janestreet.com> <cdecfa9e-0cf9-4cb4-9ccc-12cc725fe05a@g1g2000vbd.googlegroups.com>
 <CADKNfhKagnwNn4DcdYYV1Y7MAG972Kf7yq_GYh+5Y+AaPo1W=A@mail.gmail.com>
Message-ID: <CAMu2m2+QJ6P5Cyjen_9fKOuWycvE3ESH6caswajdWbWQiF0J_w@mail.gmail.com>

On Thu, Oct 27, 2011 at 8:10 PM, Yaron Minsky <yminsky at gmail.com> wrote:

> I'm really not lying about the OCaml programmers!  But they're surprisingly
> email-shy.  I actually sent an internal email encouraging people to
> participate more.
>

Perhaps you can encourage them all to join the new NYC OCaml Meetup group
[1]. It would be great to have some presentations from Jane St, and it might
even help your recruiting efforts. We've got 34 members already, but 34+65 =
99 would be better!

[1] http://www.meetup.com/NYC-OCaml/



> We were just talking about releasing Selket, which is our homegrown
> replacement for Nagios.
>

Very exciting. I've got 3 HPC clusters here that I could use this on.




> On Thu, Oct 27, 2011 at 3:42 AM, Kakadu <kakadu.hafanana at gmail.com> wrote:
>
>> Hi, Yaron!
>>
>> In your "OCaml to the masses" you've mentioned that about 65 coders
>> are using OCaml in JS. I think that the community doesn't know many of
>> them. Are they creating some opensource libraries? Are you going to
>> meet the most active employees with community?
>>
>> P.S. sorry, I have some problems with formulating English sentences
>> this morning.. TT
>>
>> -------------------
>> Kakadu
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.ocaml.org/pipermail/core/attachments/20111028/2b85935f/attachment.html>

From yminsky at janestreet.com  Mon Oct 31 14:25:40 2011
From: yminsky at janestreet.com (Yaron Minsky)
Date: Mon, 31 Oct 2011 10:25:40 -0400
Subject: Making Async play better with others
Message-ID: <20111031142540.GZ26614@janestreet.com>


I'm wondering if anyone has opinions on what we should do to make
Async more widely applicable.  Here are some issues that jump to mind.

- Porting to windows.  People have proposed using libuv to do that.
- Porting to non-Linux UNIX's: Right now, we depend on Core's
  Linux_ext module.  I think the dependency is not deep, so
  conditional compilation might be a way to fix that.
- Support for other polling mechanisms: like epoll and friends.  Right
  now, it's all select.  A pluggable engine mechanism like the one Lwt
  has could make sense here.
- Interoperability with Lwt:  It would be nice to make Async and Lwt
  libraries play together.  Jeremie Dimino suggested that the best
  thing here might be to build a library for Lwt on top of Async.
  That seems plausible enough, but an engine in the other direction
  might be good too.

I'm curious if people have opinions as to how to best handle these.
I'm in particular wondering about conditional compilation as a
solution.  It seems messy, but I'm not sure what would be a better
approach.  One thing you could imagine is using first-class modules,
where you stored a system-dependent module that provided the
OS-specific functionality.  But there's some performance compromise
there (probably too small to matter compared to a system-call,
though), and I'm not sure it comes out cleaner.

y

--
Yaron Minsky


From yminsky at janestreet.com  Mon Oct 31 15:06:40 2011
From: yminsky at janestreet.com (Yaron Minsky)
Date: Mon, 31 Oct 2011 11:06:40 -0400
Subject: Making Async play better with others
In-Reply-To: <3DDCF997-C2CC-4D68-B7CA-AD810B8BF21D@recoil.org>
References: <20111031142540.GZ26614@janestreet.com>
 <3DDCF997-C2CC-4D68-B7CA-AD810B8BF21D@recoil.org>
Message-ID: <20111031150640.GF26614@janestreet.com>


On 31/10/11 14:29, Anil Madhavapeddy wrote:
> You could combine most of these by basing Async on top of libuv,
> which is a superset of libev (the event library that Lwt uses to
> abstract network I/O).
> 
> https://github.com/joyent/libuv
> 
> Crucially, libuv has good support for the Windows AIO model, and is
> also what node.js uses to drive its event loop (so has widespread
> usage).
> 
> At first glance at Core, it looks like many of the Linux-specific
> bits like high-res timers and thread scheduling are also covered by
> it.

How much do you know about the performance and quality of libuv?  I'm
always nervous about shimming yet another layer between us and the
bare metal.

y

> Anil
> 
> On 31 Oct 2011, at 14:25, Yaron Minsky wrote:
> 
> > I'm wondering if anyone has opinions on what we should do to make
> > Async more widely applicable.  Here are some issues that jump to mind.
> > 
> > - Porting to windows.  People have proposed using libuv to do that.
> > - Porting to non-Linux UNIX's: Right now, we depend on Core's
> >  Linux_ext module.  I think the dependency is not deep, so
> >  conditional compilation might be a way to fix that.
> > - Support for other polling mechanisms: like epoll and friends.  Right
> >  now, it's all select.  A pluggable engine mechanism like the one Lwt
> >  has could make sense here.
> > - Interoperability with Lwt:  It would be nice to make Async and Lwt
> >  libraries play together.  Jeremie Dimino suggested that the best
> >  thing here might be to build a library for Lwt on top of Async.
> >  That seems plausible enough, but an engine in the other direction
> >  might be good too.
> > 
> > I'm curious if people have opinions as to how to best handle these.
> > I'm in particular wondering about conditional compilation as a
> > solution.  It seems messy, but I'm not sure what would be a better
> > approach.  One thing you could imagine is using first-class modules,
> > where you stored a system-dependent module that provided the
> > OS-specific functionality.  But there's some performance compromise
> > there (probably too small to matter compared to a system-call,
> > though), and I'm not sure it comes out cleaner.
> > 
> > y
> > 
> > --
> > Yaron Minsky
> > 
> 

-- 
Yaron Minsky


From nlinger at janestreet.com  Mon Oct 31 17:45:35 2011
From: nlinger at janestreet.com (Nathan Linger)
Date: Mon, 31 Oct 2011 13:45:35 -0400
Subject: Making Async play better with others
In-Reply-To: <40CAC937-937D-499A-A84F-976B8FBDC5D6@recoil.org>
References: <20111031142540.GZ26614@janestreet.com>
 <3DDCF997-C2CC-4D68-B7CA-AD810B8BF21D@recoil.org>
 <20111031150640.GF26614@janestreet.com>
 <40CAC937-937D-499A-A84F-976B8FBDC5D6@recoil.org>
Message-ID: <20111031174535.GM25160@janestreet.com>



On 10/31/11 16:37, Anil Madhavapeddy wrote:
> On 31 Oct 2011, at 15:06, Yaron Minsky wrote:
> 
> > On 31/10/11 14:29, Anil Madhavapeddy wrote:
> >> You could combine most of these by basing Async on top of libuv,
> >> which is a superset of libev (the event library that Lwt uses to
> >> abstract network I/O).
> >> 
> >> https://github.com/joyent/libuv
> >> 
> >> Crucially, libuv has good support for the Windows AIO model, and is
> >> also what node.js uses to drive its event loop (so has widespread
> >> usage).
> >> 
> >> At first glance at Core, it looks like many of the Linux-specific
> >> bits like high-res timers and thread scheduling are also covered by
> >> it.
> > 
> > How much do you know about the performance and quality of libuv?  I'm
> > always nervous about shimming yet another layer between us and the
> > bare metal.
> 
> Nothing beyond flicking through the source code and occasionally being
> cursed with using node.js (which works pretty well until you get to
> the Javascript level :)
> 
> It's pretty much the only game in town when it comes to cross-platform
> C-based asynchronous programming libraries however (as far as I know).

Isn't libevent[1] the same sort of thing?  I believe it is the C-based
asynchronous programming library underlying memcached[2], which in turn
is used by several high-profile web applications -- their website lists
Wikipedia, WordPress.com, Flickr, Twitter, Typepad, Youtube, LiveJournal,
Digg, Craigslist, and a handful of others I didn't recognize.

I dusted off the ocaml bindings for libevent[3] at home last year and
found them pretty usable for the small experiments I did (implementing a
monadic interface for CML-style concurrent programming).  Their website[1]
claims "Libevent should compile on Linux, *BSD, Mac OS X, Solaris,
Windows, and more."

[1] http://libevent.org/
[2] http://www.memcached.org/
[3] http://mmzeeman.home.xs4all.nl/ocaml/



From anil at recoil.org  Mon Oct 31 14:29:46 2011
From: anil at recoil.org (Anil Madhavapeddy)
Date: Mon, 31 Oct 2011 14:29:46 +0000
Subject: Making Async play better with others
In-Reply-To: <20111031142540.GZ26614@janestreet.com>
References: <20111031142540.GZ26614@janestreet.com>
Message-ID: <3DDCF997-C2CC-4D68-B7CA-AD810B8BF21D@recoil.org>


You could combine most of these by basing Async on top of libuv, which is a superset of libev (the event library that Lwt uses to abstract network I/O).

https://github.com/joyent/libuv

Crucially, libuv has good support for the Windows AIO model, and is also what node.js uses to drive its event loop (so has widespread usage).

At first glance at Core, it looks like many of the Linux-specific bits like high-res timers and thread scheduling are also covered by it.

Anil

On 31 Oct 2011, at 14:25, Yaron Minsky wrote:

> I'm wondering if anyone has opinions on what we should do to make
> Async more widely applicable.  Here are some issues that jump to mind.
> 
> - Porting to windows.  People have proposed using libuv to do that.
> - Porting to non-Linux UNIX's: Right now, we depend on Core's
>  Linux_ext module.  I think the dependency is not deep, so
>  conditional compilation might be a way to fix that.
> - Support for other polling mechanisms: like epoll and friends.  Right
>  now, it's all select.  A pluggable engine mechanism like the one Lwt
>  has could make sense here.
> - Interoperability with Lwt:  It would be nice to make Async and Lwt
>  libraries play together.  Jeremie Dimino suggested that the best
>  thing here might be to build a library for Lwt on top of Async.
>  That seems plausible enough, but an engine in the other direction
>  might be good too.
> 
> I'm curious if people have opinions as to how to best handle these.
> I'm in particular wondering about conditional compilation as a
> solution.  It seems messy, but I'm not sure what would be a better
> approach.  One thing you could imagine is using first-class modules,
> where you stored a system-dependent module that provided the
> OS-specific functionality.  But there's some performance compromise
> there (probably too small to matter compared to a system-call,
> though), and I'm not sure it comes out cleaner.
> 
> y
> 
> --
> Yaron Minsky
> 



From anil at recoil.org  Mon Oct 31 16:37:30 2011
From: anil at recoil.org (Anil Madhavapeddy)
Date: Mon, 31 Oct 2011 16:37:30 +0000
Subject: Making Async play better with others
In-Reply-To: <20111031150640.GF26614@janestreet.com>
References: <20111031142540.GZ26614@janestreet.com> <3DDCF997-C2CC-4D68-B7CA-AD810B8BF21D@recoil.org> <20111031150640.GF26614@janestreet.com>
Message-ID: <40CAC937-937D-499A-A84F-976B8FBDC5D6@recoil.org>


On 31 Oct 2011, at 15:06, Yaron Minsky wrote:

> On 31/10/11 14:29, Anil Madhavapeddy wrote:
>> You could combine most of these by basing Async on top of libuv,
>> which is a superset of libev (the event library that Lwt uses to
>> abstract network I/O).
>> 
>> https://github.com/joyent/libuv
>> 
>> Crucially, libuv has good support for the Windows AIO model, and is
>> also what node.js uses to drive its event loop (so has widespread
>> usage).
>> 
>> At first glance at Core, it looks like many of the Linux-specific
>> bits like high-res timers and thread scheduling are also covered by
>> it.
> 
> How much do you know about the performance and quality of libuv?  I'm
> always nervous about shimming yet another layer between us and the
> bare metal.

Nothing beyond flicking through the source code and occasionally being cursed with using node.js (which works pretty well until you get to the Javascript level :)

It's pretty much the only game in town when it comes to cross-platform C-based asynchronous programming libraries however (as far as I know).

Anil

From ocaml-core+msgappr at googlegroups.com  Mon Oct 31 17:45:36 2011
From: ocaml-core+msgappr at googlegroups.com (ocaml-core)
Date: Mon, 31 Oct 2011 17:45:36 +0000
Subject: ocaml-core - Google Groups: Message Pending [{IIK-oq-Cu-H1LCoCeWIwALbbsGLyV9UF0}]
Message-ID: <pending-20111031174535.GM25160@janestreet.com>


A message has been sent to the ocaml-core group and is awaiting approval. We've included this message for your review.

The message requires moderation because the user does not have permission to post.

You can approve or reject this message online at:
http://groups.google.com/group/ocaml-core/pendmsg?hl=en_US

or

You can approve this message by replying to this email.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.ocaml.org/pipermail/core/attachments/20111031/440266ba/attachment.html>
-------------- next part --------------
An embedded message was scrubbed...
From: unknown sender
Subject: Re: Making Async play better with others
Date: Mon, 31 Oct 2011 13:45:35 -0400
Size: 4464
URL: <http://lists.ocaml.org/pipermail/core/attachments/20111031/440266ba/attachment.mht>

From yminsky at janestreet.com  Tue Oct  4 14:40:43 2011
From: yminsky at janestreet.com (Yaron Minsky)
Date: Tue, 4 Oct 2011 09:40:43 -0400
Subject: Welcome!
Message-ID: <20111004134043.GT17629@janestreet.com>


This mailing list is meant for discussion of and questions about the
Core suite of libraries for OCaml, which is an alternative to INRIA's
standard library.

This will hopefully be the first step of many in terms of opening up
Core and making it a useful and effective tool for more OCaml'ers.

y

-- 
Yaron Minsky


From yminsky at gmail.com  Sat Oct  8 00:24:11 2011
From: yminsky at gmail.com (Yaron Minsky)
Date: Fri, 7 Oct 2011 16:24:11 -0700 (PDT)
Subject: Short document / tutorial on Core
In-Reply-To: <4E8F48A2.4070203@gmail.com>
References: <31717188.154.1318007947457.JavaMail.geo-discussion-forums@prdw1> <20111007182456.GX14790@janestreet.com>
 <4E8F48A2.4070203@gmail.com>
Message-ID: <31384092.147.1318029851202.JavaMail.geo-discussion-forums@yqnk41>

On Friday, October 7, 2011 2:44:50 PM UTC-4, bob wrote:
>
> I checked the source code of core for fun. It would be very useful if 
> you could explain all the
> module type signatures and the philosophy under it.
>
> for example, what's the real world use of ('a,'b) type_class .. and like 
> functor Check_S0, Check_S1
>

I'm not sure which type_class you're talking about (and really, those should 
probably be referred to as type-indexed-values, rather than typeclasses.). 
 But the Check_s0, Check_S1 have an easy-to-explain purpose.  It's for 
interfaces like Map and Hashtbl that have both monomorphic (S0) and 
polymorphic (S1) interfaces.  These Check functors are there to check that 
the polymorphic and monomorphic signatures are the same except for the 
polymorphism difference.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.ocaml.org/pipermail/core/attachments/20111007/cfb6b73d/attachment-0001.html>

From kakadu.hafanana at gmail.com  Sat Oct  8 07:45:08 2011
From: kakadu.hafanana at gmail.com (Kakadu)
Date: Fri, 7 Oct 2011 23:45:08 -0700 (PDT)
Subject: Short document / tutorial on Core
In-Reply-To: <31384092.147.1318029851202.JavaMail.geo-discussion-forums@yqnk41>
References: <31717188.154.1318007947457.JavaMail.geo-discussion-forums@prdw1>
 <20111007182456.GX14790@janestreet.com> <4E8F48A2.4070203@gmail.com> <31384092.147.1318029851202.JavaMail.geo-discussion-forums@yqnk41>
Message-ID: <74c9726c-62b7-4ac4-9ad7-6bfdeb60e55b@u13g2000vbx.googlegroups.com>


Also it is interesting to me where do you use sexplib ? As a analogue
of Marshal module or something more interesting?
I think that sexplib is a most visible difference between ocaml-core
and caml-batteries.

On Oct 8, 3:24?am, Yaron Minsky <ymin... at gmail.com> wrote:
> On Friday, October 7, 2011 2:44:50 PM UTC-4, bob wrote:
>


From yminsky at gmail.com  Sat Oct  8 12:00:40 2011
From: yminsky at gmail.com (Yaron Minsky)
Date: Sat, 8 Oct 2011 07:00:40 -0400
Subject: Short document / tutorial on Core
In-Reply-To: <74c9726c-62b7-4ac4-9ad7-6bfdeb60e55b@u13g2000vbx.googlegroups.com>
References: <31717188.154.1318007947457.JavaMail.geo-discussion-forums@prdw1>
	<20111007182456.GX14790@janestreet.com>
	<4E8F48A2.4070203@gmail.com>
	<31384092.147.1318029851202.JavaMail.geo-discussion-forums@yqnk41>
	<74c9726c-62b7-4ac4-9ad7-6bfdeb60e55b@u13g2000vbx.googlegroups.com>
Message-ID: <CADKNfhKq_Q4+5+v2P1TJUTiELWuN7BOGn3o8f1vqKA4nxfN3Ng@mail.gmail.com>


Core uses the s-expression syntax extension pretty pervasively.
S-expressions have a very different use-case from Marshal.  Marshal is
very fast, unsafe (if you're not careful, unmarshal can lead to a
segfault), and produces human unreadable output.

S-expressions are much slower, but generate human readable and
tweakable output.  That makes it suitable for config files and error
messages.

We also have another syntax extension that shows up throughout Core
called bin-prot.  Bin-prot is a binary protocol, which is, like
marshal, fast and unreadable, but it's also safe.

Another nice fact about all of these syntax extensions is that, unlike
marshal or compare or other generic algorithms built into OCaml, you
can override them at the type level.  If you don't like the
s-expression auto-generated for maps, you can create your own, which
enforces invariants of your choosing and has whatever syntax you want.
 This turns out to be quite important...

y

On Sat, Oct 8, 2011 at 2:45 AM, Kakadu <kakadu.hafanana at gmail.com> wrote:
> Also it is interesting to me where do you use sexplib ? As a analogue
> of Marshal module or something more interesting?
> I think that sexplib is a most visible difference between ocaml-core
> and caml-batteries.
>
> On Oct 8, 3:24?am, Yaron Minsky <ymin... at gmail.com> wrote:
>> On Friday, October 7, 2011 2:44:50 PM UTC-4, bob wrote:
>>
>


From dastapov at gmail.com  Mon Oct 10 08:07:49 2011
From: dastapov at gmail.com (Dmitry Astapov)
Date: Mon, 10 Oct 2011 00:07:49 -0700 (PDT)
Subject: Is core compilable on FreeBSD?
In-Reply-To: <f33bfa0a-819b-4842-b740-a0c8e4d659ae@t11g2000yqk.googlegroups.com>
References: <aa0160b9-0cc0-4810-ac50-e85d1019a472@i28g2000yqn.googlegroups.com>
 <CADKNfh+fxq=pxVJEE0es7WMvYXheSXj8NL6fTgpr0O8Nmz_PWQ@mail.gmail.com> <f33bfa0a-819b-4842-b740-a0c8e4d659ae@t11g2000yqk.googlegroups.com>
Message-ID: <15fd00cb-b38d-4e48-9c2f-ed7bf6bf4263@f6g2000vbm.googlegroups.com>


Looks like FreeBSD's family of *stat* calls is 64-bit by default, so
'#define stat64 stat' (and likewise for fstat, lstat) in unix_stub.c
might just do the trick.

There is obviously some extra include needed to make 'ifru_addr' error
go away, but I have no idea which one. However, a 'grep -r' for
ifru_addr in /usr/include might give some hints.

Line 1160 needs a '#warn -> #warning' change.

I have no ideas for CLOCK_PROCESS_CPUTIME_ID though :(

On Oct 7, 4:19?pm, Kakadu <kakadu.hafan... at gmail.com> wrote:
> 8.2-stable
>
> P.S. on windows there are some problems too, but it will be another
> discussion :-)
>
> On Oct 7, 3:06?am, Yaron Minsky <ymin... at gmail.com> wrote:
>
> > Do you know what
> > version of freebsd this was on?


From kakadu.hafanana at gmail.com  Mon Oct 10 13:26:16 2011
From: kakadu.hafanana at gmail.com (Kakadu)
Date: Mon, 10 Oct 2011 05:26:16 -0700 (PDT)
Subject: Is core compilable on FreeBSD?
In-Reply-To: <15fd00cb-b38d-4e48-9c2f-ed7bf6bf4263@f6g2000vbm.googlegroups.com>
References: <aa0160b9-0cc0-4810-ac50-e85d1019a472@i28g2000yqn.googlegroups.com>
 <CADKNfh+fxq=pxVJEE0es7WMvYXheSXj8NL6fTgpr0O8Nmz_PWQ@mail.gmail.com>
 <f33bfa0a-819b-4842-b740-a0c8e4d659ae@t11g2000yqk.googlegroups.com> <15fd00cb-b38d-4e48-9c2f-ed7bf6bf4263@f6g2000vbm.googlegroups.com>
Message-ID: <83467c57-438c-4e2b-a87a-ef33166a94f1@h10g2000yqd.googlegroups.com>


New info from my friend:
We should add #include <sys/socket.h> to fix problem with ifru_addr

On Oct 10, 11:07?am, Dmitry Astapov <dasta... at gmail.com> wrote:

> There is obviously some extra include needed to make 'ifru_addr' error
> go away, but I have no idea which one. However, a 'grep -r' for
> ifru_addr in /usr/include might give some hints.
>


From nobuyuki.tomizawa at gmail.com  Mon Oct 10 17:46:24 2011
From: nobuyuki.tomizawa at gmail.com (Nobuyuki Tomizawa)
Date: Mon, 10 Oct 2011 09:46:24 -0700 (PDT)
Subject: Short document / tutorial on Core
In-Reply-To: <20111007182456.GX14790@janestreet.com>
References: <31717188.154.1318007947457.JavaMail.geo-discussion-forums@prdw1>
 <20111007182456.GX14790@janestreet.com>
Message-ID: <17898995.1552.1318265184361.JavaMail.geo-discussion-forums@prdw1>

Thank you for your reply.
>
> I had no specific idea on what kind of documents the Core missed, but, 
summary of the difference from standard library will help for non-Core-user 
ocaml programmer like me. For example, I heard that Core prefers "option" 
rather than 'Not_found' exception (is this true?). So, basic usage of the 
library (with short description of design philosophy of the library) seems 
to be help.

Anyway, I'll start to read reference manual of Core to grasp it.

Thank you.

-- nobuyuki

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.ocaml.org/pipermail/core/attachments/20111010/cc3ecdbd/attachment-0001.html>

From yminsky at janestreet.com  Mon Oct 10 19:25:08 2011
From: yminsky at janestreet.com (Yaron Minsky)
Date: Mon, 10 Oct 2011 14:25:08 -0400
Subject: Short document / tutorial on Core
In-Reply-To: <17898995.1552.1318265184361.JavaMail.geo-discussion-forums@prdw1>
References: <31717188.154.1318007947457.JavaMail.geo-discussion-forums@prdw1>
 <20111007182456.GX14790@janestreet.com>
 <17898995.1552.1318265184361.JavaMail.geo-discussion-forums@prdw1>
Message-ID: <20111010182508.GX14790@janestreet.com>


On 10/10/11 09:46, Nobuyuki Tomizawa wrote:
> Thank you for your reply.
> 
> I had no specific idea on what kind of documents the Core missed,
> but, summary of the difference from standard library will help for
> non-Core-user ocaml programmer like me. For example, I heard that
> Core prefers "option" rather than 'Not_found' exception (is this
> true?). 

This is absolutely true!

> So, basic usage of the library (with short description of design
> philosophy of the library) seems to be help.

Yeah, I think we should try to put together a design document for
Core.  I've done some thinking about this, but we should do some more,
since it will be useful internally as well.  Maybe the first form this
should take is a set of blog posts.  Come to think of it, there is an
old post on our blog on this topic:

   http://ocaml.janestreet.com/?q=node/28

It covers some of the issues you mention.

y

> Anyway, I'll start to read reference manual of Core to grasp it.
> 
> Thank you.
> 
> -- nobuyuki
> 

-- 
Yaron Minsky


From dastapov at gmail.com  Tue Oct 11 10:10:13 2011
From: dastapov at gmail.com (Dmitry Astapov)
Date: Tue, 11 Oct 2011 02:10:13 -0700 (PDT)
Subject: Is core compilable on FreeBSD?
In-Reply-To: <83467c57-438c-4e2b-a87a-ef33166a94f1@h10g2000yqd.googlegroups.com>
References: <aa0160b9-0cc0-4810-ac50-e85d1019a472@i28g2000yqn.googlegroups.com>
 <CADKNfh+fxq=pxVJEE0es7WMvYXheSXj8NL6fTgpr0O8Nmz_PWQ@mail.gmail.com>
 <f33bfa0a-819b-4842-b740-a0c8e4d659ae@t11g2000yqk.googlegroups.com>
 <15fd00cb-b38d-4e48-9c2f-ed7bf6bf4263@f6g2000vbm.googlegroups.com> <83467c57-438c-4e2b-a87a-ef33166a94f1@h10g2000yqd.googlegroups.com>
Message-ID: <3441b417-23da-46f6-adc1-89d5f20052d6@p11g2000yqe.googlegroups.com>


So, after all those changes, what is the final list of errors that
still need fixing?

On Oct 10, 1:26?pm, Kakadu <kakadu.hafan... at gmail.com> wrote:
> New info from my friend:
> We should add #include <sys/socket.h> to fix problem with ifru_addr
>
> On Oct 10, 11:07?am, Dmitry Astapov <dasta... at gmail.com> wrote:
>
> > There is obviously some extra include needed to make 'ifru_addr' error
> > go away, but I have no idea which one. However, a 'grep -r' for
> > ifru_addr in /usr/include might give some hints.


From ocaml-core at googlegroups.com  Tue Oct 11 03:27:46 2011
From: ocaml-core at googlegroups.com (ocaml-core at googlegroups.com)
Date: Tue, 11 Oct 2011 02:27:46 +0000
Subject: Moderator's spam report for ocaml-core@googlegroups.com
Message-ID: <0016e6d7e69728242b04aefca763@google.com>


This message is being sent to you because you are a moderator of the group ocaml-core.

The following suspicious messages were sent to your group, but are being held in your moderation queue because they are classified as likely spam messages.

If you take no action, all the messages below will be discarded automatically as spam.

However, if you see any messages that are not spam below, you may approve them individually by going to:

http://groups.google.com/group/ocaml-core/pendmsg

Please do not mark this notification as spam; this is a service for group moderators. If you do not wish to receive these notifications in the future, you may change your preferences by going to:

http://groups.google.com/group/ocaml-core/manage_post


------- 1 of 1  -------
Subject: IMPORTANT PAYMENT WIRE NOTIFICATION ( very urgent }
>From: "Kwesi Johnson"<test at yiling.cn>
Date: Oct 09 01:00PM +0530

IMPORTANT PAYMENT WIRE NOTIFICATION

I humbly wish to inform you that the Department of Credit & Telex control

of the UBA Ghana has received an instruction Order to effect the wire

transferring of your approved fund of USD$10,850,000.00

Approve: http://groups.google.com/group/ocaml-core/pendmsg?view=full&pending_id=6833647891478083178


For more information about this message, please visit:
http://groups.google.com/support/bin/answer.py?hl=en&answer=165806



From kakadu.hafanana at gmail.com  Tue Oct 11 13:21:47 2011
From: kakadu.hafanana at gmail.com (Kakadu)
Date: Tue, 11 Oct 2011 05:21:47 -0700 (PDT)
Subject: Instructions for compiling core
Message-ID: <6842848b-6750-493f-8bad-d2a538f227b9@z19g2000vby.googlegroups.com>


Official site lacks of documentation for building core, I think.

New users complain of misunderstanding what version of type-conv
(you've published 2.3.0 but 3.* exists) and sexplib (you've published
7.0.2 but 7.0.4 exists) is needed. Also it is difficult for them to
find a post about last release of core in google-groups.

Also not every person reads REAME file. Maybe we'll add some version
dependences to _oasis file?


From yminsky at janestreet.com  Tue Oct 11 14:32:39 2011
From: yminsky at janestreet.com (Yaron Minsky)
Date: Tue, 11 Oct 2011 09:32:39 -0400
Subject: Instructions for compiling core
In-Reply-To: <6842848b-6750-493f-8bad-d2a538f227b9@z19g2000vby.googlegroups.com>
References: <6842848b-6750-493f-8bad-d2a538f227b9@z19g2000vby.googlegroups.com>
Message-ID: <20111011133239.GJ14790@janestreet.com>


Seems like a good idea.  I actually want to create a whole new website
for Core, but that's going to take a little time.

y

On 11/10/11 05:21, Kakadu wrote:
> Official site lacks of documentation for building core, I think.
> 
> New users complain of misunderstanding what version of type-conv
> (you've published 2.3.0 but 3.* exists) and sexplib (you've published
> 7.0.2 but 7.0.4 exists) is needed. Also it is difficult for them to
> find a post about last release of core in google-groups.
> 
> Also not every person reads REAME file. Maybe we'll add some version
> dependences to _oasis file?

-- 
Yaron Minsky


From alex.rubinsteyn at gmail.com  Thu Oct 13 03:58:34 2011
From: alex.rubinsteyn at gmail.com (Alex Rubinsteyn)
Date: Wed, 12 Oct 2011 19:58:34 -0700 (PDT)
Subject: Instructions for compiling core
In-Reply-To: <20111011133239.GJ14790@janestreet.com>
References: <6842848b-6750-493f-8bad-d2a538f227b9@z19g2000vby.googlegroups.com>
 <20111011133239.GJ14790@janestreet.com>
Message-ID: <4547101.993.1318474715060.JavaMail.geo-discussion-forums@vbak12>

I suspect that opening up the development of Core will be a slow and 
delicate process, but maybe a website can move faster with some community 
effort. If you put up a wiki, at least several of us would be happy to start 
filling in the details. 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.ocaml.org/pipermail/core/attachments/20111012/87dbfa2f/attachment-0001.html>

From yminsky at gmail.com  Thu Oct 13 04:08:33 2011
From: yminsky at gmail.com (Yaron Minsky)
Date: Wed, 12 Oct 2011 23:08:33 -0400
Subject: Instructions for compiling core
In-Reply-To: <4547101.993.1318474715060.JavaMail.geo-discussion-forums@vbak12>
References: <6842848b-6750-493f-8bad-d2a538f227b9@z19g2000vby.googlegroups.com>
	<20111011133239.GJ14790@janestreet.com>
	<4547101.993.1318474715060.JavaMail.geo-discussion-forums@vbak12>
Message-ID: <CADKNfhLLy5LTeGMB=e-NfsSRpJie0bE7EwJCpiw6pE5-r-N9Dg@mail.gmail.com>


I do like that idea.  Any suggestions on what would be a good Wiki to
use?  Google code has a code-hosting-plus-wiki setup, I know.  Are
there other suggestions?  Is this something that github does well?

y

On Wed, Oct 12, 2011 at 10:58 PM, Alex Rubinsteyn
<alex.rubinsteyn at gmail.com> wrote:
> I suspect that opening up the development of Core will be a slow and
> delicate process, but maybe a website can move faster with some community
> effort. If you put up a wiki, at least several of us would be happy to start
> filling in the details.


From yminsky at gmail.com  Thu Oct 13 04:10:18 2011
From: yminsky at gmail.com (Yaron Minsky)
Date: Wed, 12 Oct 2011 23:10:18 -0400
Subject: Instructions for compiling core
In-Reply-To: <CADKNfhLLy5LTeGMB=e-NfsSRpJie0bE7EwJCpiw6pE5-r-N9Dg@mail.gmail.com>
References: <6842848b-6750-493f-8bad-d2a538f227b9@z19g2000vby.googlegroups.com>
	<20111011133239.GJ14790@janestreet.com>
	<4547101.993.1318474715060.JavaMail.geo-discussion-forums@vbak12>
	<CADKNfhLLy5LTeGMB=e-NfsSRpJie0bE7EwJCpiw6pE5-r-N9Dg@mail.gmail.com>
Message-ID: <CADKNfh+5vmctEKM+pR8KJ4O3Z98=qZTuKJTG-pu_hoe=X-LtDg@mail.gmail.com>


>From a quick glance, it looks like github has a git-and-markdown based
wiki system called Gollum, which sounds like it could be just the
right thing.

On Wed, Oct 12, 2011 at 11:08 PM, Yaron Minsky <yminsky at gmail.com> wrote:
> I do like that idea. ?Any suggestions on what would be a good Wiki to
> use? ?Google code has a code-hosting-plus-wiki setup, I know. ?Are
> there other suggestions? ?Is this something that github does well?
>
> y
>
> On Wed, Oct 12, 2011 at 10:58 PM, Alex Rubinsteyn
> <alex.rubinsteyn at gmail.com> wrote:
>> I suspect that opening up the development of Core will be a slow and
>> delicate process, but maybe a website can move faster with some community
>> effort. If you put up a wiki, at least several of us would be happy to start
>> filling in the details.
>


From agarwal1975 at gmail.com  Thu Oct 13 14:35:39 2011
From: agarwal1975 at gmail.com (Agarwal Ashish)
Date: Thu, 13 Oct 2011 06:35:39 -0700 (PDT)
Subject: Instructions for compiling core
In-Reply-To: <CADKNfh+5vmctEKM+pR8KJ4O3Z98=qZTuKJTG-pu_hoe=X-LtDg@mail.gmail.com>
References: <6842848b-6750-493f-8bad-d2a538f227b9@z19g2000vby.googlegroups.com>
 <20111011133239.GJ14790@janestreet.com>
 <4547101.993.1318474715060.JavaMail.geo-discussion-forums@vbak12>
 <CADKNfhLLy5LTeGMB=e-NfsSRpJie0bE7EwJCpiw6pE5-r-N9Dg@mail.gmail.com>
 <CADKNfh+5vmctEKM+pR8KJ4O3Z98=qZTuKJTG-pu_hoe=X-LtDg@mail.gmail.com>
Message-ID: <25632447.797.1318512939656.JavaMail.geo-discussion-forums@vbac9>

Github's wiki works well enough. I'd recommend it for now at least.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.ocaml.org/pipermail/core/attachments/20111013/0c0ea100/attachment-0001.html>

From yminsky at janestreet.com  Thu Oct 13 15:23:20 2011
From: yminsky at janestreet.com (Yaron Minsky)
Date: Thu, 13 Oct 2011 10:23:20 -0400
Subject: Instructions for compiling core
In-Reply-To: <25632447.797.1318512939656.JavaMail.geo-discussion-forums@vbac9>
References: <6842848b-6750-493f-8bad-d2a538f227b9@z19g2000vby.googlegroups.com>
 <20111011133239.GJ14790@janestreet.com>
 <4547101.993.1318474715060.JavaMail.geo-discussion-forums@vbak12>
 <CADKNfhLLy5LTeGMB=e-NfsSRpJie0bE7EwJCpiw6pE5-r-N9Dg@mail.gmail.com>
 <CADKNfh+5vmctEKM+pR8KJ4O3Z98=qZTuKJTG-pu_hoe=X-LtDg@mail.gmail.com>
 <25632447.797.1318512939656.JavaMail.geo-discussion-forums@vbac9>
Message-ID: <20111013142320.GY14790@janestreet.com>


We're now working on setting ourselves up in github.  The first step
is to build a bridge between our internal hg repos and the external
git repos.  There's a bit of coding to do there, and that will have to
happen before we create the github repos.

y

On 13/10/11 06:35, Agarwal Ashish wrote:
> Github's wiki works well enough. I'd recommend it for now at least.

-- 
Yaron Minsky


From kakadu.hafanana at gmail.com  Thu Oct 13 20:55:19 2011
From: kakadu.hafanana at gmail.com (Kakadu)
Date: Thu, 13 Oct 2011 12:55:19 -0700 (PDT)
Subject: Short document / tutorial on Core
In-Reply-To: <20111010182508.GX14790@janestreet.com>
References: <31717188.154.1318007947457.JavaMail.geo-discussion-forums@prdw1>
 <20111007182456.GX14790@janestreet.com> <17898995.1552.1318265184361.JavaMail.geo-discussion-forums@prdw1>
 <20111010182508.GX14790@janestreet.com>
Message-ID: <68c3626f-788d-43df-b9a2-80954fce4cef@v8g2000vbe.googlegroups.com>


Also I'll be glad if you clarify your politics concerning using
labeled arguments. Sometimes you add labeled arguments, but sometimes
not.
For example

Core_set.subset: 'a Core_set.t -> 'a Core_set.t -> bool

I absolutely have no idea (without looking to sources) are you
checking  that first arguments is subset of second or vise versa?

--
Kakadu


From yminsky at janestreet.com  Thu Oct 13 22:15:14 2011
From: yminsky at janestreet.com (Yaron Minsky)
Date: Thu, 13 Oct 2011 17:15:14 -0400
Subject: Short document / tutorial on Core
In-Reply-To: <68c3626f-788d-43df-b9a2-80954fce4cef@v8g2000vbe.googlegroups.com>
References: <31717188.154.1318007947457.JavaMail.geo-discussion-forums@prdw1>
 <20111007182456.GX14790@janestreet.com>
 <17898995.1552.1318265184361.JavaMail.geo-discussion-forums@prdw1>
 <20111010182508.GX14790@janestreet.com>
 <68c3626f-788d-43df-b9a2-80954fce4cef@v8g2000vbe.googlegroups.com>
Message-ID: <20111013211514.GU14790@janestreet.com>


On 13/10/11 12:55, Kakadu wrote:
> Also I'll be glad if you clarify your politics concerning using
> labeled arguments. Sometimes you add labeled arguments, but sometimes
> not.
> For example
> 
> Core_set.subset: 'a Core_set.t -> 'a Core_set.t -> bool
> 
> I absolutely have no idea (without looking to sources) are you
> checking  that first arguments is subset of second or vise versa?

I think that's a case where we should improve the interface!  For all
our talk of consistency, we haven't gotten all of the libraries right,
and we're most likely to be inconsistent on modules that are
descended from modules in Inria's standard library.

y

-- 
Yaron Minsky


From ocaml-core at googlegroups.com  Tue Oct 18 04:37:45 2011
From: ocaml-core at googlegroups.com (ocaml-core at googlegroups.com)
Date: Tue, 18 Oct 2011 03:37:45 +0000
Subject: Moderator's spam report for ocaml-core@googlegroups.com
Message-ID: <00504502d92e59df9804af8a729f@google.com>


This message is being sent to you because you are a moderator of the group ocaml-core.

The following suspicious messages were sent to your group, but are being held in your moderation queue because they are classified as likely spam messages.

If you take no action, all the messages below will be discarded automatically as spam.

However, if you see any messages that are not spam below, you may approve them individually by going to:

http://groups.google.com/group/ocaml-core/pendmsg

Please do not mark this notification as spam; this is a service for group moderators. If you do not wish to receive these notifications in the future, you may change your preferences by going to:

http://groups.google.com/group/ocaml-core/manage_post


------- 1 of 1  -------
Subject: HELLO
>From: "Dr.Jery James" <jery_jemees at yahoo.com>
Date: Oct 14 11:30PM +0900

For your exclusive attention sir,
 
Some weeks ago, I sent self addresses letter to your mailing address by post but did not get any response from you till date. Alternatively, I decided to forward the same message through email. I sent the letter

Approve: http://groups.google.com/group/ocaml-core/pendmsg?view=full&pending_id=1078110857324608980


For more information about this message, please visit:
http://groups.google.com/support/bin/answer.py?hl=en&answer=165806



From sebastien.mondet at gmail.com  Tue Oct 18 19:26:39 2011
From: sebastien.mondet at gmail.com (Sebastien Mondet)
Date: Tue, 18 Oct 2011 11:26:39 -0700 (PDT)
Subject: Wrong link on Jane St's page
Message-ID: <2991807.75.1318962399433.JavaMail.geo-discussion-forums@yqp37>

Hi

On the bottom left of the page:
http://ocaml.janestreet.com/?q=node/13

There is a "Documentation" link which points to some outdated 
documentations:
http://www.janestreet.com/ocaml/janestreet-ocamldocs/index.html
(03:56pm November 11, 2009, Version 0.6.0)


Also a question:
I've seen that Core.List has become Core.Core_list,
is there a plan in the future of getting rid of the packing?
(i.e. have Core_* modules at the toplevel; that would be great for the size 
of executables...)


Sebastien


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.ocaml.org/pipermail/core/attachments/20111018/fd1ebaaa/attachment-0001.html>

From yminsky at gmail.com  Wed Oct 19 00:19:24 2011
From: yminsky at gmail.com (Yaron Minsky)
Date: Tue, 18 Oct 2011 19:19:24 -0400
Subject: Wrong link on Jane St's page
In-Reply-To: <2991807.75.1318962399433.JavaMail.geo-discussion-forums@yqp37>
References: <2991807.75.1318962399433.JavaMail.geo-discussion-forums@yqp37>
Message-ID: <CADKNfh+fpORTegMSFNzhN6SJSAqdvkxvg6rWYyM5GFASHxHSaw@mail.gmail.com>

We'll take a look at the documentation link.

As to the organization of the library, if you open Core.Std, the regular
List library is shadowed by Core's version, which is the ordinary way to use
the library.

As for executable size, ocamlpro is looking at a namespace feature for ocaml
that should make it possible to link in only the components of Core that you
actually use.  The idea would be to have a Core namespace rather than using
a packed library.

y
On Oct 18, 2011 2:26 PM, "Sebastien Mondet" <sebastien.mondet at gmail.com>
wrote:

> Hi
>
> On the bottom left of the page:
> http://ocaml.janestreet.com/?q=node/13
>
> There is a "Documentation" link which points to some outdated
> documentations:
> http://www.janestreet.com/ocaml/janestreet-ocamldocs/index.html
> (03:56pm November 11, 2009, Version 0.6.0)
>
>
> Also a question:
> I've seen that Core.List has become Core.Core_list,
> is there a plan in the future of getting rid of the packing?
> (i.e. have Core_* modules at the toplevel; that would be great for the size
> of executables...)
>
>
> Sebastien
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.ocaml.org/pipermail/core/attachments/20111018/499aaac0/attachment-0001.html>

From ocaml-core at googlegroups.com  Fri Oct 21 04:00:14 2011
From: ocaml-core at googlegroups.com (ocaml-core at googlegroups.com)
Date: Fri, 21 Oct 2011 03:00:14 +0000
Subject: Moderator's spam report for ocaml-core@googlegroups.com
Message-ID: <0016e6d77d29b6396504afc64541@google.com>


This message is being sent to you because you are a moderator of the group ocaml-core.

The following suspicious messages were sent to your group, but are being held in your moderation queue because they are classified as likely spam messages.

If you take no action, all the messages below will be discarded automatically as spam.

However, if you see any messages that are not spam below, you may approve them individually by going to:

http://groups.google.com/group/ocaml-core/pendmsg

Please do not mark this notification as spam; this is a service for group moderators. If you do not wish to receive these notifications in the future, you may change your preferences by going to:

http://groups.google.com/group/ocaml-core/manage_post


------- 1 of 1  -------
Subject: How are you today?....
>From: Kim Harrison <kimharrison at gmx.com>
Date: Oct 19 09:11PM +0100

-- 
Hi Dear,

How are you today hope all is OK with you as it is my great
pleasure to get in contact with you,Please i wish
you have the desire with me as to get to know each other
better.with much appreciation to read from you through my email

Approve: http://groups.google.com/group/ocaml-core/pendmsg?view=full&pending_id=383077785402044247


For more information about this message, please visit:
http://groups.google.com/support/bin/answer.py?hl=en&answer=165806



From alex.rubinsteyn at gmail.com  Sun Oct 23 07:23:44 2011
From: alex.rubinsteyn at gmail.com (Alex Rubinsteyn)
Date: Sat, 22 Oct 2011 23:23:44 -0700 (PDT)
Subject: Instructions for compiling core
In-Reply-To: <20111013142320.GY14790@janestreet.com>
References: <6842848b-6750-493f-8bad-d2a538f227b9@z19g2000vby.googlegroups.com>
 <20111011133239.GJ14790@janestreet.com>
 <4547101.993.1318474715060.JavaMail.geo-discussion-forums@vbak12>
 <CADKNfhLLy5LTeGMB=e-NfsSRpJie0bE7EwJCpiw6pE5-r-N9Dg@mail.gmail.com>
 <CADKNfh+5vmctEKM+pR8KJ4O3Z98=qZTuKJTG-pu_hoe=X-LtDg@mail.gmail.com>
 <25632447.797.1318512939656.JavaMail.geo-discussion-forums@vbac9>
 <20111013142320.GY14790@janestreet.com>
Message-ID: <26589848.1383.1319351024665.JavaMail.geo-discussion-forums@yqbl36>

Sorry for the late reply-- I second the recommendation of github. Having a 
pleasant source view and wiki in one place goes a long toward demystifying a 
library. 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.ocaml.org/pipermail/core/attachments/20111022/01d25fe2/attachment-0001.html>

From yminsky at janestreet.com  Sun Oct 23 17:51:48 2011
From: yminsky at janestreet.com (Yaron Minsky)
Date: Sun, 23 Oct 2011 12:51:48 -0400
Subject: Instructions for compiling core
In-Reply-To: <26589848.1383.1319351024665.JavaMail.geo-discussion-forums@yqbl36>
References: <6842848b-6750-493f-8bad-d2a538f227b9@z19g2000vby.googlegroups.com>
 <20111011133239.GJ14790@janestreet.com>
 <4547101.993.1318474715060.JavaMail.geo-discussion-forums@vbak12>
 <CADKNfhLLy5LTeGMB=e-NfsSRpJie0bE7EwJCpiw6pE5-r-N9Dg@mail.gmail.com>
 <CADKNfh+5vmctEKM+pR8KJ4O3Z98=qZTuKJTG-pu_hoe=X-LtDg@mail.gmail.com>
 <25632447.797.1318512939656.JavaMail.geo-discussion-forums@vbac9>
 <20111013142320.GY14790@janestreet.com>
 <26589848.1383.1319351024665.JavaMail.geo-discussion-forums@yqbl36>
Message-ID: <20111023165148.GC10988@janestreet.com>


I've been playing with github more in the last few days, and I see the
attraction.  I still prefer hg to git, but github is itself a killer
feature for git.

Anyway, we're working on it.  We want to get a real working
bidirectional bridge, so it will take a little bit of effort to get it
up and running.

y

On 22/10/11 23:23, Alex Rubinsteyn wrote:
> Sorry for the late reply-- I second the recommendation of github. Having a 
> pleasant source view and wiki in one place goes a long toward demystifying a 
> library. 

-- 
Yaron Minsky


From yminsky at gmail.com  Wed Oct 26 00:43:57 2011
From: yminsky at gmail.com (Yaron Minsky)
Date: Tue, 25 Oct 2011 19:43:57 -0400
Subject: Async
Message-ID: <CADKNfhLGiLOrO-o6HLku=2hC4a0pv2i1uq9M4Jm8QRZJ=ajCSg@mail.gmail.com>

We just announced the first public release of Async, our monadic concurrency
library.  You can read more about it here:

   http://bit.ly/sL3chB

Async is supposed to fit well with the rest of the Core suite, but it's not
required in order to use them.

It's worth noting that this is still an early release, and portability
issues in particular are not yet well worked out.

y
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.ocaml.org/pipermail/core/attachments/20111025/51eedb91/attachment-0001.html>

From yminsky at janestreet.com  Wed Oct 26 13:50:47 2011
From: yminsky at janestreet.com (Yaron Minsky)
Date: Wed, 26 Oct 2011 08:50:47 -0400
Subject: suggestion: license via the bsd library
In-Reply-To: <1431844285.21618.1319626978434.JavaMail.root@z-mbox-02.simnet.is>
References: <1431844285.21618.1319626978434.JavaMail.root@z-mbox-02.simnet.is>
Message-ID: <20111026125047.GC27272@janestreet.com>


CC'ing ocaml-core.

On 26/10/11 11:02, bergur at r2.is wrote:
> Hi,
> 
> Just like to throw my vote on using the BSD license when releasing
> open source software.  The fact that you need an exception to the
> LGPL pretty much proves that the license isn?t really free; you do
> not need any such exceptions for the BSD license (or its
> equivalents).
> 
> I know this is a religion, but many modern projects like node.js are
> BSD licensed.  If you are a commercial entity you often do not want
> to touch any GPL-like software.  And yes, you can fork off private
> changes, but I believe in the long term BSD will always win.

We don't care a lot about licensing issues.  We chose LGPL+exception
because that's how most OCaml libaries are licensed, starting with
INRIA's standard library, and we didn't want to increase the diversity
of licenses.

That said, there's been some other requests for switching to BSD, and
we may do that.  But first I want to focus on getting our code
exported to github!

y

-- 
Yaron Minsky


From brandon at twitter.com  Wed Oct 26 18:37:03 2011
From: brandon at twitter.com (Brandon Mitchell)
Date: Wed, 26 Oct 2011 10:37:03 -0700 (PDT)
Subject: Is core compilable on FreeBSD?
In-Reply-To: <3441b417-23da-46f6-adc1-89d5f20052d6@p11g2000yqe.googlegroups.com>
References: <aa0160b9-0cc0-4810-ac50-e85d1019a472@i28g2000yqn.googlegroups.com>
 <CADKNfh+fxq=pxVJEE0es7WMvYXheSXj8NL6fTgpr0O8Nmz_PWQ@mail.gmail.com>
 <f33bfa0a-819b-4842-b740-a0c8e4d659ae@t11g2000yqk.googlegroups.com>
 <15fd00cb-b38d-4e48-9c2f-ed7bf6bf4263@f6g2000vbm.googlegroups.com>
 <83467c57-438c-4e2b-a87a-ef33166a94f1@h10g2000yqd.googlegroups.com> <3441b417-23da-46f6-adc1-89d5f20052d6@p11g2000yqe.googlegroups.com>
Message-ID: <9355f230-136d-4287-85b1-a16cda25fc1e@s32g2000prj.googlegroups.com>


I did the following to compile core on FreeBSD 8.2-RELEASE:

* for the ifru_addr issue:
#if defined(__FreeBSD__)
#   include <sys/socket.h>
#endif

* for stat support:
#if defined(__FreeBSD__)
#   define stat64 stat
#   define lstat64 lstat
#   define fstat64 fstat64
    typedef struct stat stat_wrapper_t
#else
    typedef struct stat64 stat_wrapper_t
#endif

Change all "struct stat" in unix_stubs.c to "stat_wrapper_t"

* for clock cputime support:
#if defined(CLOCK_PROCESS_CPUTIME_ID) && defined(__linux__)
#   define CLOCK CLOCK_PROCESS_CPUTIME_ID
#elif defined(CLOCK_PROF) && defined(__FreeBSD__)
#   define CLOCK CLOCK_PROF
#else
#   define CLOCK CLOCK_REALTIME
#endif

Change the CLOCK_PROCESS_CPUTIME_ID to CLOCK

* Change #warn to #warning

On Oct 11, 2:10?am, Dmitry Astapov <dasta... at gmail.com> wrote:
> So, after all those changes, what is the final list of errors that
> still need fixing?
>
> On Oct 10, 1:26?pm, Kakadu <kakadu.hafan... at gmail.com> wrote:
>
>
>
>
>
>
>
> > New info from my friend:
> > We should add #include <sys/socket.h> to fix problem with ifru_addr
>
> > On Oct 10, 11:07?am, Dmitry Astapov <dasta... at gmail.com> wrote:
>
> > > There is obviously some extra include needed to make 'ifru_addr' error
> > > go away, but I have no idea which one. However, a 'grep -r' for
> > > ifru_addr in /usr/include might give some hints.


From brandon at twitter.com  Wed Oct 26 18:49:16 2011
From: brandon at twitter.com (Brandon Mitchell)
Date: Wed, 26 Oct 2011 10:49:16 -0700
Subject: Is core compilable on FreeBSD?
In-Reply-To: <9355f230-136d-4287-85b1-a16cda25fc1e@s32g2000prj.googlegroups.com>
References: <aa0160b9-0cc0-4810-ac50-e85d1019a472@i28g2000yqn.googlegroups.com>
	<CADKNfh+fxq=pxVJEE0es7WMvYXheSXj8NL6fTgpr0O8Nmz_PWQ@mail.gmail.com>
	<f33bfa0a-819b-4842-b740-a0c8e4d659ae@t11g2000yqk.googlegroups.com>
	<15fd00cb-b38d-4e48-9c2f-ed7bf6bf4263@f6g2000vbm.googlegroups.com>
	<83467c57-438c-4e2b-a87a-ef33166a94f1@h10g2000yqd.googlegroups.com>
	<3441b417-23da-46f6-adc1-89d5f20052d6@p11g2000yqe.googlegroups.com>
	<9355f230-136d-4287-85b1-a16cda25fc1e@s32g2000prj.googlegroups.com>
Message-ID: <CAAnWq9Ds1Bq3N7_sKr1ByV_WuTzw4M3m+vLZ=tAZr1Fg79ZLtQ@mail.gmail.com>


On Wed, Oct 26, 2011 at 10:37 AM, Brandon Mitchell <brandon at twitter.com> wrote:
> # ? define fstat64 fstat64

Typo. This should be #define fstat64 fstat. Blush.


From yminsky at gmail.com  Wed Oct 26 18:47:57 2011
From: yminsky at gmail.com (Yaron Minsky)
Date: Wed, 26 Oct 2011 13:47:57 -0400
Subject: ocaml-core - Google Groups: Message Pending [{ILPHlJuwh9ObAyoCeWIwAKGtM7hYlQFA0}]
In-Reply-To: <pending-9355f230-136d-4287-85b1-a16cda25fc1e@s32g2000prj.googlegroups.com>
References: <pending-9355f230-136d-4287-85b1-a16cda25fc1e@s32g2000prj.googlegroups.com>
Message-ID: <CADKNfhLoYSPYMnwV_TXA7mQoW0e3F5Gq+dEyAV73LOxhdO6vsQ@mail.gmail.com>

On Oct 26, 2011 1:37 PM, "ocaml-core" <ocaml-core+msgappr at googlegroups.com>
wrote:

>   A message has been sent to the ocaml-core<http://groups.google.com/group/ocaml-core?hl=en_US>group and is awaiting approval. We've included this message for your review.
>
> The message requires moderation because the user does not have permission
> to post.
>
> You can approve or reject<http://groups.google.com/group/ocaml-core/pendmsg?hl=en_US>this message or you can approve this message by replying to this email.
>  [image: Visit Google Groups]
>
> Start <https://groups.google.com/groups/create?hl=en_US&src=email> your
> own group, visit <http://groups.google.com/support/?hl=en_US&src=email>the help center, or
> report <https://groups.google.com/groups/abuse?hl=en_US&src=email> abuse.
>
>
> ---------- Forwarded message ----------
> From: Brandon Mitchell <brandon at twitter.com>
> To: ocaml-core <ocaml-core at googlegroups.com>
> Date: Wed, 26 Oct 2011 10:37:03 -0700 (PDT)
> Subject: Re: Is core compilable on FreeBSD?
> I did the following to compile core on FreeBSD 8.2-RELEASE:
>
> * for the ifru_addr issue:
> #if defined(__FreeBSD__)
> #   include <sys/socket.h>
> #endif
>
> * for stat support:
> #if defined(__FreeBSD__)
> #   define stat64 stat
> #   define lstat64 lstat
> #   define fstat64 fstat64
>    typedef struct stat stat_wrapper_t
> #else
>    typedef struct stat64 stat_wrapper_t
> #endif
>
> Change all "struct stat" in unix_stubs.c to "stat_wrapper_t"
>
> * for clock cputime support:
> #if defined(CLOCK_PROCESS_CPUTIME_ID) && defined(__linux__)
> #   define CLOCK CLOCK_PROCESS_CPUTIME_ID
> #elif defined(CLOCK_PROF) && defined(__FreeBSD__)
> #   define CLOCK CLOCK_PROF
> #else
> #   define CLOCK CLOCK_REALTIME
> #endif
>
> Change the CLOCK_PROCESS_CPUTIME_ID to CLOCK
>
> * Change #warn to #warning
>
> On Oct 11, 2:10 am, Dmitry Astapov <dasta... at gmail.com> wrote:
> > So, after all those changes, what is the final list of errors that
> > still need fixing?
> >
> > On Oct 10, 1:26 pm, Kakadu <kakadu.hafan... at gmail.com> wrote:
> >
> >
> >
> >
> >
> >
> >
> > > New info from my friend:
> > > We should add #include <sys/socket.h> to fix problem with ifru_addr
> >
> > > On Oct 10, 11:07 am, Dmitry Astapov <dasta... at gmail.com> wrote:
> >
> > > > There is obviously some extra include needed to make 'ifru_addr'
> error
> > > > go away, but I have no idea which one. However, a 'grep -r' for
> > > > ifru_addr in /usr/include might give some hints.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.ocaml.org/pipermail/core/attachments/20111026/5021eb9c/attachment-0001.html>

From agarwal1975 at gmail.com  Wed Oct 26 20:19:46 2011
From: agarwal1975 at gmail.com (Ashish Agarwal)
Date: Wed, 26 Oct 2011 15:19:46 -0400
Subject: IntMap and StringMap
Message-ID: <CAMu2m2KRtNeJXPvO3yDU3SVDkeS5Z8BTf=W1W1=TEH-vCF_SCQ@mail.gmail.com>

Does core have common instances of functor applications available, e.g. is
there an IntMap and StringMap?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.ocaml.org/pipermail/core/attachments/20111026/b1ab121f/attachment-0001.html>

From yminsky at gmail.com  Wed Oct 26 21:04:07 2011
From: yminsky at gmail.com (Yaron Minsky)
Date: Wed, 26 Oct 2011 16:04:07 -0400
Subject: IntMap and StringMap
In-Reply-To: <CAMu2m2KRtNeJXPvO3yDU3SVDkeS5Z8BTf=W1W1=TEH-vCF_SCQ@mail.gmail.com>
References: <CAMu2m2KRtNeJXPvO3yDU3SVDkeS5Z8BTf=W1W1=TEH-vCF_SCQ@mail.gmail.com>
Message-ID: <CADKNfhLwqcmjYRcXDeeV2Ry3qriSmin4RN56U6p7sDJvHiSQnQ@mail.gmail.com>

Indeed it does:  Into.Map, for example.  It's part of the comparable
interface.
On Oct 26, 2011 3:20 PM, "Ashish Agarwal" <agarwal1975 at gmail.com> wrote:

> Does core have common instances of functor applications available, e.g. is
> there an IntMap and StringMap?
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.ocaml.org/pipermail/core/attachments/20111026/88bc9903/attachment-0001.html>

From yminsky at janestreet.com  Wed Oct 26 21:46:03 2011
From: yminsky at janestreet.com (Yaron Minsky)
Date: Wed, 26 Oct 2011 16:46:03 -0400
Subject: Is core compilable on FreeBSD?
In-Reply-To: <CAAnWq9Ds1Bq3N7_sKr1ByV_WuTzw4M3m+vLZ=tAZr1Fg79ZLtQ@mail.gmail.com>
References: <aa0160b9-0cc0-4810-ac50-e85d1019a472@i28g2000yqn.googlegroups.com>
 <CADKNfh+fxq=pxVJEE0es7WMvYXheSXj8NL6fTgpr0O8Nmz_PWQ@mail.gmail.com>
 <f33bfa0a-819b-4842-b740-a0c8e4d659ae@t11g2000yqk.googlegroups.com>
 <15fd00cb-b38d-4e48-9c2f-ed7bf6bf4263@f6g2000vbm.googlegroups.com>
 <83467c57-438c-4e2b-a87a-ef33166a94f1@h10g2000yqd.googlegroups.com>
 <3441b417-23da-46f6-adc1-89d5f20052d6@p11g2000yqe.googlegroups.com>
 <9355f230-136d-4287-85b1-a16cda25fc1e@s32g2000prj.googlegroups.com>
 <CAAnWq9Ds1Bq3N7_sKr1ByV_WuTzw4M3m+vLZ=tAZr1Fg79ZLtQ@mail.gmail.com>
Message-ID: <20111026204603.GX27272@janestreet.com>


Sounds like a few people are working on patches for FreeBSD.  We have
one here, Anil Madhavapeddy is working on one, and now yours.

We'll post our patch here.  Hopefully we can get this sorted in a new
release once we have the github repos up.

y

On 26/10/11 10:49, Brandon Mitchell wrote:
> On Wed, Oct 26, 2011 at 10:37 AM, Brandon Mitchell <brandon at twitter.com> wrote:
> > # ? define fstat64 fstat64
> 
> Typo. This should be #define fstat64 fstat. Blush.

-- 
Yaron Minsky


From brandon at twitter.com  Thu Oct 27 01:09:28 2011
From: brandon at twitter.com (Brandon Mitchell)
Date: Wed, 26 Oct 2011 17:09:28 -0700
Subject: Is core compilable on FreeBSD?
In-Reply-To: <449539E3-1CE9-4325-8BFE-FCA2F787A8D6@recoil.org>
References: <aa0160b9-0cc0-4810-ac50-e85d1019a472@i28g2000yqn.googlegroups.com>
	<CADKNfh+fxq=pxVJEE0es7WMvYXheSXj8NL6fTgpr0O8Nmz_PWQ@mail.gmail.com>
	<f33bfa0a-819b-4842-b740-a0c8e4d659ae@t11g2000yqk.googlegroups.com>
	<15fd00cb-b38d-4e48-9c2f-ed7bf6bf4263@f6g2000vbm.googlegroups.com>
	<83467c57-438c-4e2b-a87a-ef33166a94f1@h10g2000yqd.googlegroups.com>
	<3441b417-23da-46f6-adc1-89d5f20052d6@p11g2000yqe.googlegroups.com>
	<9355f230-136d-4287-85b1-a16cda25fc1e@s32g2000prj.googlegroups.com>
	<CAAnWq9Ds1Bq3N7_sKr1ByV_WuTzw4M3m+vLZ=tAZr1Fg79ZLtQ@mail.gmail.com>
	<20111026204603.GX27272@janestreet.com>
	<449539E3-1CE9-4325-8BFE-FCA2F787A8D6@recoil.org>
Message-ID: <CAAnWq9CE2G5rAwc7jaAemyG=9Z=Lr0Wc_P+Wh54vHkVPtGpAaA@mail.gmail.com>


On Wed, Oct 26, 2011 at 4:12 PM, Anil Madhavapeddy <anil at recoil.org> wrote:
> I've been porting Core and its dependent libraries to OpenBSD, not FreeBSD (many, but not all, of the fixes will be relevant though).
> https://github.com/avsm/openbsd-ports/compare/124e9160d9...2bbe16f108

I can contribute FreeBSD support; I'm not sure who maintains the ports
though. I build and test on both FreeBSD and Ubuntu, but I suspect the
latter to be plenty will supported by other users. Obviously, upstream
contributions will become much easier when Core, et al. are available
on GitHub... *cough* ;-)


From ocaml-core+msgappr at googlegroups.com  Wed Oct 26 18:37:03 2011
From: ocaml-core+msgappr at googlegroups.com (ocaml-core)
Date: Wed, 26 Oct 2011 17:37:03 +0000
Subject: ocaml-core - Google Groups: Message Pending [{ILPHlJuwh9ObAyoCeWIwAKGtM7hYlQFA0}]
Message-ID: <pending-9355f230-136d-4287-85b1-a16cda25fc1e@s32g2000prj.googlegroups.com>


A message has been sent to the ocaml-core group and is awaiting approval. We've included this message for your review.

The message requires moderation because the user does not have permission to post.

You can approve or reject this message online at:
http://groups.google.com/group/ocaml-core/pendmsg?hl=en_US

or

You can approve this message by replying to this email.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.ocaml.org/pipermail/core/attachments/20111026/0d556842/attachment-0001.html>
-------------- next part --------------
An embedded message was scrubbed...
From: unknown sender
Subject: Re: Is core compilable on FreeBSD?
Date: Wed, 26 Oct 2011 10:37:03 -0700 (PDT)
Size: 2809
URL: <http://lists.ocaml.org/pipermail/core/attachments/20111026/0d556842/attachment-0001.mht>

From yminsky at gmail.com  Thu Oct 27 00:34:52 2011
From: yminsky at gmail.com (Yaron Minsky)
Date: Wed, 26 Oct 2011 19:34:52 -0400
Subject: Is core compilable on FreeBSD?
In-Reply-To: <449539E3-1CE9-4325-8BFE-FCA2F787A8D6@recoil.org>
References: <aa0160b9-0cc0-4810-ac50-e85d1019a472@i28g2000yqn.googlegroups.com>
	<CADKNfh+fxq=pxVJEE0es7WMvYXheSXj8NL6fTgpr0O8Nmz_PWQ@mail.gmail.com>
	<f33bfa0a-819b-4842-b740-a0c8e4d659ae@t11g2000yqk.googlegroups.com>
	<15fd00cb-b38d-4e48-9c2f-ed7bf6bf4263@f6g2000vbm.googlegroups.com>
	<83467c57-438c-4e2b-a87a-ef33166a94f1@h10g2000yqd.googlegroups.com>
	<3441b417-23da-46f6-adc1-89d5f20052d6@p11g2000yqe.googlegroups.com>
	<9355f230-136d-4287-85b1-a16cda25fc1e@s32g2000prj.googlegroups.com>
	<CAAnWq9Ds1Bq3N7_sKr1ByV_WuTzw4M3m+vLZ=tAZr1Fg79ZLtQ@mail.gmail.com>
	<20111026204603.GX27272@janestreet.com>
	<449539E3-1CE9-4325-8BFE-FCA2F787A8D6@recoil.org>
Message-ID: <CADKNfh+1LWkN7f4xy5Q=APtvOeH8V2KzbL6UV0bFh7=Tdy_K-A@mail.gmail.com>

Sorry.  You BSD's all look alike to me.

<ducks>

As for bin-prot, there are a number of portability fixes that came from
Debian that Markus Mottl has included in his version of bin-prot.  We'll
need to merge all this stuff together (on github) soon.

y

On Wed, Oct 26, 2011 at 7:12 PM, Anil Madhavapeddy <anil at recoil.org> wrote:

> I've been porting Core and its dependent libraries to OpenBSD, not FreeBSD
> (many, but not all, of the fixes will be relevant though).
> https://github.com/avsm/openbsd-ports/compare/124e9160d9...2bbe16f108
>
> Only main patches so far are for bin-prot:
>
> https://github.com/avsm/openbsd-ports/compare/124e9160d9...2bbe16f108#diff-25
>
> For ocaml-core the patches are here:
> https://github.com/avsm/openbsd-ports/tree/master/devel/ocaml-core/patches
>
> The discover.sh needs to not hardcode bash.
> unix_stubs.c is pretty big. In particular, the tests currently fail at
> start of day due to one of the Linux-specific sysconf calls failing.
>
> I'll take a look in more detail later this week...
>
> Anil
>
> On 26 Oct 2011, at 21:46, Yaron Minsky wrote:
>
> > Sounds like a few people are working on patches for FreeBSD.  We have
> > one here, Anil Madhavapeddy is working on one, and now yours.
> >
> > We'll post our patch here.  Hopefully we can get this sorted in a new
> > release once we have the github repos up.
> >
> > y
> >
> > On 26/10/11 10:49, Brandon Mitchell wrote:
> >> On Wed, Oct 26, 2011 at 10:37 AM, Brandon Mitchell <brandon at twitter.com>
> wrote:
> >>> #   define fstat64 fstat64
> >>
> >> Typo. This should be #define fstat64 fstat. Blush.
> >
> > --
> > Yaron Minsky
> >
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.ocaml.org/pipermail/core/attachments/20111026/335c8cc3/attachment-0001.html>

From anil at recoil.org  Thu Oct 27 00:12:15 2011
From: anil at recoil.org (Anil Madhavapeddy)
Date: Thu, 27 Oct 2011 00:12:15 +0100
Subject: Is core compilable on FreeBSD?
In-Reply-To: <20111026204603.GX27272@janestreet.com>
References: <aa0160b9-0cc0-4810-ac50-e85d1019a472@i28g2000yqn.googlegroups.com> <CADKNfh+fxq=pxVJEE0es7WMvYXheSXj8NL6fTgpr0O8Nmz_PWQ@mail.gmail.com> <f33bfa0a-819b-4842-b740-a0c8e4d659ae@t11g2000yqk.googlegroups.com> <15fd00cb-b38d-4e48-9c2f-ed7bf6bf4263@f6g2000vbm.googlegroups.com> <83467c57-438c-4e2b-a87a-ef33166a94f1@h10g2000yqd.googlegroups.com> <3441b417-23da-46f6-adc1-89d5f20052d6@p11g2000yqe.googlegroups.com> <9355f230-136d-4287-85b1-a16cda25fc1e@s32g2000prj.googlegroups.com> <CAAnWq9Ds1Bq3N7_sKr1ByV_WuTzw4M3m+vLZ=tAZr1Fg79ZLtQ@mail.gmail.com> <20111026204603.GX27272@janestreet.com>
Message-ID: <449539E3-1CE9-4325-8BFE-FCA2F787A8D6@recoil.org>


I've been porting Core and its dependent libraries to OpenBSD, not FreeBSD (many, but not all, of the fixes will be relevant though).
https://github.com/avsm/openbsd-ports/compare/124e9160d9...2bbe16f108

Only main patches so far are for bin-prot:
https://github.com/avsm/openbsd-ports/compare/124e9160d9...2bbe16f108#diff-25

For ocaml-core the patches are here:
https://github.com/avsm/openbsd-ports/tree/master/devel/ocaml-core/patches

The discover.sh needs to not hardcode bash.
unix_stubs.c is pretty big. In particular, the tests currently fail at start of day due to one of the Linux-specific sysconf calls failing.

I'll take a look in more detail later this week...

Anil

On 26 Oct 2011, at 21:46, Yaron Minsky wrote:

> Sounds like a few people are working on patches for FreeBSD.  We have
> one here, Anil Madhavapeddy is working on one, and now yours.
> 
> We'll post our patch here.  Hopefully we can get this sorted in a new
> release once we have the github repos up.
> 
> y
> 
> On 26/10/11 10:49, Brandon Mitchell wrote:
>> On Wed, Oct 26, 2011 at 10:37 AM, Brandon Mitchell <brandon at twitter.com> wrote:
>>> #   define fstat64 fstat64
>> 
>> Typo. This should be #define fstat64 fstat. Blush.
> 
> -- 
> Yaron Minsky
> 



From kakadu.hafanana at gmail.com  Thu Oct 27 08:42:14 2011
From: kakadu.hafanana at gmail.com (Kakadu)
Date: Thu, 27 Oct 2011 00:42:14 -0700 (PDT)
Subject: Welcome!
In-Reply-To: <20111004134043.GT17629@janestreet.com>
References: <20111004134043.GT17629@janestreet.com>
Message-ID: <cdecfa9e-0cf9-4cb4-9ccc-12cc725fe05a@g1g2000vbd.googlegroups.com>


Hi, Yaron!

In your "OCaml to the masses" you've mentioned that about 65 coders
are using OCaml in JS. I think that the community doesn't know many of
them. Are they creating some opensource libraries? Are you going to
meet the most active employees with community?

P.S. sorry, I have some problems with formulating English sentences
this morning.. TT

-------------------
Kakadu


From yminsky at gmail.com  Fri Oct 28 01:10:25 2011
From: yminsky at gmail.com (Yaron Minsky)
Date: Thu, 27 Oct 2011 20:10:25 -0400
Subject: Welcome!
In-Reply-To: <cdecfa9e-0cf9-4cb4-9ccc-12cc725fe05a@g1g2000vbd.googlegroups.com>
References: <20111004134043.GT17629@janestreet.com>
	<cdecfa9e-0cf9-4cb4-9ccc-12cc725fe05a@g1g2000vbd.googlegroups.com>
Message-ID: <CADKNfhKagnwNn4DcdYYV1Y7MAG972Kf7yq_GYh+5Y+AaPo1W=A@mail.gmail.com>

I'm really not lying about the OCaml programmers!  But they're surprisingly
email-shy.  I actually sent an internal email encouraging people to
participate more.

But there really is a big group of us here, and there's a lot of interest in
contributing to the open-sourcing effort  Indeed, now that we've released
Async, there are a bunch of other projects we're thinking of releasing.  We
were just talking about releasing Selket, which is our homegrown replacement
for Nagios.  (Nagios is a popular monitoring system that we used for many
years, and eventually wrote a replacement for.)

y

On Thu, Oct 27, 2011 at 3:42 AM, Kakadu <kakadu.hafanana at gmail.com> wrote:

> Hi, Yaron!
>
> In your "OCaml to the masses" you've mentioned that about 65 coders
> are using OCaml in JS. I think that the community doesn't know many of
> them. Are they creating some opensource libraries? Are you going to
> meet the most active employees with community?
>
> P.S. sorry, I have some problems with formulating English sentences
> this morning.. TT
>
> -------------------
> Kakadu
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.ocaml.org/pipermail/core/attachments/20111027/eee35152/attachment-0001.html>

From thelema314 at gmail.com  Fri Oct 28 01:28:16 2011
From: thelema314 at gmail.com (Edgar Friendly)
Date: Thu, 27 Oct 2011 20:28:16 -0400
Subject: Welcome!
In-Reply-To: <CADKNfhKagnwNn4DcdYYV1Y7MAG972Kf7yq_GYh+5Y+AaPo1W=A@mail.gmail.com>
References: <20111004134043.GT17629@janestreet.com>	<cdecfa9e-0cf9-4cb4-9ccc-12cc725fe05a@g1g2000vbd.googlegroups.com> <CADKNfhKagnwNn4DcdYYV1Y7MAG972Kf7yq_GYh+5Y+AaPo1W=A@mail.gmail.com>
Message-ID: <4EA9F720.3050507@gmail.com>


On 10/27/2011 08:10 PM, Yaron Minsky wrote:
> I'm really not lying about the OCaml programmers!  But they're 
> surprisingly email-shy.  I actually sent an internal email encouraging 
> people to participate more.
>
> But there really is a big group of us here, and there's a lot of 
> interest in contributing to the open-sourcing effort  Indeed, now that 
> we've released Async, there are a bunch of other projects we're 
> thinking of releasing.  We were just talking about releasing Selket, 
> which is our homegrown replacement for Nagios.  (Nagios is a popular 
> monitoring system that we used for many years, and eventually wrote a 
> replacement for.)
>
> y
Interesting - I've recently written some code implementing Coda Hale's 
"metrics", which could use a good monitoring backend to accumulate the 
gathered statistics and present them nicely.  I look forward to seeing 
how much of my code is already implemented in your system and how much I 
can contribute.

E.


From ocaml-core at googlegroups.com  Fri Oct 28 03:32:03 2011
From: ocaml-core at googlegroups.com (ocaml-core at googlegroups.com)
Date: Fri, 28 Oct 2011 02:32:03 +0000
Subject: Moderator's spam report for ocaml-core@googlegroups.com
Message-ID: <0016e6d97124c4465104b052b16f@google.com>


This message is being sent to you because you are a moderator of the group ocaml-core.

The following suspicious messages were sent to your group, but are being held in your moderation queue because they are classified as likely spam messages.

If you take no action, all the messages below will be discarded automatically as spam.

However, if you see any messages that are not spam below, you may approve them individually by going to:

http://groups.google.com/group/ocaml-core/pendmsg

Please do not mark this notification as spam; this is a service for group moderators. If you do not wish to receive these notifications in the future, you may change your preferences by going to:

http://groups.google.com/group/ocaml-core/manage_post


------- 1 of 1  -------
Subject: Please Reply Urgently!!
>From: Family Ms <msfamilyfamily at yahoo.com.vn>
Date: Oct 26 02:48PM +0800

Please Reply Urgently!!

Dear Respected,

With Due Respect and Humanity, I was compelled to write to you under a humanitarian ground, however,this is not mandatory nor will I in any manner compel you to honour against your will.


Approve: http://groups.google.com/group/ocaml-core/pendmsg?view=full&pending_id=7211269220376830786


For more information about this message, please visit:
http://groups.google.com/support/bin/answer.py?hl=en&answer=165806



From agarwal1975 at gmail.com  Fri Oct 28 16:31:30 2011
From: agarwal1975 at gmail.com (Ashish Agarwal)
Date: Fri, 28 Oct 2011 11:31:30 -0400
Subject: Welcome!
In-Reply-To: <CADKNfhKagnwNn4DcdYYV1Y7MAG972Kf7yq_GYh+5Y+AaPo1W=A@mail.gmail.com>
References: <20111004134043.GT17629@janestreet.com> <cdecfa9e-0cf9-4cb4-9ccc-12cc725fe05a@g1g2000vbd.googlegroups.com>
 <CADKNfhKagnwNn4DcdYYV1Y7MAG972Kf7yq_GYh+5Y+AaPo1W=A@mail.gmail.com>
Message-ID: <CAMu2m2+QJ6P5Cyjen_9fKOuWycvE3ESH6caswajdWbWQiF0J_w@mail.gmail.com>

On Thu, Oct 27, 2011 at 8:10 PM, Yaron Minsky <yminsky at gmail.com> wrote:

> I'm really not lying about the OCaml programmers!  But they're surprisingly
> email-shy.  I actually sent an internal email encouraging people to
> participate more.
>

Perhaps you can encourage them all to join the new NYC OCaml Meetup group
[1]. It would be great to have some presentations from Jane St, and it might
even help your recruiting efforts. We've got 34 members already, but 34+65 =
99 would be better!

[1] http://www.meetup.com/NYC-OCaml/



> We were just talking about releasing Selket, which is our homegrown
> replacement for Nagios.
>

Very exciting. I've got 3 HPC clusters here that I could use this on.




> On Thu, Oct 27, 2011 at 3:42 AM, Kakadu <kakadu.hafanana at gmail.com> wrote:
>
>> Hi, Yaron!
>>
>> In your "OCaml to the masses" you've mentioned that about 65 coders
>> are using OCaml in JS. I think that the community doesn't know many of
>> them. Are they creating some opensource libraries? Are you going to
>> meet the most active employees with community?
>>
>> P.S. sorry, I have some problems with formulating English sentences
>> this morning.. TT
>>
>> -------------------
>> Kakadu
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.ocaml.org/pipermail/core/attachments/20111028/2b85935f/attachment-0001.html>

From yminsky at janestreet.com  Mon Oct 31 14:25:40 2011
From: yminsky at janestreet.com (Yaron Minsky)
Date: Mon, 31 Oct 2011 10:25:40 -0400
Subject: Making Async play better with others
Message-ID: <20111031142540.GZ26614@janestreet.com>


I'm wondering if anyone has opinions on what we should do to make
Async more widely applicable.  Here are some issues that jump to mind.

- Porting to windows.  People have proposed using libuv to do that.
- Porting to non-Linux UNIX's: Right now, we depend on Core's
  Linux_ext module.  I think the dependency is not deep, so
  conditional compilation might be a way to fix that.
- Support for other polling mechanisms: like epoll and friends.  Right
  now, it's all select.  A pluggable engine mechanism like the one Lwt
  has could make sense here.
- Interoperability with Lwt:  It would be nice to make Async and Lwt
  libraries play together.  Jeremie Dimino suggested that the best
  thing here might be to build a library for Lwt on top of Async.
  That seems plausible enough, but an engine in the other direction
  might be good too.

I'm curious if people have opinions as to how to best handle these.
I'm in particular wondering about conditional compilation as a
solution.  It seems messy, but I'm not sure what would be a better
approach.  One thing you could imagine is using first-class modules,
where you stored a system-dependent module that provided the
OS-specific functionality.  But there's some performance compromise
there (probably too small to matter compared to a system-call,
though), and I'm not sure it comes out cleaner.

y

--
Yaron Minsky


From yminsky at janestreet.com  Mon Oct 31 15:06:40 2011
From: yminsky at janestreet.com (Yaron Minsky)
Date: Mon, 31 Oct 2011 11:06:40 -0400
Subject: Making Async play better with others
In-Reply-To: <3DDCF997-C2CC-4D68-B7CA-AD810B8BF21D@recoil.org>
References: <20111031142540.GZ26614@janestreet.com>
 <3DDCF997-C2CC-4D68-B7CA-AD810B8BF21D@recoil.org>
Message-ID: <20111031150640.GF26614@janestreet.com>


On 31/10/11 14:29, Anil Madhavapeddy wrote:
> You could combine most of these by basing Async on top of libuv,
> which is a superset of libev (the event library that Lwt uses to
> abstract network I/O).
> 
> https://github.com/joyent/libuv
> 
> Crucially, libuv has good support for the Windows AIO model, and is
> also what node.js uses to drive its event loop (so has widespread
> usage).
> 
> At first glance at Core, it looks like many of the Linux-specific
> bits like high-res timers and thread scheduling are also covered by
> it.

How much do you know about the performance and quality of libuv?  I'm
always nervous about shimming yet another layer between us and the
bare metal.

y

> Anil
> 
> On 31 Oct 2011, at 14:25, Yaron Minsky wrote:
> 
> > I'm wondering if anyone has opinions on what we should do to make
> > Async more widely applicable.  Here are some issues that jump to mind.
> > 
> > - Porting to windows.  People have proposed using libuv to do that.
> > - Porting to non-Linux UNIX's: Right now, we depend on Core's
> >  Linux_ext module.  I think the dependency is not deep, so
> >  conditional compilation might be a way to fix that.
> > - Support for other polling mechanisms: like epoll and friends.  Right
> >  now, it's all select.  A pluggable engine mechanism like the one Lwt
> >  has could make sense here.
> > - Interoperability with Lwt:  It would be nice to make Async and Lwt
> >  libraries play together.  Jeremie Dimino suggested that the best
> >  thing here might be to build a library for Lwt on top of Async.
> >  That seems plausible enough, but an engine in the other direction
> >  might be good too.
> > 
> > I'm curious if people have opinions as to how to best handle these.
> > I'm in particular wondering about conditional compilation as a
> > solution.  It seems messy, but I'm not sure what would be a better
> > approach.  One thing you could imagine is using first-class modules,
> > where you stored a system-dependent module that provided the
> > OS-specific functionality.  But there's some performance compromise
> > there (probably too small to matter compared to a system-call,
> > though), and I'm not sure it comes out cleaner.
> > 
> > y
> > 
> > --
> > Yaron Minsky
> > 
> 

-- 
Yaron Minsky


From nlinger at janestreet.com  Mon Oct 31 17:45:35 2011
From: nlinger at janestreet.com (Nathan Linger)
Date: Mon, 31 Oct 2011 13:45:35 -0400
Subject: Making Async play better with others
In-Reply-To: <40CAC937-937D-499A-A84F-976B8FBDC5D6@recoil.org>
References: <20111031142540.GZ26614@janestreet.com>
 <3DDCF997-C2CC-4D68-B7CA-AD810B8BF21D@recoil.org>
 <20111031150640.GF26614@janestreet.com>
 <40CAC937-937D-499A-A84F-976B8FBDC5D6@recoil.org>
Message-ID: <20111031174535.GM25160@janestreet.com>



On 10/31/11 16:37, Anil Madhavapeddy wrote:
> On 31 Oct 2011, at 15:06, Yaron Minsky wrote:
> 
> > On 31/10/11 14:29, Anil Madhavapeddy wrote:
> >> You could combine most of these by basing Async on top of libuv,
> >> which is a superset of libev (the event library that Lwt uses to
> >> abstract network I/O).
> >> 
> >> https://github.com/joyent/libuv
> >> 
> >> Crucially, libuv has good support for the Windows AIO model, and is
> >> also what node.js uses to drive its event loop (so has widespread
> >> usage).
> >> 
> >> At first glance at Core, it looks like many of the Linux-specific
> >> bits like high-res timers and thread scheduling are also covered by
> >> it.
> > 
> > How much do you know about the performance and quality of libuv?  I'm
> > always nervous about shimming yet another layer between us and the
> > bare metal.
> 
> Nothing beyond flicking through the source code and occasionally being
> cursed with using node.js (which works pretty well until you get to
> the Javascript level :)
> 
> It's pretty much the only game in town when it comes to cross-platform
> C-based asynchronous programming libraries however (as far as I know).

Isn't libevent[1] the same sort of thing?  I believe it is the C-based
asynchronous programming library underlying memcached[2], which in turn
is used by several high-profile web applications -- their website lists
Wikipedia, WordPress.com, Flickr, Twitter, Typepad, Youtube, LiveJournal,
Digg, Craigslist, and a handful of others I didn't recognize.

I dusted off the ocaml bindings for libevent[3] at home last year and
found them pretty usable for the small experiments I did (implementing a
monadic interface for CML-style concurrent programming).  Their website[1]
claims "Libevent should compile on Linux, *BSD, Mac OS X, Solaris,
Windows, and more."

[1] http://libevent.org/
[2] http://www.memcached.org/
[3] http://mmzeeman.home.xs4all.nl/ocaml/



From anil at recoil.org  Mon Oct 31 14:29:46 2011
From: anil at recoil.org (Anil Madhavapeddy)
Date: Mon, 31 Oct 2011 14:29:46 +0000
Subject: Making Async play better with others
In-Reply-To: <20111031142540.GZ26614@janestreet.com>
References: <20111031142540.GZ26614@janestreet.com>
Message-ID: <3DDCF997-C2CC-4D68-B7CA-AD810B8BF21D@recoil.org>


You could combine most of these by basing Async on top of libuv, which is a superset of libev (the event library that Lwt uses to abstract network I/O).

https://github.com/joyent/libuv

Crucially, libuv has good support for the Windows AIO model, and is also what node.js uses to drive its event loop (so has widespread usage).

At first glance at Core, it looks like many of the Linux-specific bits like high-res timers and thread scheduling are also covered by it.

Anil

On 31 Oct 2011, at 14:25, Yaron Minsky wrote:

> I'm wondering if anyone has opinions on what we should do to make
> Async more widely applicable.  Here are some issues that jump to mind.
> 
> - Porting to windows.  People have proposed using libuv to do that.
> - Porting to non-Linux UNIX's: Right now, we depend on Core's
>  Linux_ext module.  I think the dependency is not deep, so
>  conditional compilation might be a way to fix that.
> - Support for other polling mechanisms: like epoll and friends.  Right
>  now, it's all select.  A pluggable engine mechanism like the one Lwt
>  has could make sense here.
> - Interoperability with Lwt:  It would be nice to make Async and Lwt
>  libraries play together.  Jeremie Dimino suggested that the best
>  thing here might be to build a library for Lwt on top of Async.
>  That seems plausible enough, but an engine in the other direction
>  might be good too.
> 
> I'm curious if people have opinions as to how to best handle these.
> I'm in particular wondering about conditional compilation as a
> solution.  It seems messy, but I'm not sure what would be a better
> approach.  One thing you could imagine is using first-class modules,
> where you stored a system-dependent module that provided the
> OS-specific functionality.  But there's some performance compromise
> there (probably too small to matter compared to a system-call,
> though), and I'm not sure it comes out cleaner.
> 
> y
> 
> --
> Yaron Minsky
> 



From anil at recoil.org  Mon Oct 31 16:37:30 2011
From: anil at recoil.org (Anil Madhavapeddy)
Date: Mon, 31 Oct 2011 16:37:30 +0000
Subject: Making Async play better with others
In-Reply-To: <20111031150640.GF26614@janestreet.com>
References: <20111031142540.GZ26614@janestreet.com> <3DDCF997-C2CC-4D68-B7CA-AD810B8BF21D@recoil.org> <20111031150640.GF26614@janestreet.com>
Message-ID: <40CAC937-937D-499A-A84F-976B8FBDC5D6@recoil.org>


On 31 Oct 2011, at 15:06, Yaron Minsky wrote:

> On 31/10/11 14:29, Anil Madhavapeddy wrote:
>> You could combine most of these by basing Async on top of libuv,
>> which is a superset of libev (the event library that Lwt uses to
>> abstract network I/O).
>> 
>> https://github.com/joyent/libuv
>> 
>> Crucially, libuv has good support for the Windows AIO model, and is
>> also what node.js uses to drive its event loop (so has widespread
>> usage).
>> 
>> At first glance at Core, it looks like many of the Linux-specific
>> bits like high-res timers and thread scheduling are also covered by
>> it.
> 
> How much do you know about the performance and quality of libuv?  I'm
> always nervous about shimming yet another layer between us and the
> bare metal.

Nothing beyond flicking through the source code and occasionally being cursed with using node.js (which works pretty well until you get to the Javascript level :)

It's pretty much the only game in town when it comes to cross-platform C-based asynchronous programming libraries however (as far as I know).

Anil

From ocaml-core+msgappr at googlegroups.com  Mon Oct 31 17:45:36 2011
From: ocaml-core+msgappr at googlegroups.com (ocaml-core)
Date: Mon, 31 Oct 2011 17:45:36 +0000
Subject: ocaml-core - Google Groups: Message Pending [{IIK-oq-Cu-H1LCoCeWIwALbbsGLyV9UF0}]
Message-ID: <pending-20111031174535.GM25160@janestreet.com>


A message has been sent to the ocaml-core group and is awaiting approval. We've included this message for your review.

The message requires moderation because the user does not have permission to post.

You can approve or reject this message online at:
http://groups.google.com/group/ocaml-core/pendmsg?hl=en_US

or

You can approve this message by replying to this email.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.ocaml.org/pipermail/core/attachments/20111031/440266ba/attachment-0001.html>
-------------- next part --------------
An embedded message was scrubbed...
From: unknown sender
Subject: Re: Making Async play better with others
Date: Mon, 31 Oct 2011 13:45:35 -0400
Size: 4464
URL: <http://lists.ocaml.org/pipermail/core/attachments/20111031/440266ba/attachment-0001.mht>

