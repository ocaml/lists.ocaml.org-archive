<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> pa_ounit outside of Core
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:core%40lists.ocaml.org?Subject=Re%3A%20pa_ounit%20outside%20of%20Core&In-Reply-To=%3C20120229114339.GB17748%40dark.recoil.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>pa_ounit outside of Core</H1>
    <B>Anil Madhavapeddy</B> 
    <A HREF="mailto:core%40lists.ocaml.org?Subject=Re%3A%20pa_ounit%20outside%20of%20Core&In-Reply-To=%3C20120229114339.GB17748%40dark.recoil.org%3E"
       TITLE="pa_ounit outside of Core">anil at recoil.org
       </A><BR>
    <I>Wed Feb 29 11:43:40 GMT 2012</I>
    <P><UL>
        
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1131">[ date ]</a>
              <a href="thread.html#1131">[ thread ]</a>
              <a href="subject.html#1131">[ subject ]</a>
              <a href="author.html#1131">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
I ran across Till's very-useful pa_ounit, and would really like to use
this in our libraries to make adding oUnit tests easier.  There seem to be
two different versions; the Github one at:
<A HREF="https://github.com/till-varoquaux/pa_ounit">https://github.com/till-varoquaux/pa_ounit</A>
...and the version in the Core distribution.

I've integrated the Core one pretty easily into some of our local
libraries, and tests are generated as expected. However, the OMake rules
for extracting and collecting the tests into an executable don't seem to
be present in the distribution.

What I'd like to do is to only generate the tests during a testing build,
and for production use have them disappear from the installed binary or
library. However, there doesn't appear to be a switch in pa_ounit.ml to
ignore the extra keywords. Do existing pa_ounit consumers just compile the
tests in with the final library at the moment?

(More generally, the topic of multiple camlp4 options is quite tricky, as
the same situation exists with pa_lwt generating debug code for mapping
Lwt threads to backtraces, and it's hard to keep track of what modules
were built with some set of p4 options).

-anil

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1131">[ date ]</a>
              <a href="thread.html#1131">[ thread ]</a>
              <a href="subject.html#1131">[ subject ]</a>
              <a href="author.html#1131">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/core">More information about the core
mailing list</a><br>
</body></html>
