<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Trouble building my first program
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:core%40lists.ocaml.org?Subject=Re%3A%20Trouble%20building%20my%20first%20program&In-Reply-To=%3CCAP_800oScnOa%3D0B_u7zGVy1KV%3D%3DVMhiyEz1kD-K8hO1dgMHfDQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000211.html">
   <LINK REL="Next"  HREF="000218.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Trouble building my first program</H1>
    <B>Markus Mottl</B> 
    <A HREF="mailto:core%40lists.ocaml.org?Subject=Re%3A%20Trouble%20building%20my%20first%20program&In-Reply-To=%3CCAP_800oScnOa%3D0B_u7zGVy1KV%3D%3DVMhiyEz1kD-K8hO1dgMHfDQ%40mail.gmail.com%3E"
       TITLE="Trouble building my first program">markus.mottl at gmail.com
       </A><BR>
    <I>Wed Feb  1 21:39:10 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="000211.html">license
</A></li>
        <LI>Next message: <A HREF="000218.html">Trouble building my first program
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#215">[ date ]</a>
              <a href="thread.html#215">[ thread ]</a>
              <a href="subject.html#215">[ subject ]</a>
              <a href="author.html#215">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi David,

this is a known problem related to Oasis.  It generates incorrect
linking flags (e.g. lib/libbin_prot.a).  This should be fixed any day
now we hope.  Sylvain, any news? :-)

Cheers,
Markus

On Wed, Feb 1, 2012 at 16:34, David House &lt;<A HREF="http://lists.ocaml.org/listinfo/core">dmhouse at gmail.com</A>&gt; wrote:
&gt;<i> On 31 January 2012 22:10, Owen Gunden &lt;<A HREF="http://lists.ocaml.org/listinfo/core">ogunden at phauna.org</A>&gt; wrote:
</I>&gt;&gt;<i> On Tue, Jan 31, 2012 at 5:08 PM, Owen Gunden &lt;<A HREF="http://lists.ocaml.org/listinfo/core">ogunden at phauna.org</A>&gt; wrote:
</I>&gt;&gt;&gt;<i> Try adding -verbose to your ocamlfind call. Check the path to
</I>&gt;&gt;&gt;<i> libcore.a in the gcc call. My guess is that your install is not
</I>&gt;&gt;&gt;<i> getting the path quite right.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> (Your command line works fine on my machine)
</I>&gt;<i>
</I>&gt;<i> Here's the output of the verbose compilation:
</I>&gt;<i>
</I>&gt;<i> $ ocamlfind ocamlopt -package core -linkpkg -o simple_core
</I>&gt;<i> simple_core.ml -thread -verbose
</I>&gt;<i> Effective set of compiler predicates:
</I>&gt;<i> pkg_unix,pkg_threads.posix,pkg_threads,pkg_variantslib,pkg_camlp4,pkg_type-conv,pkg_variantslib.syntax,pkg_bigarray,pkg_num.core,pkg_num,pkg_sexplib,pkg_sexplib.syntax,pkg_fieldslib,pkg_fieldslib.syntax,pkg_bin_prot,pkg_bin_prot.syntax,pkg_oUnit,pkg_pa_ounit,pkg_pa_pipebang,pkg_res,pkg_core,autolink,mt,mt_posix,native
</I>&gt;<i> + ocamlopt -o simple_core -verbose -thread -I
</I>&gt;<i> /usr/local/lib/ocaml/camlp4 -I /usr/local/lib/ocaml/site-lib/type-conv
</I>&gt;<i> -I /usr/local/lib/ocaml/site-lib/variantslib -I
</I>&gt;<i> /usr/local/lib/ocaml/site-lib/num -I
</I>&gt;<i> /usr/local/lib/ocaml/site-lib/sexplib -I
</I>&gt;<i> /usr/local/lib/ocaml/site-lib/fieldslib -I
</I>&gt;<i> /usr/local/lib/ocaml/site-lib/bin_prot -I
</I>&gt;<i> /usr/local/lib/ocaml/site-lib/oUnit -I
</I>&gt;<i> /usr/local/lib/ocaml/site-lib/pa_ounit -I
</I>&gt;<i> /usr/local/lib/ocaml/site-lib/pa_pipebang -I
</I>&gt;<i> /usr/local/lib/ocaml/site-lib/res -I
</I>&gt;<i> /usr/local/lib/ocaml/site-lib/core /usr/local/lib/ocaml/unix.cmxa
</I>&gt;<i> /usr/local/lib/ocaml/threads/threads.cmxa
</I>&gt;<i> /usr/local/lib/ocaml/site-lib/variantslib/variantslib.cmxa
</I>&gt;<i> /usr/local/lib/ocaml/bigarray.cmxa /usr/local/lib/ocaml/nums.cmxa
</I>&gt;<i> /usr/local/lib/ocaml/site-lib/sexplib/sexplib.cmxa
</I>&gt;<i> /usr/local/lib/ocaml/site-lib/fieldslib/fieldslib.cmxa
</I>&gt;<i> /usr/local/lib/ocaml/site-lib/bin_prot/bin_prot.cmxa
</I>&gt;<i> /usr/local/lib/ocaml/site-lib/oUnit/oUnit.cmxa
</I>&gt;<i> /usr/local/lib/ocaml/site-lib/res/res.cmxa
</I>&gt;<i> /usr/local/lib/ocaml/site-lib/core/core.cmxa simple_core.ml
</I>&gt;<i> + as -o 'simple_core.o' '/tmp/camlasm277805.s'
</I>&gt;<i> + as -o '/tmp/camlstartupcbc06f.o' '/tmp/camlstartup2cf117.s'
</I>&gt;<i> + gcc -o 'simple_core' &#160; '-L/usr/local/lib/ocaml/camlp4'
</I>&gt;<i> '-L/usr/local/lib/ocaml/site-lib/type-conv'
</I>&gt;<i> '-L/usr/local/lib/ocaml/site-lib/variantslib'
</I>&gt;<i> '-L/usr/local/lib/ocaml/site-lib/num'
</I>&gt;<i> '-L/usr/local/lib/ocaml/site-lib/sexplib'
</I>&gt;<i> '-L/usr/local/lib/ocaml/site-lib/fieldslib'
</I>&gt;<i> '-L/usr/local/lib/ocaml/site-lib/bin_prot'
</I>&gt;<i> '-L/usr/local/lib/ocaml/site-lib/oUnit'
</I>&gt;<i> '-L/usr/local/lib/ocaml/site-lib/pa_ounit'
</I>&gt;<i> '-L/usr/local/lib/ocaml/site-lib/pa_pipebang'
</I>&gt;<i> '-L/usr/local/lib/ocaml/site-lib/res'
</I>&gt;<i> '-L/usr/local/lib/ocaml/site-lib/core'
</I>&gt;<i> '-L/usr/local/lib/ocaml/threads' '-L/usr/local/lib/ocaml'
</I>&gt;<i> '/tmp/camlstartupcbc06f.o' '/usr/local/lib/ocaml/std_exit.o'
</I>&gt;<i> 'simple_core.o' '/usr/local/lib/ocaml/site-lib/core/core.a'
</I>&gt;<i> '/usr/local/lib/ocaml/site-lib/res/res.a'
</I>&gt;<i> '/usr/local/lib/ocaml/site-lib/oUnit/oUnit.a'
</I>&gt;<i> '/usr/local/lib/ocaml/site-lib/bin_prot/bin_prot.a'
</I>&gt;<i> '/usr/local/lib/ocaml/site-lib/fieldslib/fieldslib.a'
</I>&gt;<i> '/usr/local/lib/ocaml/site-lib/sexplib/sexplib.a'
</I>&gt;<i> '/usr/local/lib/ocaml/nums.a' '/usr/local/lib/ocaml/bigarray.a'
</I>&gt;<i> '/usr/local/lib/ocaml/site-lib/variantslib/variantslib.a'
</I>&gt;<i> '/usr/local/lib/ocaml/threads/threads.a' '/usr/local/lib/ocaml/unix.a'
</I>&gt;<i> '/usr/local/lib/ocaml/stdlib.a' '-lcore' '-lrt' 'lib/libcore.a'
</I>&gt;<i> '-lbin_prot' 'lib/libbin_prot.a' '-lnums' '-lbigarray' '-lthreadsnat'
</I>&gt;<i> '-lpthread' '-lunix' '/usr/local/lib/ocaml/libasmrun.a' -lm &#160;-ldl
</I>&gt;<i> gcc: error: lib/libcore.a: No such file or directory
</I>&gt;<i> gcc: error: lib/libbin_prot.a: No such file or directory
</I>&gt;<i> File &quot;caml_startup&quot;, line 1, characters 0-1:
</I>&gt;<i> Error: Error during linking
</I>&gt;<i> ocamlopt returned with exit code 2
</I>&gt;<i>
</I>&gt;<i> I'm at a bit of a loss as to what to do.
</I>


-- 
Markus Mottl&#160; &#160; &#160; &#160; <A HREF="http://www.ocaml.info&#160;">http://www.ocaml.info&#160;</A> &#160; &#160; &#160; <A HREF="http://lists.ocaml.org/listinfo/core">markus.mottl at gmail.com</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000211.html">license
</A></li>
	<LI>Next message: <A HREF="000218.html">Trouble building my first program
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#215">[ date ]</a>
              <a href="thread.html#215">[ thread ]</a>
              <a href="subject.html#215">[ subject ]</a>
              <a href="author.html#215">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/core">More information about the core
mailing list</a><br>
</body></html>
