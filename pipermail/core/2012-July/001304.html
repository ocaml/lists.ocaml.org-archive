<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [was: [Caml-list] [ANN] oasis v0.3.0: Architecture for building OCaml libraries and applications] Pb with type_conv
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:core%40lists.ocaml.org?Subject=Re%3A%20%5Bwas%3A%20%5BCaml-list%5D%20%5BANN%5D%20oasis%20v0.3.0%3A%20Architecture%20for%20building%0D%0A%20OCaml%20libraries%20and%20applications%5D%20Pb%20with%20type_conv&In-Reply-To=%3CCAPFanBFvYahCvzv_XiDE3qSHycFXN8on-HyDrwB8jsqyY%2BJBgQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000414.html">
   <LINK REL="Next"  HREF="001316.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[was: [Caml-list] [ANN] oasis v0.3.0: Architecture for building OCaml libraries and applications] Pb with type_conv</H1>
    <B>Gabriel Scherer</B> 
    <A HREF="mailto:core%40lists.ocaml.org?Subject=Re%3A%20%5Bwas%3A%20%5BCaml-list%5D%20%5BANN%5D%20oasis%20v0.3.0%3A%20Architecture%20for%20building%0D%0A%20OCaml%20libraries%20and%20applications%5D%20Pb%20with%20type_conv&In-Reply-To=%3CCAPFanBFvYahCvzv_XiDE3qSHycFXN8on-HyDrwB8jsqyY%2BJBgQ%40mail.gmail.com%3E"
       TITLE="[was: [Caml-list] [ANN] oasis v0.3.0: Architecture for building OCaml libraries and applications] Pb with type_conv">gabriel.scherer at gmail.com
       </A><BR>
    <I>Mon Jul  2 14:01:12 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="000414.html">[was: [Caml-list] [ANN] oasis v0.3.0: Architecture for building OCaml libraries and applications] Pb with type_conv
</A></li>
        <LI>Next message: <A HREF="001316.html">[was: [Caml-list] [ANN] oasis v0.3.0: Architecture for building OCaml libraries and applications] Pb with type_conv
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1304">[ date ]</a>
              <a href="thread.html#1304">[ thread ]</a>
              <a href="subject.html#1304">[ subject ]</a>
              <a href="author.html#1304">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
I react to &quot;the @ issue on Windows&quot;, because I'm the one to blame in this case.

This was discussed on the OCaml bug tracker (
<A HREF="http://caml.inria.fr/mantis/view.php?id=5312">http://caml.inria.fr/mantis/view.php?id=5312</A> ) and later on the Caml
mailing-list ( <A HREF="http://www.mail-archive.com/caml-list@inria.fr/msg01993.html">http://www.mail-archive.com/caml-list@inria.fr/msg01993.html</A>
), and it was decided to remove support for @responsefiles from OCaml
to solve that conflict with the warning specification syntax.

Fate assigned the bug to me, but I've been busy with other things and
have not implemented it (if someone wants to help on this, feel
free!). As we're late in the release process, I don't think it would
go in for 4.00, so the best bet for now is to consider this warning
specification unportable and use -warn-error instead.

I welcome feedback on such issues on the bugtracker or mailing-list;
feedback helps setting good priorities.
Sorry for not taking care of this earlier.

On Mon, Jul 2, 2012 at 11:18 AM, Sylvain Le Gall &lt;<A HREF="http://lists.ocaml.org/listinfo/core">sylvain at le-gall.net</A>&gt; wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> 2012/7/2 Daniel B&#252;nzli &lt;<A HREF="http://lists.ocaml.org/listinfo/core">daniel.buenzli at erratique.ch</A>&gt;:
</I>&gt;&gt;<i> Hello,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Trying to install with odb.ml and ocaml 4.00.0+beta2, with
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ocaml odb.ml --unstable oasis
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> But typeconv fails with [1]. Is there a magic invocation to override that warnings are errors flag ?
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I think Jane Street Core team added the &quot;-w @Aemr-28&quot; flags. They did
</I>&gt;<i> it in myocamlbuild.ml section not managed by OASIS. The only solution
</I>&gt;<i> is to change by hand.
</I>&gt;<i>
</I>&gt;<i> I CC the core mailing list which will provide you more information
</I>&gt;<i> about this issue (I have the same kind of issue because of &quot;@&quot; on
</I>&gt;<i> Windows).
</I>&gt;<i>
</I>&gt;&gt;<i> Thanks,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Daniel
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> [1]
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Configuration:
</I>&gt;&gt;<i> ocamlfind: ........................................... /usr/local/bin/ocamlfind
</I>&gt;&gt;<i> ocamlc: .............................................. /usr/local/bin/ocamlc.opt
</I>&gt;&gt;<i> ocamlopt: ............................................ /usr/local/bin/ocamlopt.opt
</I>&gt;&gt;<i> ocamlbuild: .......................................... /usr/local/bin/ocamlbuild
</I>&gt;&gt;<i> Package name: ........................................ type_conv
</I>&gt;&gt;<i> Package version: ..................................... 108.00.01
</I>&gt;&gt;<i> os_type: ............................................. Unix
</I>&gt;&gt;<i> system: .............................................. macosx
</I>&gt;&gt;<i> architecture: ........................................ amd64
</I>&gt;&gt;<i> ccomp_type: .......................................... cc
</I>&gt;&gt;<i> ocaml_version: ....................................... 4.00.0
</I>&gt;&gt;<i> standard_library_default: ............................ /usr/local/lib/ocaml
</I>&gt;&gt;<i> standard_library: .................................... /usr/local/lib/ocaml
</I>&gt;&gt;<i> standard_runtime: .................................... /usr/local/bin/ocamlrun
</I>&gt;&gt;<i> bytecomp_c_compiler: ................................. gcc -fno-defer-pop -Wall -D_FILE_OFFSET_BITS=64 -D_REENTRANT
</I>&gt;&gt;<i> native_c_compiler: ................................... gcc -D_FILE_OFFSET_BITS=64 -D_REENTRANT
</I>&gt;&gt;<i> model: ............................................... default
</I>&gt;&gt;<i> ext_obj: ............................................. .o
</I>&gt;&gt;<i> ext_asm: ............................................. .s
</I>&gt;&gt;<i> ext_lib: ............................................. .a
</I>&gt;&gt;<i> ext_dll: ............................................. .so
</I>&gt;&gt;<i> default_executable_name: ............................. a.out
</I>&gt;&gt;<i> systhread_supported: ................................. true
</I>&gt;&gt;<i> Install architecture-independent files dir: .......... /Users/dbuenzli/.odb
</I>&gt;&gt;<i> Install architecture-dependent files in dir: ......... $prefix
</I>&gt;&gt;<i> User executables: .................................... $exec_prefix/bin
</I>&gt;&gt;<i> System admin executables: ............................ $exec_prefix/sbin
</I>&gt;&gt;<i> Program executables: ................................. $exec_prefix/libexec
</I>&gt;&gt;<i> Read-only single-machine data: ....................... $prefix/etc
</I>&gt;&gt;<i> Modifiable architecture-independent data: ............ $prefix/com
</I>&gt;&gt;<i> Modifiable single-machine data: ...................... $prefix/var
</I>&gt;&gt;<i> Object code libraries: ............................... $exec_prefix/lib
</I>&gt;&gt;<i> Read-only arch-independent data root: ................ $prefix/share
</I>&gt;&gt;<i> Read-only architecture-independent data: ............. $datarootdir
</I>&gt;&gt;<i> Info documentation: .................................. $datarootdir/info
</I>&gt;&gt;<i> Locale-dependent data: ............................... $datarootdir/locale
</I>&gt;&gt;<i> Man documentation: ................................... $datarootdir/man
</I>&gt;&gt;<i> Documentation root: .................................. $datarootdir/doc/$pkg_name
</I>&gt;&gt;<i> HTML documentation: .................................. $docdir
</I>&gt;&gt;<i> DVI documentation: ................................... $docdir
</I>&gt;&gt;<i> PDF documentation: ................................... $docdir
</I>&gt;&gt;<i> PS documentation: .................................... $docdir
</I>&gt;&gt;<i> findlib_version: ..................................... 1.3.2
</I>&gt;&gt;<i> is_native: ........................................... true
</I>&gt;&gt;<i> suffix_program: ......................................
</I>&gt;&gt;<i> Remove a file.: ...................................... rm -f
</I>&gt;&gt;<i> Remove a directory.: ................................. rm -rf
</I>&gt;&gt;<i> Turn ocaml debug flag on: ............................ true
</I>&gt;&gt;<i> Turn ocaml profile flag on: .......................... false
</I>&gt;&gt;<i> Compiler support generation of .cmxs.: ............... true
</I>&gt;&gt;<i> OCamlbuild additional flags: .........................
</I>&gt;&gt;<i> Create documentations: ............................... true
</I>&gt;&gt;<i> Compile tests executable and library and run them: ... false
</I>&gt;&gt;<i> camlp4o: ............................................. /usr/local/bin/camlp4o
</I>&gt;&gt;<i> pkg_camlp4_quotations: ............................... /usr/local/lib/ocaml/camlp4
</I>&gt;&gt;<i> pkg_camlp4_extend: ................................... /usr/local/lib/ocaml/camlp4
</I>&gt;&gt;<i> ocamldoc: ............................................ /usr/local/bin/ocamldoc
</I>&gt;&gt;<i> Finished, 1 target (0 cached) in 00:00:00.
</I>&gt;&gt;<i> getconf: no such configuration parameter `LFS64_CFLAGS'
</I>&gt;&gt;<i> + ocamlfind ocamlc -c -g -w @Aemr-28 -strict-sequence -package camlp4.quotations -package camlp4.extend -syntax camlp4o -I lib -o lib/pa_type_conv.cmo lib/pa_type_conv.ml
</I>&gt;&gt;<i> File &quot;lib/pa_type_conv.ml&quot;, line 275, characters 19-1267:
</I>&gt;&gt;<i> Warning 8: this pattern-matching is not exhaustive.
</I>&gt;&gt;<i> Here is an example of a value that is not matched:
</I>&gt;&gt;<i> (TyTypePol (_, _, _)|TyAnP _|TyAnM _)
</I>&gt;&gt;<i> File &quot;lib/pa_type_conv.ml&quot;, line 4, characters 0-11:
</I>&gt;&gt;<i> Warning 33: unused open Lexing.
</I>&gt;&gt;<i> File &quot;lib/pa_type_conv.ml&quot;, line 12, characters 4-8:
</I>&gt;&gt;<i> Warning 32: unused value both.
</I>&gt;&gt;<i> File &quot;lib/pa_type_conv.ml&quot;, line 1:
</I>&gt;&gt;<i> Error: Error-enabled warnings (3 occurrences)
</I>&gt;&gt;<i> Command exited with code 2.
</I>&gt;&gt;<i> Compilation unsuccessful after building 4 targets (0 cached) in 00:00:01.
</I>&gt;&gt;<i> E: Failure(&quot;Command '/usr/local/bin/ocamlbuild lib/pa_type_conv.cma -tag debug' terminated with error code 10&quot;)
</I>&gt;&gt;<i> Exception: Failure &quot;Could not build type_conv&quot;.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Caml-list mailing list.  Subscription management and archives:
</I>&gt;<i> <A HREF="https://sympa-roc.inria.fr/wws/info/caml-list">https://sympa-roc.inria.fr/wws/info/caml-list</A>
</I>&gt;<i> Beginner's list: <A HREF="http://groups.yahoo.com/group/ocaml_beginners">http://groups.yahoo.com/group/ocaml_beginners</A>
</I>&gt;<i> Bug reports: <A HREF="http://caml.inria.fr/bin/caml-bugs">http://caml.inria.fr/bin/caml-bugs</A>
</I>&gt;<i>
</I>
-- 
Caml-list mailing list.  Subscription management and archives:
<A HREF="https://sympa-roc.inria.fr/wws/info/caml-list">https://sympa-roc.inria.fr/wws/info/caml-list</A>
Beginner's list: <A HREF="http://groups.yahoo.com/group/ocaml_beginners">http://groups.yahoo.com/group/ocaml_beginners</A>
Bug reports: <A HREF="http://caml.inria.fr/bin/caml-bugs">http://caml.inria.fr/bin/caml-bugs</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000414.html">[was: [Caml-list] [ANN] oasis v0.3.0: Architecture for building OCaml libraries and applications] Pb with type_conv
</A></li>
	<LI>Next message: <A HREF="001316.html">[was: [Caml-list] [ANN] oasis v0.3.0: Architecture for building OCaml libraries and applications] Pb with type_conv
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1304">[ date ]</a>
              <a href="thread.html#1304">[ thread ]</a>
              <a href="subject.html#1304">[ subject ]</a>
              <a href="author.html#1304">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/core">More information about the core
mailing list</a><br>
</body></html>
