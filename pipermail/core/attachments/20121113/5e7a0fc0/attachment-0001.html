<tt>
On&nbsp;Tuesday,&nbsp;November&nbsp;13,&nbsp;2012&nbsp;6:34:05&nbsp;PM&nbsp;UTC+9,&nbsp;David&nbsp;House&nbsp;wrote:&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0;margin-left:&nbsp;0.8ex;border-left:&nbsp;1px&nbsp;#ccc&nbsp;solid;padding-left:&nbsp;1ex;&quot;&gt;Also,&nbsp;there&nbsp;is&nbsp;a&nbsp;function&nbsp;for&nbsp;logging&nbsp;fatal&nbsp;errors.&nbsp;It's&nbsp;called&nbsp;failwith&nbsp;:)<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;failwith&nbsp;messages&nbsp;do&nbsp;not&nbsp;come&nbsp;with&nbsp;a&nbsp;timestamp.&nbsp;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0;margin-left:&nbsp;0.8ex;border-left:&nbsp;1px&nbsp;#ccc&nbsp;solid;padding-left:&nbsp;1ex;&quot;&gt;<br>
&lt;br&gt;On&nbsp;Tue,&nbsp;Nov&nbsp;13,&nbsp;2012&nbsp;at&nbsp;9:27&nbsp;AM,&nbsp;Malcolm&nbsp;Matalka&nbsp;&lt;&lt;a&nbsp;href=&quot;javascript:&quot;&nbsp;target=&quot;_blank&quot;&nbsp;gdf-obfuscated-mailto=&quot;1fpbFRNr6OUJ&quot;&gt;mmat...@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:<br>
&lt;br&gt;&gt;&nbsp;I&nbsp;agree&nbsp;with&nbsp;David.&nbsp;&nbsp;The&nbsp;current&nbsp;logger&nbsp;I&nbsp;am&nbsp;using&nbsp;at&nbsp;work&nbsp;as&nbsp;5&nbsp;or&nbsp;6&nbsp;log<br>
&lt;br&gt;&gt;&nbsp;levels&nbsp;and&nbsp;I&nbsp;have&nbsp;found&nbsp;little&nbsp;value&nbsp;in&nbsp;it.&nbsp;&nbsp;I&nbsp;think&nbsp;'fatal'&nbsp;is<br>
&lt;br&gt;&gt;&nbsp;especially&nbsp;devilish&nbsp;since,&nbsp;in&nbsp;such&nbsp;a&nbsp;situation,&nbsp;your&nbsp;monitoring&nbsp;tools<br>
&lt;br&gt;&gt;&nbsp;should&nbsp;be&nbsp;the&nbsp;ones&nbsp;determining&nbsp;that.<br>
&lt;br&gt;&gt;<br>
&lt;br&gt;&gt;&nbsp;/M<br>
&lt;br&gt;&gt;<br>
&lt;br&gt;&gt;&nbsp;David&nbsp;House&nbsp;&lt;&lt;a&nbsp;href=&quot;javascript:&quot;&nbsp;target=&quot;_blank&quot;&nbsp;gdf-obfuscated-mailto=&quot;1fpbFRNr6OUJ&quot;&gt;dho...@janestreet.com&lt;/a&gt;&gt;&nbsp;writes:<br>
&lt;br&gt;&gt;<br>
&lt;br&gt;&gt;&gt;&nbsp;Hmm,&nbsp;I&nbsp;am&nbsp;surprised&nbsp;you&nbsp;want&nbsp;so&nbsp;many!<br>
&lt;br&gt;&gt;&gt;<br>
&lt;br&gt;&gt;&gt;&nbsp;I&nbsp;claim&nbsp;there&nbsp;is&nbsp;a&nbsp;cost&nbsp;in&nbsp;allowing&nbsp;tons&nbsp;and&nbsp;tons&nbsp;of&nbsp;different&nbsp;log<br>
&lt;br&gt;&gt;&gt;&nbsp;levels.&nbsp;Firstly,&nbsp;it&nbsp;complicates&nbsp;the&nbsp;interface.&nbsp;Secondly,&nbsp;it&nbsp;leads&nbsp;to<br>
&lt;br&gt;&gt;&gt;&nbsp;different&nbsp;applications&nbsp;choosing&nbsp;different&nbsp;logging&nbsp;levels&nbsp;for<br>
&lt;br&gt;&gt;&gt;&nbsp;essentially&nbsp;the&nbsp;same&nbsp;errors.&nbsp;E.g.&nbsp;how&nbsp;do&nbsp;you&nbsp;choose&nbsp;whether&nbsp;some<br>
&lt;br&gt;&gt;&gt;&nbsp;particular&nbsp;failure&nbsp;is&nbsp;an&nbsp;error,&nbsp;or&nbsp;a&nbsp;fatal?&nbsp;Isn't&nbsp;it&nbsp;likely&nbsp;that<br>
&lt;br&gt;&gt;&gt;&nbsp;someone&nbsp;else&nbsp;will&nbsp;make&nbsp;a&nbsp;different&nbsp;choice?&nbsp;There&nbsp;are&nbsp;lines&nbsp;that&nbsp;you<br>
&lt;br&gt;&gt;&gt;&nbsp;can&nbsp;draw,&nbsp;but&nbsp;it's&nbsp;a&nbsp;big&nbsp;grey&nbsp;area.&nbsp;Having&nbsp;fewer&nbsp;choices&nbsp;means&nbsp;that<br>
&lt;br&gt;&gt;&gt;&nbsp;everyone's&nbsp;programs&nbsp;are&nbsp;more&nbsp;consistent&nbsp;with&nbsp;respect&nbsp;to&nbsp;each&nbsp;other.<br>
&lt;br&gt;&gt;&gt;<br>
&lt;br&gt;&gt;&gt;&nbsp;Putting&nbsp;it&nbsp;another&nbsp;way:&nbsp;three&nbsp;logging&nbsp;levels&nbsp;should&nbsp;be&nbsp;enough&nbsp;for&nbsp;anyone!&nbsp;:)<br>
&lt;br&gt;&gt;&gt;<br>
&lt;br&gt;&gt;&gt;&nbsp;On&nbsp;Tue,&nbsp;Nov&nbsp;13,&nbsp;2012&nbsp;at&nbsp;8:02&nbsp;AM,&nbsp;Francois&nbsp;Berenger<br>
&lt;br&gt;&gt;&gt;&nbsp;&lt;&lt;a&nbsp;href=&quot;javascript:&quot;&nbsp;target=&quot;_blank&quot;&nbsp;gdf-obfuscated-mailto=&quot;1fpbFRNr6OUJ&quot;&gt;francois.ber...@&lt;wbr&gt;gmail.com&lt;/a&gt;&gt;&nbsp;wrote:<br>
&lt;br&gt;&gt;&gt;&gt;&nbsp;The&nbsp;choice&nbsp;in&nbsp;log&nbsp;levels&nbsp;is&nbsp;a&nbsp;little&nbsp;scarce.<br>
&lt;br&gt;&gt;&gt;&gt;<br>
&lt;br&gt;&gt;&gt;&gt;&nbsp;Currently:<br>
&lt;br&gt;&gt;&gt;&gt;&nbsp;raw&nbsp;(I&nbsp;don't&nbsp;know&nbsp;it's&nbsp;level,&nbsp;I&nbsp;guess&nbsp;it's&nbsp;always&nbsp;printed&nbsp;but&nbsp;I&nbsp;may&nbsp;be<br>
&lt;br&gt;&gt;&gt;&gt;&nbsp;wrong)<br>
&lt;br&gt;&gt;&gt;&gt;&nbsp;then,&nbsp;ordered&nbsp;by&nbsp;my&nbsp;intuitive&nbsp;notion&nbsp;of&nbsp;log&nbsp;priority:<br>
&lt;br&gt;&gt;&gt;&gt;&nbsp;debug&nbsp;&lt;&nbsp;info&nbsp;&lt;&nbsp;error<br>
&lt;br&gt;&gt;&gt;&gt;<br>
&lt;br&gt;&gt;&gt;&gt;&nbsp;I'm&nbsp;used&nbsp;to:<br>
&lt;br&gt;&gt;&gt;&gt;&nbsp;debug&nbsp;&lt;&nbsp;info&nbsp;&lt;&nbsp;warn&nbsp;&lt;&nbsp;error&nbsp;&lt;&nbsp;fatal<br>
&lt;br&gt;&gt;&gt;&gt;<br>
&lt;br&gt;&gt;&gt;&gt;&nbsp;So,&nbsp;I&nbsp;miss&nbsp;the&nbsp;warning&nbsp;and&nbsp;fatal&nbsp;log&nbsp;levels.<br>
&lt;br&gt;&gt;&gt;&gt;&nbsp;But,&nbsp;that's&nbsp;just&nbsp;based&nbsp;on&nbsp;my&nbsp;experience.<br>
&lt;br&gt;&gt;&gt;&gt;<br>
&lt;br&gt;&gt;&gt;&gt;&nbsp;Regards,<br>
&lt;br&gt;&gt;&gt;&gt;&nbsp;F.<br>
&lt;br&gt;&gt;&gt;&gt;<br>
&lt;br&gt;&gt;&gt;&gt;<br>
&lt;br&gt;&gt;&gt;&gt;&nbsp;On&nbsp;Thursday,&nbsp;November&nbsp;8,&nbsp;2012&nbsp;7:13:25&nbsp;PM&nbsp;UTC+9,&nbsp;David&nbsp;House&nbsp;wrote:<br>
&lt;br&gt;&gt;&gt;&gt;&gt;<br>
&lt;br&gt;&gt;&gt;&gt;&gt;&nbsp;On&nbsp;Thu,&nbsp;Nov&nbsp;8,&nbsp;2012&nbsp;at&nbsp;3:48&nbsp;AM,&nbsp;Francois<br>
&lt;br&gt;&gt;&gt;&gt;&gt;&nbsp;&lt;&lt;a&gt;francois.b...@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:<br>
&lt;br&gt;&gt;&gt;&gt;&gt;&nbsp;&gt;&nbsp;I&nbsp;don't&nbsp;know&nbsp;where&nbsp;to&nbsp;find&nbsp;never_returns.<br>
&lt;br&gt;&gt;&gt;&gt;&gt;<br>
&lt;br&gt;&gt;&gt;&gt;&gt;&nbsp;It's&nbsp;there&nbsp;if&nbsp;you&nbsp;open&nbsp;Core.Std.<br>
&lt;br&gt;&gt;&gt;&gt;&gt;<br>
&lt;br&gt;&gt;&gt;&gt;&gt;&nbsp;&gt;&nbsp;But&nbsp;the&nbsp;following&nbsp;did&nbsp;work&nbsp;(and&nbsp;never&nbsp;stop):<br>
&lt;br&gt;&gt;&gt;&gt;&gt;<br>
&lt;br&gt;&gt;&gt;&gt;&gt;&nbsp;You&nbsp;need&nbsp;to&nbsp;explicitly&nbsp;shut&nbsp;down&nbsp;async&nbsp;using&nbsp;the&nbsp;shutdown&nbsp;function&nbsp;in<br>
&lt;br&gt;&gt;&gt;&gt;&gt;&nbsp;Async.Std.<br>
&lt;br&gt;&gt;&gt;&gt;&gt;<br>
&lt;br&gt;&gt;&gt;&gt;&gt;&nbsp;&gt;&nbsp;I'm&nbsp;affraid&nbsp;of&nbsp;open&nbsp;directives,&nbsp;I&nbsp;try&nbsp;to&nbsp;keep&nbsp;my&nbsp;code&nbsp;_very_&nbsp;explicit<br>
&lt;br&gt;&gt;&gt;&gt;&gt;&nbsp;&gt;&nbsp;about&nbsp;what&nbsp;it&nbsp;is&nbsp;doing&nbsp;and&nbsp;which&nbsp;function&nbsp;from&nbsp;which&nbsp;module&nbsp;is&nbsp;used<br>
&lt;br&gt;&gt;&gt;&gt;&gt;&nbsp;&gt;&nbsp;(maybe&nbsp;because&nbsp;of&nbsp;past&nbsp;overexposure&nbsp;to&nbsp;some&nbsp;C++&nbsp;code).<br>
&lt;br&gt;&gt;&gt;&gt;&gt;<br>
&lt;br&gt;&gt;&gt;&gt;&gt;&nbsp;I&nbsp;think&nbsp;that's&nbsp;exactly&nbsp;the&nbsp;right&nbsp;approach&nbsp;--&nbsp;I&nbsp;often&nbsp;find&nbsp;myself<br>
&lt;br&gt;&gt;&gt;&gt;&gt;&nbsp;making&nbsp;similar&nbsp;comments&nbsp;when&nbsp;doing&nbsp;code&nbsp;review&nbsp;at&nbsp;work.&nbsp;Things&nbsp;are<br>
&lt;br&gt;&gt;&gt;&gt;&gt;&nbsp;much&nbsp;easier&nbsp;to&nbsp;follow&nbsp;if&nbsp;opens&nbsp;are&nbsp;reduced,&nbsp;or&nbsp;made&nbsp;more&nbsp;local,&nbsp;and<br>
&lt;br&gt;&gt;&gt;&gt;&gt;&nbsp;more&nbsp;explicit.<br>
&lt;br&gt;&gt;&gt;&gt;&gt;<br>
&lt;br&gt;&gt;&gt;&gt;&gt;&nbsp;That&nbsp;being&nbsp;said,&nbsp;I&nbsp;do&nbsp;allow&nbsp;myself&nbsp;the&nbsp;luxury&nbsp;of&nbsp;opening&nbsp;Core.Std&nbsp;and<br>
&lt;br&gt;&gt;&gt;&gt;&gt;&nbsp;Async.Std&nbsp;in&nbsp;most&nbsp;of&nbsp;my&nbsp;modules&nbsp;that&nbsp;use&nbsp;core&nbsp;/&nbsp;async.&nbsp;I&nbsp;find&nbsp;this&nbsp;to<br>
&lt;br&gt;&gt;&gt;&gt;&gt;&nbsp;strike&nbsp;a&nbsp;good&nbsp;balance&nbsp;between&nbsp;concision&nbsp;and&nbsp;explicitness.<br>
&lt;br&gt;&gt;&gt;&gt;&gt;<br>
&lt;br&gt;&gt;&gt;&gt;&gt;&nbsp;One&nbsp;of&nbsp;the&nbsp;reasons&nbsp;is&nbsp;that&nbsp;there&nbsp;are&nbsp;very&nbsp;few&nbsp;*values*&nbsp;brought&nbsp;into<br>
&lt;br&gt;&gt;&gt;&gt;&gt;&nbsp;scope&nbsp;by&nbsp;opening&nbsp;Core.Std&nbsp;and&nbsp;Async.Std.&nbsp;This&nbsp;conversation&nbsp;has&nbsp;contain<br>
&lt;br&gt;&gt;&gt;&gt;&gt;&nbsp;disproportionally&nbsp;many:&nbsp;never_returns,&nbsp;shutdown,&nbsp;etc.&nbsp;--&nbsp;an&nbsp;unlucky<br>
&lt;br&gt;&gt;&gt;&gt;&gt;&nbsp;coincidence!&nbsp;But&nbsp;nearly&nbsp;everything&nbsp;is&nbsp;squirreled&nbsp;away&nbsp;inside&nbsp;a&nbsp;module,<br>
&lt;br&gt;&gt;&gt;&gt;&gt;&nbsp;which&nbsp;helps&nbsp;a&nbsp;lot.&nbsp;(In&nbsp;other&nbsp;words,&nbsp;our&nbsp;&quot;Pervasives&quot;&nbsp;is&nbsp;much&nbsp;smaller<br>
&lt;br&gt;&gt;&gt;&gt;&gt;&nbsp;than&nbsp;the&nbsp;ocaml&nbsp;standard&nbsp;library's.)<br>
&lt;br&gt;&lt;/blockquote&gt;
</tt>
