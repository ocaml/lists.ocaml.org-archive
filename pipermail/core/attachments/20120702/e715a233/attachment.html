<tt>
Hello!&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;implemented&nbsp;an&nbsp;Erlang-like&nbsp;gen&nbsp;server&nbsp;in&nbsp;Async&nbsp;and&nbsp;was&nbsp;hoping&nbsp;someone&nbsp;familiar&nbsp;with&nbsp;Core&nbsp;might&nbsp;provide&nbsp;some&nbsp;feedback.&nbsp; Is&nbsp;the&nbsp;code&nbsp;good?&nbsp; Is&nbsp;the&nbsp;idea&nbsp;good?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;code&nbsp;is&nbsp;here:&lt;/div&gt;<br>
&lt;div&gt;&lt;a&nbsp;href=&quot;https://github.com/orbitz/web_typed/blob/master/libs/ort_async/gen_server.ml&quot;&gt;https://github.com/orbitz/web_typed/blob/master/libs/ort_async/gen_server.ml&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;And&nbsp;an&nbsp;example&nbsp;is&nbsp;here:&lt;/div&gt;<br>
&lt;div&gt;&lt;a&nbsp;href=&quot;https://github.com/orbitz/web_typed/blob/master/libs/ort_async/gen_server_test.ml&quot;&gt;https://github.com/orbitz/web_typed/blob/master/libs/ort_async/gen_server_test.ml&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;One&nbsp;thing&nbsp;that&nbsp;I&nbsp;do&nbsp;not&nbsp;like&nbsp;about&nbsp;this&nbsp;is&nbsp;the&nbsp;init&nbsp;function.&nbsp; The&nbsp;problem&nbsp;is:&lt;/div&gt;<br>
&lt;div&gt;I&nbsp;want&nbsp;the&nbsp;init&nbsp;function&nbsp;to&nbsp;get&nbsp;a&nbsp;reference&nbsp;to&nbsp;itself&nbsp;so&nbsp;it&nbsp;can&nbsp;create&nbsp;other&nbsp;services&nbsp;and&nbsp;give&nbsp;itself&nbsp;to&nbsp;that&nbsp;service.&nbsp; The&nbsp;problem&nbsp;is,&nbsp;the&nbsp;type&nbsp;that&nbsp;represents&nbsp;the&nbsp;server&nbsp;doesn&#39;t&nbsp;exist&nbsp;when&nbsp;the&nbsp;init&nbsp;function&nbsp;is&nbsp;defined&nbsp;so&nbsp;I&nbsp;can&#39;t&nbsp;pass&nbsp;it&nbsp;a&nbsp;value.&nbsp; Instead&nbsp;I&nbsp;pass&nbsp;it&nbsp;the&nbsp;server&nbsp;stream&nbsp;and&nbsp;exited&nbsp;Ivar,&nbsp;but&nbsp;that&nbsp;is&nbsp;rather&nbsp;ugly&nbsp;since&nbsp;it&nbsp;really&nbsp;breaks&nbsp;the&nbsp;abstraction.&nbsp; Any&nbsp;suggestions?&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thank&nbsp;you.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
