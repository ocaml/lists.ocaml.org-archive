<tt>
&lt;div&gt;It&nbsp;appears&nbsp;Lock_file&nbsp;does&nbsp;not&nbsp;work&nbsp;on&nbsp;OSX.&nbsp; &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;#&nbsp;Lock_file.create&nbsp;&quot;/tmp/a&quot;;;&lt;/div&gt;&lt;div&gt;-&nbsp;:&nbsp;bool&nbsp;=&nbsp;false&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;problem&nbsp;is&nbsp;in&nbsp;the&nbsp;call&nbsp;to&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;<br>
<br>
&lt;div&gt;Unix.lockf&nbsp;fd&nbsp;~mode:Unix.F_TLOCK&nbsp;~len:Int64.zero;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;which&nbsp;always&nbsp;raises&nbsp;an&nbsp;exception.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;Exception:&lt;/div&gt;&lt;div&gt;Unix.Unix_error&nbsp;(Core.Std.Unix.EACCES,&nbsp;&quot;lockf&quot;,&lt;/div&gt;<br>
<br>
&lt;div&gt; &quot;((fd&nbsp;6)&nbsp;(mode&nbsp;F_TEST)&nbsp;(len&nbsp;0))&quot;).&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Unfortunately,&nbsp;this&nbsp;renders&nbsp;the&nbsp;very&nbsp;useful&nbsp;Core_service_command&nbsp;unusable&nbsp;on&nbsp;OSX.&nbsp; &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
