<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> hg &lt;-&gt; git madness
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:core%40lists.ocaml.org?Subject=Re%3A%20hg%20%3C-%3E%20git%20madness&In-Reply-To=%3C20111204100505.GA30045%40dark.recoil.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>hg &lt;-&gt; git madness</H1>
    <B>Anil Madhavapeddy</B> 
    <A HREF="mailto:core%40lists.ocaml.org?Subject=Re%3A%20hg%20%3C-%3E%20git%20madness&In-Reply-To=%3C20111204100505.GA30045%40dark.recoil.org%3E"
       TITLE="hg &lt;-&gt; git madness">anil at recoil.org
       </A><BR>
    <I>Sun Dec  4 10:05:05 GMT 2011</I>
    <P><UL>
        
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#992">[ date ]</a>
              <a href="thread.html#992">[ thread ]</a>
              <a href="subject.html#992">[ subject ]</a>
              <a href="author.html#992">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Sat, Dec 03, 2011 at 12:19:53PM -0500, Yaron Minsky wrote:
&gt;<i> 
</I>&gt;<i> We have no intent on using branches at present (although my
</I>&gt;<i> understanding is that hg bookmarks and git branches are pretty damn
</I>&gt;<i> similar to git branches.)
</I>&gt;<i> 
</I>&gt;<i> Yury was able to get the changes pushed out to git, but hg-git seemed
</I>&gt;<i> pretty flaky.  That said, maybe Yury can describe some of the specific
</I>&gt;<i> issues he ran into.  We definitely want a two-way bridging process, and
</I>&gt;<i> the flakiness of the tool did not give us much confidence.
</I>&gt;<i> 
</I>&gt;<i> Do you think it would be worthwhile doing a purely one-way bridge from
</I>&gt;<i> bitbucket to github, just to make it easier for more people to follow
</I>&gt;<i> along, but to keep serious collaboration to bitbucket?
</I>
Fast-export has normally been what I've used to go in one direction, but
I've never tried hg-git.

The main advantage of github is actually its public workflow. Pull
requests with code review, a decent issue system, an API good enough for
continuous integration (e.g. the xen-api has a buildbot test a pull
request automatically before it is merged [1][2]). 

Bitbucket looks like it has the same features (the same names, anyway), so
should work well enough if that's what you want.

[1] <A HREF="https://github.com/xen-org/xen-api/pull/406">https://github.com/xen-org/xen-api/pull/406</A>
[2] <A HREF="https://github.com/xen-org/pull-request-manager">https://github.com/xen-org/pull-request-manager</A>

&gt;<i> Here's the rough idea.  We have a very big internal repo that has lots of
</I>&gt;<i> code that we don't want to export.  But we do want to share some of that
</I>&gt;<i> code, and make it possible to integrate work from others into our internal
</I>&gt;<i> tree.
</I>
This is the real source of my concern.  A public release needs real users
in order to get it off the ground. If Jane Street is keeping an internal
tree, then that means they aren't using the public release, and feeling
the pain of bugs or a lack of documentation.

Is there any reason not to split out your use of Core into a separate
repository which is suitable for public release, and consumed by your
internal systems?  We did this for Xen via Mercurial patchqueues (held in
a separate repository), to make it clear which the product-local changes
were.

&gt;<i> I agree getting it out there is the most important thing.  That's why we
</I>&gt;<i> got the current version out (although I wouldn't start forking it just
</I>&gt;<i> yet.  I think we're going to strip it clean and regenerate it in the
</I>&gt;<i> next few days to fix a few problems that showed up.)
</I>
Great! Will there be history in the regenerated one? I just see a mega
commit from ysulky at the moment.

-- 
Anil Madhavapeddy                                 <A HREF="http://anil.recoil.org">http://anil.recoil.org</A>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#992">[ date ]</a>
              <a href="thread.html#992">[ thread ]</a>
              <a href="subject.html#992">[ subject ]</a>
              <a href="author.html#992">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/core">More information about the core
mailing list</a><br>
</body></html>
