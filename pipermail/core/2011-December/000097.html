<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> hg &lt;-&gt; git madness
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:core%40lists.ocaml.org?Subject=Re%3A%20hg%20%3C-%3E%20git%20madness&In-Reply-To=%3CCADKNfh%2BjaL4PgFttSbG3F7dZWMDEz3Je96-omneYcdVkFPWcPQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000100.html">
   <LINK REL="Next"  HREF="000098.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>hg &lt;-&gt; git madness</H1>
    <B>Yaron Minsky</B> 
    <A HREF="mailto:core%40lists.ocaml.org?Subject=Re%3A%20hg%20%3C-%3E%20git%20madness&In-Reply-To=%3CCADKNfh%2BjaL4PgFttSbG3F7dZWMDEz3Je96-omneYcdVkFPWcPQ%40mail.gmail.com%3E"
       TITLE="hg &lt;-&gt; git madness">yminsky at gmail.com
       </A><BR>
    <I>Sat Dec  3 17:19:53 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="000100.html">hg &lt;-&gt; git madness
</A></li>
        <LI>Next message: <A HREF="000098.html">hg &lt;-&gt; git madness
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#97">[ date ]</a>
              <a href="thread.html#97">[ thread ]</a>
              <a href="subject.html#97">[ subject ]</a>
              <a href="author.html#97">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, Dec 3, 2011 at 11:11 AM, Anil Madhavapeddy &lt;<A HREF="http://lists.ocaml.org/listinfo/core">anil at recoil.org</A>&gt; wrote:

&gt;<i> On Fri, Dec 02, 2011 at 06:16:52PM -0500, Yaron Minsky wrote:
</I>&gt;<i> &gt; We've done most of the work of bridging from internal to external
</I>&gt;<i> &gt; repos for Core and the related repositories, but we're having a hell
</I>&gt;<i> &gt; of a time converting from hg to git in a clean way.  We're about to
</I>&gt;<i> &gt; give up and just host the repos on bitbucket --- we basically like hg
</I>&gt;<i> &gt; better internally anyway.
</I>&gt;<i>
</I>&gt;<i> Going one way from hg-&gt;git is pretty trivial, so I presume you mean
</I>&gt;<i> two-way? This can be tricky if you're using branches, as they are quite
</I>&gt;<i> different models between hg/git.
</I>

We have no intent on using branches at present (although my understanding
is that hg bookmarks and git branches are pretty damn similar to git
branches.)

Yury was able to get the changes pushed out to git, but hg-git seemed
pretty flaky.  That said, maybe Yury can describe some of the specific
issues he ran into.  We definitely want a two-way bridging process, and the
flakiness of the tool did not give us much confidence.

Do you think it would be worthwhile doing a purely one-way bridge from
bitbucket to github, just to make it easier for more people to follow
along, but to keep serious collaboration to bitbucket?


&gt;<i> &gt; Does anyone on the list care that much?  And if you _really_ care, you
</I>&gt;<i> &gt; can help us build a converter from hg to git....
</I>&gt;<i>
</I>&gt;<i> It would be good to understand what your desired workflow is first, that
</I>&gt;<i> makes it hard.
</I>&gt;<i>
</I>
Here's the rough idea.  We have a very big internal repo that has lots of
code that we don't want to export.  But we do want to share some of that
code, and make it possible to integrate work from others into our internal
tree.

We have a piece of software we call a convert daemon, built on top of the
&quot;hg convert&quot; command, that exports our tree after applying some
transformations (mostly dropping files.)  That is used to create the
repository we just put on bitbucket.  The convert daemon can also pull
changesets back over from that repo.  We hope to be able to coordinate with
people using this tool; pulling patches in from the external repo, and
occasionally choosing an internal snapshot to export.

We'd like to be able to do the same thing while peering with github as
well, but for that, we basically need to be able to pull patches back and
forth between github and hg cleanly.  Perhaps with a bit more hacking we
can get hg-git to work properly, and that will provide an adequate solution.


&gt;<i> However, I'm far more interested in seeing code published and outside
</I>&gt;<i> patches being applied, and less with precisely which VCS is being used. If
</I>&gt;<i> Bitbucket makes your workflow easier, put it up there!
</I>

I agree getting it out there is the most important thing.  That's why we
got the current version out (although I wouldn't start forking it just yet.
 I think we're going to strip it clean and regenerate it in the next few
days to fix a few problems that showed up.)

y
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ocaml.org/pipermail/core/attachments/20111203/5a461d1d/attachment.html">http://lists.ocaml.org/pipermail/core/attachments/20111203/5a461d1d/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000100.html">hg &lt;-&gt; git madness
</A></li>
	<LI>Next message: <A HREF="000098.html">hg &lt;-&gt; git madness
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#97">[ date ]</a>
              <a href="thread.html#97">[ thread ]</a>
              <a href="subject.html#97">[ subject ]</a>
              <a href="author.html#97">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/core">More information about the core
mailing list</a><br>
</body></html>
