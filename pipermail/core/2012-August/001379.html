<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Compose function operator
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:core%40lists.ocaml.org?Subject=Re%3A%20Compose%20function%20operator&In-Reply-To=%3CCAK%3DfH%2Bjzc59ccPkpkxrU%2BoG0_1qUsO_jiQ5rOZchn-Jr%2BVpN9w%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Compose function operator</H1>
    <B>David House</B> 
    <A HREF="mailto:core%40lists.ocaml.org?Subject=Re%3A%20Compose%20function%20operator&In-Reply-To=%3CCAK%3DfH%2Bjzc59ccPkpkxrU%2BoG0_1qUsO_jiQ5rOZchn-Jr%2BVpN9w%40mail.gmail.com%3E"
       TITLE="Compose function operator">dhouse at janestreet.com
       </A><BR>
    <I>Fri Aug 31 17:01:10 BST 2012</I>
    <P><UL>
        
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1379">[ date ]</a>
              <a href="thread.html#1379">[ thread ]</a>
              <a href="subject.html#1379">[ subject ]</a>
              <a href="author.html#1379">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
There is already (|!) which almost does what you want, but in a more
logical order.

I say &quot;almost&quot; since it does not allow you to build up a partially
applied function. But I for one very much dislike Fn.compose in those
scenarios. I think it's generally much clearer to write out the
lambda, since then one is forced to give a name to the variable. E.g.
which is clearer?

  List.map events ~f:(Fn.compose to_string fst)
  List.map events ~f:(fun (kind, _time) -&gt; to_string kind)

The latter code is much more annotated and, to me, clearer as a result.

I know that sometimes writing names is pretty unnecessary, because
it's already clear what the output of a function will be. And in that
case, adding names can just clutter the code and decrease the
information density, making it harder to read. But one can just use
(|!), which as I said makes things appear in a more logical order.

Finally, there is a significant cost for any new infix operator. If
that thing is not used all the time, it is very obscure and makes code
quite opaque.

On Fri, Aug 31, 2012 at 4:48 PM, Vladimir Brankov &lt;<A HREF="http://lists.ocaml.org/listinfo/core">brankovv at gmail.com</A>&gt; wrote:
&gt;<i> As far as I can tell, the only way to compose functions is Fn.compose.  Why
</I>&gt;<i> not having an operator as well?  It's easier to say:
</I>&gt;<i>
</I>&gt;<i>     f1 |- f2 |- f3
</I>&gt;<i>
</I>&gt;<i> than
</I>&gt;<i>
</I>&gt;<i>     compose (compose f1 f2) f3
</I>&gt;<i>
</I>&gt;<i> Also, I see that Batteries has some other interesting function composition
</I>&gt;<i> operators.  I don't have any use for it now, but we may want to think about
</I>&gt;<i> it.
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://batteries.forge.ocamlcore.org/doc.preview:batteries-beta1/html/api/Standard.html">http://batteries.forge.ocamlcore.org/doc.preview:batteries-beta1/html/api/Standard.html</A>
</I>
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1379">[ date ]</a>
              <a href="thread.html#1379">[ thread ]</a>
              <a href="subject.html#1379">[ subject ]</a>
              <a href="author.html#1379">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/core">More information about the core
mailing list</a><br>
</body></html>
