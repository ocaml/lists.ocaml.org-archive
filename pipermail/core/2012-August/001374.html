<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Compose function operator
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:core%40lists.ocaml.org?Subject=Re%3A%20Compose%20function%20operator&In-Reply-To=%3CCAO4dZbdSdmNtEFX1TMXQsRND-1otet12vXO%2BXZ3K2u1LEVo%2BTw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000490.html">
   <LINK REL="Next"  HREF="001375.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Compose function operator</H1>
    <B>Sean McLaughlin</B> 
    <A HREF="mailto:core%40lists.ocaml.org?Subject=Re%3A%20Compose%20function%20operator&In-Reply-To=%3CCAO4dZbdSdmNtEFX1TMXQsRND-1otet12vXO%2BXZ3K2u1LEVo%2BTw%40mail.gmail.com%3E"
       TITLE="Compose function operator">seanmcl at gmail.com
       </A><BR>
    <I>Fri Aug 31 17:13:45 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="000490.html">Compose function operator
</A></li>
        <LI>Next message: <A HREF="001375.html">Compose function operator
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1374">[ date ]</a>
              <a href="thread.html#1374">[ thread ]</a>
              <a href="subject.html#1374">[ subject ]</a>
              <a href="author.html#1374">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i>
</I>&gt;<i> Finally, there is a significant cost for any new infix operator. If
</I>&gt;<i> that thing is not used all the time, it is very obscure and makes code
</I>&gt;<i> quite opaque.
</I>&gt;<i>
</I>
Function composition seems fundamental, and has built-in operators in SML
and Haskell.  I don't see a great reason why we don't have one in ocaml.
I personally think composition in Haskell can make code more clear (and
beautiful, if we're using aesthetics as some kind of metric as above.)

One major problem with composition in SML (also ocaml), is that the value
restriction prevents useful composition of pure functions.

$ sml
Standard ML of New Jersey v110.74 [built: Tue Jan 31 16:23:10 2012]
- fun id x = x
val id = fn : 'a -&gt; 'a
- id o id;
stdIn:3.1-3.8 Warning: type vars not generalized because of
   value restriction are instantiated to dummy types (X1,X2,...)
val it = fn : ?.X1 -&gt; ?.X1

Thus it's not nearly as useful as in Haskell.  You could imagine always
wrapping compositions in a big lambda

- fn x =&gt; (id o id o id o id) x;
val it = fn : 'a -&gt; 'a

but this pretty much defeats the purpose if you have |!
fun x -&gt; x |! id |! id |! id |! id

 On Fri, Aug 31, 2012 at 4:48 PM, Vladimir Brankov &lt;<A HREF="http://lists.ocaml.org/listinfo/core">brankovv at gmail.com</A>&gt;
&gt;<i> wrote:
</I>&gt;<i> &gt; As far as I can tell, the only way to compose functions is Fn.compose.
</I>&gt;<i>  Why
</I>&gt;<i> &gt; not having an operator as well?  It's easier to say:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     f1 |- f2 |- f3
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; than
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     compose (compose f1 f2) f3
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Also, I see that Batteries has some other interesting function
</I>&gt;<i> composition
</I>&gt;<i> &gt; operators.  I don't have any use for it now, but we may want to think
</I>&gt;<i> about
</I>&gt;<i> &gt; it.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> <A HREF="http://batteries.forge.ocamlcore.org/doc.preview:batteries-beta1/html/api/Standard.html">http://batteries.forge.ocamlcore.org/doc.preview:batteries-beta1/html/api/Standard.html</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ocaml.org/pipermail/core/attachments/20120831/e4a48792/attachment-0001.html">http://lists.ocaml.org/pipermail/core/attachments/20120831/e4a48792/attachment-0001.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000490.html">Compose function operator
</A></li>
	<LI>Next message: <A HREF="001375.html">Compose function operator
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1374">[ date ]</a>
              <a href="thread.html#1374">[ thread ]</a>
              <a href="subject.html#1374">[ subject ]</a>
              <a href="author.html#1374">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/core">More information about the core
mailing list</a><br>
</body></html>
