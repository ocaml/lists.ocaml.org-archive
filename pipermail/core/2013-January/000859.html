<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Contributing bug fixes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:core%40lists.ocaml.org?Subject=Re%3A%20Contributing%20bug%20fixes&In-Reply-To=%3CCACLX4jRNkUiCtQNdSdNALxhfVRQHuE-xXiTtAo%2BwPRie8umi9A%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000858.html">
   <LINK REL="Next"  HREF="000861.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Contributing bug fixes</H1>
    <B>Yaron Minsky</B> 
    <A HREF="mailto:core%40lists.ocaml.org?Subject=Re%3A%20Contributing%20bug%20fixes&In-Reply-To=%3CCACLX4jRNkUiCtQNdSdNALxhfVRQHuE-xXiTtAo%2BwPRie8umi9A%40mail.gmail.com%3E"
       TITLE="Contributing bug fixes">yminsky at janestreet.com
       </A><BR>
    <I>Tue Jan 22 19:13:51 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000858.html">Contributing bug fixes
</A></li>
        <LI>Next message: <A HREF="000861.html">Contributing bug fixes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#859">[ date ]</a>
              <a href="thread.html#859">[ thread ]</a>
              <a href="subject.html#859">[ subject ]</a>
              <a href="author.html#859">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Tue, Jan 22, 2013 at 11:00 AM, Markus Mottl &lt;<A HREF="http://lists.ocaml.org/listinfo/core">markus.mottl at gmail.com</A>&gt; wrote:
&gt;<i> On Fri, Jan 18, 2013 at 10:04 AM, Yaron Minsky &lt;<A HREF="http://lists.ocaml.org/listinfo/core">yminsky at janestreet.com</A>&gt; wrote:
</I>&gt;&gt;<i> FWIW, Yury went back and looked at the patches in your patchqueue, and
</I>&gt;&gt;<i> we think they're all in (or a version of them is in, anyway) in the
</I>&gt;&gt;<i> latest tarball.  They _haven't_ made it, sadly, into our bitbucket
</I>&gt;&gt;<i> repo, because we roughly gave up on our system for generating that.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Jeremie Dimino is currently working on a new system for exporting
</I>&gt;&gt;<i> releases to bitbucket, and we'll export them to git at the same time.
</I>&gt;<i>
</I>&gt;<i> If this means that there will be a monster patch that contains all
</I>&gt;<i> changes between two releases to Bitbucket, I'd actually be fine with
</I>&gt;<i> this.  It would still be great to have an up-to-date repository rather
</I>&gt;<i> than just tarballs.
</I>
That is the goal.

&gt;&gt;<i> In terms of accepting patches, I think we should probably just start
</I>&gt;&gt;<i> accepting patch submissions over email, on this list.  That's probably
</I>&gt;&gt;<i> the simplest workflow for us.
</I>&gt;<i>
</I>&gt;<i> This is understandable.  There is one downside though: a patch can
</I>&gt;<i> only be relative to a public release, since nobody knows the state of
</I>&gt;<i> your internal repository.  So why not just keep using the patch queue
</I>&gt;<i> with an up-to-date (as in: latest release) public repository?  It
</I>&gt;<i> would help people collaborate on patches, which would be much harder
</I>&gt;<i> if everybody had to read the list to see what patches are currently
</I>&gt;<i> being floated.
</I>
I'm not quite sure how what you're proposing would work.  The thing I
like about an email-based workflow is it's very clear what is being
proposed for inclusion.  I worry about multiple people editing a
patch-queue, and being left uncertain as to which version is really
being proposed.

I think that for collaboration purposes, people could work in an
ordinary hg branch, and then when they're all done, submit a patch
based on a rebase of that branch to the current tip of the public
repo.  That seems more straightforward to me.

&gt;<i> A possible release workflow for you could then be:
</I>&gt;<i>
</I>&gt;<i>   * download patches from public patch queue
</I>&gt;<i>   * apply to your &quot;real&quot; internal tree, i.e. not your clone of the public one
</I>
Maybe, or maybe we would apply it to the same changeset that it was
done against in the public release.  We have some internal tools for
&quot;rebasing&quot; such patches, and it might be cleanest to base it
internally off of the revision it was based off of externally.

&gt;<i>   * review, improve, accept or reject
</I>&gt;<i>   * at release time just completely replace the contents of your
</I>&gt;<i>     clone of the public repository with your newest release
</I>&gt;<i>   * commit and push this &quot;monster patch&quot; to the public repository
</I>&gt;<i>   * Remove all accepted or permanently rejected patches from the patch queue
</I>&gt;<i>
</I>&gt;<i> I don't think people really care that much about the history of the
</I>&gt;<i> public release repository with messy monster patches.  They likely
</I>&gt;<i> just want to make sure their patches can somehow get in.
</I>
Agreed.  And we definitely need to work on that.

Just to be clear, are there any patches that you care about that are
not yet in the release tarballs?  We obviously also need to fix the
repos, but I just want to make sure we're not missing substantive
changes.

y

&gt;&gt;<i> For what it's worth, we've completely redone our internal dev
</I>&gt;&gt;<i> workflow, so that we new have a weekly release cycle for Jane, so we
</I>&gt;&gt;<i> should be able to get these patches through our internal process
</I>&gt;&gt;<i> pretty fast.  We are thinking of making external releases once a
</I>&gt;&gt;<i> month, since the weekly release is more work for us, and probably
</I>&gt;&gt;<i> gives very little benefit to people on the outside.
</I>&gt;<i>
</I>&gt;<i> Sounds great.
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> Markus
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Markus Mottl        <A HREF="http://www.ocaml.info">http://www.ocaml.info</A>        <A HREF="http://lists.ocaml.org/listinfo/core">markus.mottl at gmail.com</A>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000858.html">Contributing bug fixes
</A></li>
	<LI>Next message: <A HREF="000861.html">Contributing bug fixes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#859">[ date ]</a>
              <a href="thread.html#859">[ thread ]</a>
              <a href="subject.html#859">[ subject ]</a>
              <a href="author.html#859">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/core">More information about the core
mailing list</a><br>
</body></html>
