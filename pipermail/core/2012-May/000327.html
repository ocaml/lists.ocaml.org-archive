<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Merging repositories safe?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:core%40lists.ocaml.org?Subject=Re%3A%20Merging%20repositories%20safe%3F&In-Reply-To=%3CCACLX4jT05juoNm%2BLmpiViPv7LvWwhqd2PFALNc_LgH-dOS97DQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000328.html">
   <LINK REL="Next"  HREF="000329.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Merging repositories safe?</H1>
    <B>Yaron Minsky</B> 
    <A HREF="mailto:core%40lists.ocaml.org?Subject=Re%3A%20Merging%20repositories%20safe%3F&In-Reply-To=%3CCACLX4jT05juoNm%2BLmpiViPv7LvWwhqd2PFALNc_LgH-dOS97DQ%40mail.gmail.com%3E"
       TITLE="Merging repositories safe?">yminsky at janestreet.com
       </A><BR>
    <I>Mon May 14 03:57:09 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="000328.html">Merging repositories safe?
</A></li>
        <LI>Next message: <A HREF="000329.html">Merging repositories safe?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#327">[ date ]</a>
              <a href="thread.html#327">[ thread ]</a>
              <a href="subject.html#327">[ subject ]</a>
              <a href="author.html#327">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
For what it's worth, this is for sure an annoying restriction, but it
is pretty hard to work around.

If your changesets are rebased on the tip of our branch, it's always safe.

More generally, if your changesets are descended from a single
revision in our branch, it's safe.

We're going to try to make the turn-around for submissions faster,
which should reduce the pain associated with all of this.  We just
pulled in all of your latest pull request, and if you have more you'd
like to submit, you can add it in and we should be able to get it in
pretty quickly.

We're also on the verge of releasing a tarball that should be MUCH
easier to install.  In particular, you will no longer need to install
Oasis: you can just download a single tarball and install.  We'll also
put out individual tarballs for all the sub-libraries, for those who
wish to pick and choose.

(It's actually on the bitbucket download site now, but I want to put
in a useful README before encouraging people to try it out.  That
should happen tomorrow.)

y

On Sun, May 13, 2012 at 6:32 PM, Markus Mottl &lt;<A HREF="http://lists.ocaml.org/listinfo/core">markus.mottl at gmail.com</A>&gt; wrote:
&gt;<i> Hi Yury,
</I>&gt;<i>
</I>&gt;<i> Let me rephrase that to make sure I understand: if I clone your tree,
</I>&gt;<i> make and commit some changes to my tree, and pull again from you, I
</I>&gt;<i> should never merge if the incoming changesets contain one of your
</I>&gt;<i> internal merges? &#160;But it would always be ok for me to merge changesets
</I>&gt;<i> that aren't internal merges?
</I>&gt;<i>
</I>&gt;<i> Given that one can easily miss such an internal merge, am I right then
</I>&gt;<i> to assume that the safest way of contributing would be to delay
</I>&gt;<i> committing my own changes to my tree? &#160;I.e. I should rather maintain
</I>&gt;<i> some sort of patch queue and &quot;rebase&quot; to be on the safe side and
</I>&gt;<i> coordinate with you when it's time to actually commit my patches so
</I>&gt;<i> that you can pull them right away before potentially breaking stuff
</I>&gt;<i> with an intermittent internal merge? &#160;I'm not quite sure I fully
</I>&gt;<i> understand all the limitations of your current environment. &#160;I'm just
</I>&gt;<i> trying to find the safest, most straightforward development workflow,
</I>&gt;<i> and my impression so far is that contributing is a little tricky.
</I>&gt;<i>
</I>&gt;<i> Please let me know if you have found an easier workflow that is always
</I>&gt;<i> safe to apply without having to e.g. eyeball incoming changesets.
</I>&gt;<i> Btw., is my fork still in good order for you? &#160;Just making sure you
</I>&gt;<i> can actually merge it...
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> Markus
</I>&gt;<i>
</I>&gt;<i> On Sun, May 13, 2012 at 3:57 PM, Yury Sulsky &lt;<A HREF="http://lists.ocaml.org/listinfo/core">yury.sulsky at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> Hi Markus,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The issue is that, since the repo is a subset of our internal tree, some
</I>&gt;&gt;<i> information is lost when merges of internal revisions are done in the
</I>&gt;&gt;<i> bitbucket repo. It's safest to not pull in merge nodes at all, but to be
</I>&gt;&gt;<i> precise, as long as the incoming merge nodes are descending from a single
</I>&gt;&gt;<i> revision that has already been pulled in, it's okay.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> In this case, if all of the incoming revisions are descending from Ron's (or
</I>&gt;&gt;<i> my) changers, merge nodes are safe to pull.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On May 13, 2012 2:52 PM, &quot;Markus Mottl&quot; &lt;<A HREF="http://lists.ocaml.org/listinfo/core">markus.mottl at gmail.com</A>&gt; wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Hi,
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I just wondered whether it is deemed safe to merge the new patches in
</I>&gt;&gt;&gt;<i> your repository. &#160;Last time there were still outstanding issues with
</I>&gt;&gt;&gt;<i> accepting contributions from repositories that were merged with yours.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Regards,
</I>&gt;&gt;&gt;<i> Markus
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> --
</I>&gt;&gt;&gt;<i> Markus Mottl&#160; &#160; &#160; &#160; <A HREF="http://www.ocaml.info&#160;">http://www.ocaml.info&#160;</A> &#160; &#160; &#160; <A HREF="http://lists.ocaml.org/listinfo/core">markus.mottl at gmail.com</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Markus Mottl&#160; &#160; &#160; &#160; <A HREF="http://www.ocaml.info&#160;">http://www.ocaml.info&#160;</A> &#160; &#160; &#160; <A HREF="http://lists.ocaml.org/listinfo/core">markus.mottl at gmail.com</A>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000328.html">Merging repositories safe?
</A></li>
	<LI>Next message: <A HREF="000329.html">Merging repositories safe?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#327">[ date ]</a>
              <a href="thread.html#327">[ thread ]</a>
              <a href="subject.html#327">[ subject ]</a>
              <a href="author.html#327">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/core">More information about the core
mailing list</a><br>
</body></html>
