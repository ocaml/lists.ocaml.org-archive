<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Merging repositories safe?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:core%40lists.ocaml.org?Subject=Re%3A%20Merging%20repositories%20safe%3F&In-Reply-To=%3CCAEDxudzoLs7ypyd-w6bvq16%2BNCZ%3DkeNE4-dex-vUeYKg5HhoUg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001214.html">
   <LINK REL="Next"  HREF="001217.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Merging repositories safe?</H1>
    <B>Yury Sulsky</B> 
    <A HREF="mailto:core%40lists.ocaml.org?Subject=Re%3A%20Merging%20repositories%20safe%3F&In-Reply-To=%3CCAEDxudzoLs7ypyd-w6bvq16%2BNCZ%3DkeNE4-dex-vUeYKg5HhoUg%40mail.gmail.com%3E"
       TITLE="Merging repositories safe?">yury.sulsky at gmail.com
       </A><BR>
    <I>Mon May 14 00:46:30 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="001214.html">Merging repositories safe?
</A></li>
        <LI>Next message: <A HREF="001217.html">Merging repositories safe?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1215">[ date ]</a>
              <a href="thread.html#1215">[ thread ]</a>
              <a href="subject.html#1215">[ subject ]</a>
              <a href="author.html#1215">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi Markus,

On Sun, May 13, 2012 at 6:32 PM, Markus Mottl &lt;<A HREF="http://lists.ocaml.org/listinfo/core">markus.mottl at gmail.com</A>&gt; wrote:
&gt;<i> Let me rephrase that to make sure I understand: if I clone your tree,
</I>&gt;<i> make and commit some changes to my tree, and pull again from you, I
</I>&gt;<i> should never merge if the incoming changesets contain one of your
</I>&gt;<i> internal merges? &#160;But it would always be ok for me to merge changesets
</I>&gt;<i> that aren't internal merges?
</I>
That's almost right, but the problem isn't restricted to internal
merge nodes. For any two incoming changesets, if they are descending
from different internal revisions, they can only be merged safely in
the internal tree.

&gt;<i> Given that one can easily miss such an internal merge, am I right then
</I>&gt;<i> to assume that the safest way of contributing would be to delay
</I>&gt;<i> committing my own changes to my tree? &#160;I.e. I should rather maintain
</I>&gt;<i> some sort of patch queue and &quot;rebase&quot; to be on the safe side and
</I>&gt;<i> coordinate with you when it's time to actually commit my patches so
</I>&gt;<i> that you can pull them right away before potentially breaking stuff
</I>&gt;<i> with an intermittent internal merge? &#160;I'm not quite sure I fully
</I>&gt;<i> understand all the limitations of your current environment. &#160;I'm just
</I>&gt;<i> trying to find the safest, most straightforward development workflow,
</I>&gt;<i> and my impression so far is that contributing is a little tricky.
</I>
Pulling in merge nodes is always tricky because it requires knowing
which changesets we have already converted to our internal tree. So I
would say that the best approach is to simply avoid pulling from our
tree until we've merged in your changesets. Then merge nodes are fine,
because they will all be descending from a single internal revision.

&gt;<i> Please let me know if you have found an easier workflow that is always
</I>&gt;<i> safe to apply without having to e.g. eyeball incoming changesets.
</I>&gt;<i> Btw., is my fork still in good order for you? &#160;Just making sure you
</I>&gt;<i> can actually merge it...
</I>
I'm merging in your pull request (56aabace38ce) right now. Outside of
that, your tree has one merge node (90256188e5fd), but that one should
be fine to pull in.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001214.html">Merging repositories safe?
</A></li>
	<LI>Next message: <A HREF="001217.html">Merging repositories safe?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1215">[ date ]</a>
              <a href="thread.html#1215">[ thread ]</a>
              <a href="subject.html#1215">[ subject ]</a>
              <a href="author.html#1215">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/core">More information about the core
mailing list</a><br>
</body></html>
