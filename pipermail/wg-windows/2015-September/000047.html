<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [wg-windows] Problem (and fix) with Unix.create_process	in	windows
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:wg-windows%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-windows%5D%20Problem%20%28and%20fix%29%20with%20Unix.create_process%0A%09in%09windows&In-Reply-To=%3CE51C5B015DBD1348A1D85763337FB6D9E9E39BF7%40Remus.metastack.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000046.html">
   <LINK REL="Next"  HREF="000048.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[wg-windows] Problem (and fix) with Unix.create_process	in	windows</H1>
    <B>David Allsopp</B> 
    <A HREF="mailto:wg-windows%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-windows%5D%20Problem%20%28and%20fix%29%20with%20Unix.create_process%0A%09in%09windows&In-Reply-To=%3CE51C5B015DBD1348A1D85763337FB6D9E9E39BF7%40Remus.metastack.local%3E"
       TITLE="[wg-windows] Problem (and fix) with Unix.create_process	in	windows">dra-news at metastack.com
       </A><BR>
    <I>Tue Sep  1 21:33:22 BST 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000046.html">[wg-windows] Problem (and fix) with Unix.create_process in	windows
</A></li>
        <LI>Next message: <A HREF="000048.html">[wg-windows] Problem (and fix) with Unix.create_process in	windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47">[ date ]</a>
              <a href="thread.html#47">[ thread ]</a>
              <a href="subject.html#47">[ subject ]</a>
              <a href="author.html#47">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>That&#8217;s all great information to include in code/commit comments with any patches (links to bug tracker reports can be useful as well). The key thing with changes like this is to have as much pertinent info included as possible as to why the change was made so that future issues/changes can avoid hopefully regressions.


David

From: wg-windows [mailto:<A HREF="http://lists.ocaml.org/listinfo/wg-windows">wg-windows-bounces at lists.ocaml.org</A>] On Behalf Of Leonardo Laguna Ruiz
Sent: 01 September 2015 20:52
To: Daniel B&#252;nzli
Cc: <A HREF="http://lists.ocaml.org/listinfo/wg-windows">wg-windows at lists.ocaml.org</A>
Subject: Re: [wg-windows] Problem (and fix) with Unix.create_process in windows



I was curious about what Qt makes when calling a process, since we have used Qt in windows without problems when calling processes. Seems that they do exactly what my fix makes:

<A HREF="https://github.com/Vitallium/qt5/blob/master/qtbase/src/corelib/io/qprocess_win.cpp">https://github.com/Vitallium/qt5/blob/master/qtbase/src/corelib/io/qprocess_win.cpp</A>

I would assume that this change is safe and compatible since it has been in Qt for a while.

Leonardo

On 01 Sep 2015, at 15:20, Daniel B&#252;nzli &lt;<A HREF="http://lists.ocaml.org/listinfo/wg-windows">daniel.buenzli at erratique.ch</A>&lt;mailto:<A HREF="http://lists.ocaml.org/listinfo/wg-windows">daniel.buenzli at erratique.ch</A>&gt;&gt; wrote:
Le mardi, 1 septembre 2015 &#224; 14:01, Leonardo Laguna a &#233;crit :

Has anyone had these kind of problems?

Not yet.


Is is possible to get this change in the ocaml code?
This surely qualifies as bug. No escaping should be needed on Unix.create_process and whathever you give as arguments should end up in the sub process' Sys.argv as given. A mantis <A HREF="http://caml.inria.fr/mantis/">http://caml.inria.fr/mantis/</A> issue and a patch (possibly on github) are likely most welcome.

FWIW I have this link about the problem [1] I intended to study at a certain point. It might be worth giving it a read.

Best,

Daniel

[1] <A HREF="http://blogs.msdn.com/b/twistylittlepassagesallalike/archive/2011/04/23/everyone-quotes-arguments-the-wrong-way.aspx">http://blogs.msdn.com/b/twistylittlepassagesallalike/archive/2011/04/23/everyone-quotes-arguments-the-wrong-way.aspx</A>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ocaml.org/pipermail/wg-windows/attachments/20150901/12d5a6c0/attachment-0001.html">http://lists.ocaml.org/pipermail/wg-windows/attachments/20150901/12d5a6c0/attachment-0001.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000046.html">[wg-windows] Problem (and fix) with Unix.create_process in	windows
</A></li>
	<LI>Next message: <A HREF="000048.html">[wg-windows] Problem (and fix) with Unix.create_process in	windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47">[ date ]</a>
              <a href="thread.html#47">[ thread ]</a>
              <a href="subject.html#47">[ subject ]</a>
              <a href="author.html#47">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/wg-windows">More information about the wg-windows
mailing list</a><br>
</body></html>
