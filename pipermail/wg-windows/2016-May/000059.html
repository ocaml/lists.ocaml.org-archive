<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [wg-windows] Removing the OPAM system switch on Windows
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:wg-windows%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-windows%5D%20Removing%20the%20OPAM%20system%20switch%20on%20Windows&In-Reply-To=%3C001f01d1b98c%241c248350%24546d89f0%24%40metastack.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="000060.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[wg-windows] Removing the OPAM system switch on Windows</H1>
    <B>David Allsopp</B> 
    <A HREF="mailto:wg-windows%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-windows%5D%20Removing%20the%20OPAM%20system%20switch%20on%20Windows&In-Reply-To=%3C001f01d1b98c%241c248350%24546d89f0%24%40metastack.com%3E"
       TITLE="[wg-windows] Removing the OPAM system switch on Windows">dra-news at metastack.com
       </A><BR>
    <I>Sun May 29 10:25:58 BST 2016</I>
    <P><UL>
        
        <LI>Next message: <A HREF="000060.html">[wg-windows] Removing the OPAM system switch on Windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59">[ date ]</a>
              <a href="thread.html#59">[ thread ]</a>
              <a href="subject.html#59">[ subject ]</a>
              <a href="author.html#59">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>My attempts to produce a full port of OPAM for native Windows continue, even
if out-paced by the progress of a snail! I'm at present implementing support
required for opam switch (bootstrapping/installing FlexDLL, etc.).

For anyone who hasn't had the pleasure of using OPAM yet, by default OPAM
creates one compiler switch called &quot;system&quot; representing the OCaml compiler
already installed on your system (usually by your OS's package manager).
OPAM can install libraries for this switch, but it does not build a compiler
(because it's already there) and there's a certain amount of trickery
associated with things like ocamlfind (which may, or may not, be installed
using an OS package).

Given the lack of a single &quot;official&quot; way to install OCaml on Windows, and
the fact that several organisations already have home-grown methods to have
multiple compiler installations co-existing, I'm wondering in the Windows
case if the &quot;system&quot; switch is far more effort than it's worth. My feeling
is that it would be better for opam init to switch to the latest version of
OCaml. So, at present, that would mean opam init were equivalent to opam
init --bare &amp;&amp; opam switch 4.03.0. OPAM would never pay any attention to or
alter an installed system compiler, flexlink, etc. A keen user could choose
to install the system switch by manually creating it and installing the
ocaml.system package as its root.

Does anyone have any thoughts and/or opinions on why having the system
switch would be useful for native Windows too? It makes sense to keep it for
the Cygwin build of OPAM (naturally, since Cygwin has an OCaml package). The
only downside I can see at the moment is the delay it adds to opam init,
because building the compiler takes a while. 


David

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="000060.html">[wg-windows] Removing the OPAM system switch on Windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59">[ date ]</a>
              <a href="thread.html#59">[ thread ]</a>
              <a href="subject.html#59">[ subject ]</a>
              <a href="author.html#59">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/wg-windows">More information about the wg-windows
mailing list</a><br>
</body></html>
