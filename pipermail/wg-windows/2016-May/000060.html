<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [wg-windows] Removing the OPAM system switch on Windows
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:wg-windows%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-windows%5D%20Removing%20the%20OPAM%20system%20switch%20on%20Windows&In-Reply-To=%3C4608005.8tPCLeiKKn%40maitake%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000059.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[wg-windows] Removing the OPAM system switch on Windows</H1>
    <B>Louis Gesbert</B> 
    <A HREF="mailto:wg-windows%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-windows%5D%20Removing%20the%20OPAM%20system%20switch%20on%20Windows&In-Reply-To=%3C4608005.8tPCLeiKKn%40maitake%3E"
       TITLE="[wg-windows] Removing the OPAM system switch on Windows">louis.gesbert at ocamlpro.com
       </A><BR>
    <I>Mon May 30 11:17:44 BST 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="000059.html">[wg-windows] Removing the OPAM system switch on Windows
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60">[ date ]</a>
              <a href="thread.html#60">[ thread ]</a>
              <a href="subject.html#60">[ subject ]</a>
              <a href="author.html#60">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Le dimanche 29 mai 2016, 10:25:58 David Allsopp a &#233;crit :
&gt;<i>  I'm wondering in the Windows case if the &quot;system&quot; switch is far more effort 
</I>than it's worth. My feeling is that it would be better for opam init to switch 
to the latest version of OCaml.

We are actually having the same question on Linux at the moment (due to the 
conflicting constraints &quot;we don't want specific OCaml detection code in opam&quot; 
and &quot;we don't want dynamic packages&quot;), and might fall back to having one pre-
defined &quot;system&quot; compiler per OCaml version, defined in the repository, and 
that you need to select manually (like for e.g. llvm). The current alpha 
provides a semi-dynamic `ocaml.system` package defined in its repository, that 
polls the system; but this has some drawbacks, mainly due to the fact that the 
variable `ocaml-version` (i.e. `4.03.0`) can't be known in advance and is 
different from the version of the `ocaml` package (i.e. `system`), so we can't 
properly resolve full installations including the compiler.

&gt;<i>  So, at present, that would mean opam init were equivalent to opam
</I>&gt;<i> init --bare &amp;&amp; opam switch 4.03.0. OPAM would never pay any attention to or
</I>&gt;<i> alter an installed system compiler, flexlink, etc.
</I>
Or just `opam init --compiler=ocaml.4.03.0` ;  a discussion is ongoing to make 
that the default on Linux too, see once again the issue discussion at 
<A HREF="https://github.com/ocaml/opam/issues/2537">https://github.com/ocaml/opam/issues/2537</A>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000059.html">[wg-windows] Removing the OPAM system switch on Windows
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60">[ date ]</a>
              <a href="thread.html#60">[ thread ]</a>
              <a href="subject.html#60">[ subject ]</a>
              <a href="author.html#60">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/wg-windows">More information about the wg-windows
mailing list</a><br>
</body></html>
