<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [wg-windows] Improving the state of OCaml on Windows
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:wg-windows%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-windows%5D%20Improving%20the%20state%20of%20OCaml%20on%20Windows&In-Reply-To=%3Cbb6cff18f1e7ac723fa6f1879313f65a%40ygg-drasil.fr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000001.html">
   <LINK REL="Next"  HREF="000003.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[wg-windows] Improving the state of OCaml on Windows</H1>
    <B>Fr&#233;d&#233;ric Bour</B> 
    <A HREF="mailto:wg-windows%40lists.ocaml.org?Subject=Re%3A%20%5Bwg-windows%5D%20Improving%20the%20state%20of%20OCaml%20on%20Windows&In-Reply-To=%3Cbb6cff18f1e7ac723fa6f1879313f65a%40ygg-drasil.fr%3E"
       TITLE="[wg-windows] Improving the state of OCaml on Windows">frederic.bour at lakaban.net
       </A><BR>
    <I>Fri May 29 18:56:37 BST 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000001.html">[wg-windows] Improving the state of OCaml on Windows
</A></li>
        <LI>Next message: <A HREF="000003.html">[wg-windows] Improving the state of OCaml on Windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2">[ date ]</a>
              <a href="thread.html#2">[ thread ]</a>
              <a href="subject.html#2">[ subject ]</a>
              <a href="author.html#2">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

It's nice to have this list. I will share a few words about the state of 
Merlin in windows world.

We got some Merlin builds working under windows. The process relied on 
Jonathan's OCaml distribution, so we had a working version of 4.01 and 
beta version for 4.02.
The workflow is there, but has been untouched for a long time as we have 
no (apparent) users. If people are interested, I can revive test 
versions.

Also, the workflow might be of interest as it is deceptively simple:
1) We have a wine prefix with Jonathan's ocaml and relevant ocamlfind 
packages installed (all in a tarball, ready to be extracted).
2) Merlin is built under Linux using make and OCamlMakefile; we only 
prepend &quot;wine&quot; to invocation of ocaml tools. This produces an 
ocamlmerlin.exe without further work.
3) It's tested first under Unix, with native vim and emacs, once again 
only by prefixing the ocamlmerlin invocation with &quot;wine&quot; (and setting up 
wine vfs so that cmi files are found).
4) After that I tested on two windows machines, the binary was 
relocatable and could just be distributed standalone, following windows 
habits.

The main pain point was to get ocaml packages installed, the only 
dependency is yojson and it was installed by hacking makefiles a lot.
(Only changes needed to merlin were related to signals and handling of 
paths)

Fred

Le , Thomas Braibant a &#233;crit&#160;:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> Thanks for joining this working group. Its goal is to find out how to
</I>&gt;<i> improve the state of OCaml and its ecosystem on Windows.
</I>&gt;<i> 
</I>&gt;<i> Some of the tasks that we might address (this list is by no mean meant
</I>&gt;<i> to be exhaustive nor normative):
</I>&gt;<i> 
</I>&gt;<i> - Gather information from the community  about the use of the various
</I>&gt;<i> versions of OCaml available on Windows, and understand what kind of
</I>&gt;<i> environment people are working with. (BTW, I think a good way to get
</I>&gt;<i> the discussion rolling might be to describe each other's setup to use
</I>&gt;<i> OCaml on Windows.)
</I>&gt;<i> 
</I>&gt;<i> - Finalize OPAM support for Windows (this is listed on the OPAM 1.3
</I>&gt;<i> roadmap). When this support is in place, many OCaml packages should
</I>&gt;<i> work out of the box (with the proviso that many packages assume a
</I>&gt;<i> unix-ish environment for their build system).
</I>&gt;<i> 
</I>&gt;<i> - Discuss how to help package developers improve Windows support. One
</I>&gt;<i> way to do that could be to provide know-how about how to setup
</I>&gt;<i> continuous integration on services like Appveyor to check that
</I>&gt;<i> packages build on typical Windows setups.
</I>&gt;<i> 
</I>&gt;<i> - Find a solution for users of WODI, the GODI based OCaml distribution
</I>&gt;<i> for Windows, which has been shutdown. WODI was able to compile OCaml
</I>&gt;<i> related software (using Cygwin as an environment), but was also able
</I>&gt;<i> to install binary packages. (In some cases, some non-trivial patches
</I>&gt;<i> were applied to make package usable on Windows.) Some of the sources
</I>&gt;<i> needed to use WODI are still available, but the system does not work
</I>&gt;<i> out of the box now that the server has gone offline. With a little
</I>&gt;<i> work, we might be able to bring it back, to smooth the transition.
</I>&gt;<i> 
</I>&gt;<i> - Discuss the state of cross compilation to Windows.
</I>&gt;<i> 
</I>&gt;<i> - Advertise OCamlPro's OCPWin commercial effort. (I will leave Fabrice
</I>&gt;<i> tell a bit more about that.)
</I>&gt;<i> 
</I>&gt;<i> - Discuss how to pool resources (if needed) to work toward these
</I>&gt;<i> goals.
</I>&gt;<i> 
</I>&gt;<i> Many thanks to Anil and OcamlLabs for hosting this mailing list.
</I>&gt;<i> 
</I>&gt;<i> Thomas
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> wg-windows mailing list
</I>&gt;<i> <A HREF="http://lists.ocaml.org/listinfo/wg-windows">wg-windows at lists.ocaml.org</A>
</I>&gt;<i> <A HREF="http://lists.ocaml.org/listinfo/wg-windows">http://lists.ocaml.org/listinfo/wg-windows</A>
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000001.html">[wg-windows] Improving the state of OCaml on Windows
</A></li>
	<LI>Next message: <A HREF="000003.html">[wg-windows] Improving the state of OCaml on Windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2">[ date ]</a>
              <a href="thread.html#2">[ thread ]</a>
              <a href="subject.html#2">[ subject ]</a>
              <a href="author.html#2">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ocaml.org/listinfo/wg-windows">More information about the wg-windows
mailing list</a><br>
</body></html>
