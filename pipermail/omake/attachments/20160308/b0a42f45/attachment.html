<tt>
&lt;html&gt;&lt;head&gt;&lt;style&gt;body{font-family:Helvetica,Arial;font-size:13px}&lt;/style&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&quot;&gt;&lt;div&nbsp;id=&quot;bloop_customfont&quot;&nbsp;style=&quot;font-family:Helvetica,Arial;font-size:13px;&nbsp;color:&nbsp;rgba(0,0,0,1.0);&nbsp;margin:&nbsp;0px;&nbsp;line-height:&nbsp;auto;&quot;&gt;Thanks&nbsp;Gerd,&nbsp;I&nbsp;will&nbsp;do&nbsp;that&nbsp;for&nbsp;now.&nbsp;Creating&nbsp;a&nbsp;temporary&nbsp;file&nbsp;with&nbsp;omake’s&nbsp;tmpfile&nbsp;seems&nbsp;easy&nbsp;enough&nbsp;so&nbsp;I&nbsp;will&nbsp;do&nbsp;that.&lt;/div&gt;&nbsp;&lt;br&gt;&nbsp;&lt;div&nbsp;id=&quot;bloop_sign_1457413741697524992&quot;&nbsp;class=&quot;bloop_sign&quot;&gt;&lt;/div&gt;&nbsp;&lt;br&gt;&lt;p&nbsp;class=&quot;airmail_on&quot;&gt;On&nbsp;March&nbsp;7,&nbsp;2016&nbsp;at&nbsp;1:13:16&nbsp;PM,&nbsp;Gerd&nbsp;Stolpmann&nbsp;(&lt;a&nbsp;href=&quot;mailto:info@gerd-stolpmann.de&quot;&gt;info@gerd-stolpmann.de&lt;/a&gt;)&nbsp;wrote:&lt;/p&gt;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;clean_bq&quot;&gt;&lt;span&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;There&nbsp;is&nbsp;nothing&nbsp;at&nbsp;hand.&nbsp;Just&nbsp;read&nbsp;a&nbsp;little&nbsp;bit&nbsp;through&nbsp;the&nbsp;source<br>
&lt;br&gt;code:<br>
&lt;br&gt;<br>
&lt;br&gt;If&nbsp;you&nbsp;call&nbsp;$(shell)&nbsp;or&nbsp;$(shella),&nbsp;this&nbsp;goes&nbsp;straightly&nbsp;to<br>
&lt;br&gt;Omake_rule.eval_shell_output,&nbsp;which&nbsp;is&nbsp;calling&nbsp;eval_shell_exp.&nbsp;If&nbsp;the<br>
&lt;br&gt;exit&nbsp;code&nbsp;is&nbsp;not&nbsp;zero,&nbsp;an&nbsp;exception&nbsp;is&nbsp;raised.&nbsp;However,&nbsp;the&nbsp;exception&nbsp;is<br>
&lt;br&gt;just&nbsp;a&nbsp;generic&nbsp;one,&nbsp;and&nbsp;does&nbsp;not&nbsp;include&nbsp;the&nbsp;exit&nbsp;code&nbsp;in&nbsp;a&nbsp;way&nbsp;you&nbsp;can<br>
&lt;br&gt;use&nbsp;from&nbsp;omake&nbsp;code.<br>
&lt;br&gt;<br>
&lt;br&gt;If&nbsp;you&nbsp;call&nbsp;$(shell-code)&nbsp;the&nbsp;exception&nbsp;from&nbsp;eval_shell_exp&nbsp;is<br>
&lt;br&gt;suppressed,&nbsp;and&nbsp;the&nbsp;code&nbsp;is&nbsp;returned.<br>
&lt;br&gt;<br>
&lt;br&gt;Another&nbsp;observation&nbsp;is&nbsp;that&nbsp;eval_shell_output&nbsp;simply&nbsp;creates&nbsp;a&nbsp;temporary<br>
&lt;br&gt;file&nbsp;and&nbsp;saves&nbsp;the&nbsp;command&nbsp;output&nbsp;there.&nbsp;There&nbsp;seems&nbsp;to&nbsp;be&nbsp;no&nbsp;way&nbsp;to<br>
&lt;br&gt;directly&nbsp;read&nbsp;into&nbsp;a&nbsp;buffer.<br>
&lt;br&gt;<br>
&lt;br&gt;So,&nbsp;I'd&nbsp;say&nbsp;the&nbsp;way&nbsp;to&nbsp;go&nbsp;(for&nbsp;the&nbsp;time&nbsp;being)&nbsp;is&nbsp;to&nbsp;create&nbsp;a&nbsp;temp&nbsp;file<br>
&lt;br&gt;and&nbsp;redirect&nbsp;into&nbsp;this&nbsp;while&nbsp;using&nbsp;$(shell-code)&nbsp;to&nbsp;run&nbsp;the&nbsp;whole&nbsp;thing.<br>
&lt;br&gt;<br>
&lt;br&gt;Gerd<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;Am&nbsp;Samstag,&nbsp;den&nbsp;05.03.2016,&nbsp;19:22&nbsp;-0500&nbsp;schrieb&nbsp;rudi.grinberg@gmail.com:<br>
&lt;br&gt;&gt;&nbsp;Hello,<br>
&lt;br&gt;&gt;&nbsp;&nbsp;<br>
&lt;br&gt;&gt;&nbsp;&nbsp;<br>
&lt;br&gt;&gt;&nbsp;I’ve&nbsp;made&nbsp;good&nbsp;use&nbsp;of&nbsp;shell-code&nbsp;to&nbsp;execute&nbsp;commands&nbsp;and&nbsp;capture&nbsp;their<br>
&lt;br&gt;&gt;&nbsp;return&nbsp;code&nbsp;but&nbsp;now&nbsp;I’d&nbsp;like&nbsp;to&nbsp;capture&nbsp;their&nbsp;stdout&nbsp;(and&nbsp;stderr&nbsp;if<br>
&lt;br&gt;&gt;&nbsp;possible)&nbsp;as&nbsp;well,&nbsp;rather&nbsp;than&nbsp;have&nbsp;it&nbsp;dumped&nbsp;on&nbsp;the&nbsp;screen.<br>
&lt;br&gt;&gt;&nbsp;&nbsp;<br>
&lt;br&gt;&gt;&nbsp;&nbsp;<br>
&lt;br&gt;&gt;&nbsp;Is&nbsp;there&nbsp;a&nbsp;simple&nbsp;way&nbsp;to&nbsp;accomplish&nbsp;this?&nbsp;I’ve&nbsp;RTFM’d&nbsp;but&nbsp;could&nbsp;only<br>
&lt;br&gt;&gt;&nbsp;think&nbsp;of&nbsp;convoluted&nbsp;ways&nbsp;that&nbsp;involve&nbsp;file&nbsp;redirection.&nbsp;I’m&nbsp;probably<br>
&lt;br&gt;&gt;&nbsp;missing&nbsp;something&nbsp;simple.<br>
&lt;br&gt;&gt;&nbsp;&nbsp;<br>
&lt;br&gt;&gt;&nbsp;&nbsp;<br>
&lt;br&gt;&gt;&nbsp;Thanks,<br>
&lt;br&gt;&gt;&nbsp;&nbsp;<br>
&lt;br&gt;&gt;&nbsp;&nbsp;<br>
&lt;br&gt;&gt;&nbsp;Rudi.<br>
&lt;br&gt;&gt;&nbsp;&nbsp;<br>
&lt;br&gt;&gt;&nbsp;&nbsp;<br>
&lt;br&gt;&gt;&nbsp;_______________________________________________<br>
&lt;br&gt;&gt;&nbsp;Omake&nbsp;mailing&nbsp;list<br>
&lt;br&gt;&gt;&nbsp;Omake@lists.ocaml.org<br>
&lt;br&gt;&gt;&nbsp;http://lists.ocaml.org/listinfo/omake<br>
&lt;br&gt;<br>
&lt;br&gt;--&nbsp;&nbsp;<br>
&lt;br&gt;------------------------------------------------------------<br>
&lt;br&gt;Gerd&nbsp;Stolpmann,&nbsp;Darmstadt,&nbsp;Germany&nbsp;&nbsp;&nbsp;&nbsp;gerd@gerd-stolpmann.de<br>
&lt;br&gt;My&nbsp;OCaml&nbsp;site:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http://www.camlcity.org<br>
&lt;br&gt;Contact&nbsp;details:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http://www.camlcity.org/contact.html<br>
&lt;br&gt;Company&nbsp;homepage:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http://www.gerd-stolpmann.de<br>
&lt;br&gt;------------------------------------------------------------<br>
&lt;br&gt;<br>
&lt;br&gt;&lt;hr&gt;&lt;/div&gt;&lt;/div&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
